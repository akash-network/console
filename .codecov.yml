github_checks:
  annotations: true

coverage:
  status:
    project:
      default:
        target: auto
        branches:
          - main
        if_ci_failed: error
        informational: false
        only_pulls: false
      api:
        target: 80%
        flags:
          - api
      deploy-web:
        target: auto
        flags:
          - deploy-web
      indexer:
        target: 0%
        flags:
          - indexer
      notifications:
        target: 80%
        flags:
          - notifications
      provider-console:
        target: 0%
        flags:
          - provider-console
      provider-proxy:
        target: 80%
        flags:
          - provider-proxy
      stats-web:
        target: 0%
        flags:
          - stats-web
    patch:
      default:
        target: auto
        branches:
          - main
        if_ci_failed: error
        informational: false
        only_pulls: false
      api:
        target: 80%
        flags:
          - api
      deploy-web:
        target: 30%
        flags:
          - deploy-web
      indexer:
        target: 0%
        flags:
          - indexer
      notifications:
        target: 80%
        flags:
          - notifications
      provider-console:
        target: 0%
        flags:
          - provider-console
      provider-proxy:
        target: 80%
        flags:
          - provider-proxy
      stats-web:
        target: 0%
        flags:
          - stats-web

flags:
  api:
    paths:
      - apps/api/
  deploy-web:
    paths:
      - apps/deploy-web/
  indexer:
    paths:
      - apps/indexer/
  notifications:
    paths:
      - apps/notifications/
  provider-console:
    paths:
      - apps/provider-console/
  provider-proxy:
    paths:
      - apps/provider-proxy/
  stats-web:
    paths:
      - apps/stats-web/
