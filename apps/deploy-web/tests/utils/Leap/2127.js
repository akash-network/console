"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([[2127],{382127:(y,C,t)=>{t.r(C),t.d(C,{default:()=>w});var E=t(964266),A=t(206391),v=t.n(A),O=t(395516),T=t(896538),f=t(892742),R=t(94608),L=t(532833),e=t(202784),P=t(410289),g=t(856514),c=t(744259);function w(){const B=(0,P.TH)().state,m=(0,P.s0)(),{validators:s={},validatorAddress:r="",apy:I={},delegation:_={},reward:n,unstakingPeriod:h,activeChain:a,activeNetwork:l}=B,{headerChainImgSrc:S}=(0,L.Cd)(),{allAssets:U}=(0,E.zSw)(a,l),[M]=(0,E.JsT)(a,l),d=U?.find(D=>D.symbol===(M.coinDenom??"")),[o,i]=(0,e.useState)(),[k,u]=(0,e.useState)(!1),K=n?.reward?.reduce((D,p)=>D.plus(new(v())(p.currenyAmount??"")),new(v())("0")).toString(),W=(0,e.useCallback)(()=>{o?i(void 0):m(-1)},[m,o]);return e.createElement("div",{className:"relative w-[400px] overflow-clip"},e.createElement(f.Z,{header:e.createElement(T.m,{title:e.createElement(e.Fragment,null,e.createElement(R.Z,{size:"lg",className:"font-bold"},!o||o==="DELEGATE"?"Stake":"Unstake"," ",(0,E.kC2)((M.coinDenom??"").toLowerCase()))),imgSrc:S,action:{onClick:W,type:g.Y.BACK}})},e.createElement("div",{className:"flex flex-col p-7 mb-8 overflow-scroll"},!o&&e.createElement(c.Yp,{onClickClaimReward:()=>u(!0),onClickStake:()=>{i("DELEGATE")},onClickSwitchValidator:()=>{m("/stakeChooseValidator",{state:{validators:s,apy:I,mode:"REDELEGATE",unstakingPeriod:h,fromValidator:r,fromDelegation:_,activeChain:a,activeNetwork:l}})},onClickUnstake:()=>{i("UNDELEGATE")},activeChain:a,delegation:_,totalRewardsDollarAmt:K,totalRewardsTokens:n?.reward.length?`${d?.symbol??""}${(n?.reward.length??1)>1?` +${n?.reward.length-1} more`:""}`:"",validator:s[r]??{}}),o&&d?e.createElement(c._0,{mode:o,unstakingPeriod:h,toValidator:s[r],delegation:_,activeChain:a,token:d,activeNetwork:l}):null)),e.createElement(c.uh,{isOpen:k,onClose:()=>u(!1),validator:s[r],reward:n,forceChain:a,forceNetwork:l}),e.createElement(O.Z,{label:O.W.Stake}))}}}]);
