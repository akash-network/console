"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([[9148],{729148:(J,u,t)=>{t.r(u),t.d(u,{default:()=>N});var I=t(964266),D=t(564510),r=t(339279),H=t.n(r),M=t(492303),a=t(782877),O=t(128844),d=t(94608),l=t(164012),y=t(634680),P=t(625890),x=t(372149),A=t(905865),e=t(202784),p=t(553476),c=t(610675),B=t(861111),L=t(15815),R=t(472565),s=t.n(R),T=t(789405);function N(){const W=(0,x.p)(),g=(0,I.lfg)(),U=(0,p.Zl)(M.G),[K,_]=(0,e.useState)(!1),[n,S]=(0,e.useState)(null),b=n?.origin.replace("https://",""),z=(0,P.Af)(),{activeWallet:E,setActiveWallet:j}=(0,P.ZP)(),[f,G]=(0,e.useState)(!1),w=(0,e.useRef)(),Z=(0,y.N8)(),C=(0,A.a)(),v=async o=>{await s().storage.local.set({[l.u1]:{error:o}}),setTimeout(async()=>{await s().storage.local.remove([l.A_]),await s().storage.local.remove(l.u1),window.close()},10)},m=async()=>{await v("Rejected by the user.")};(0,e.useEffect)(()=>(window.addEventListener("beforeunload",m),s().storage.local.remove(l.u1),()=>{window.removeEventListener("beforeunload",m)}),[]);const h=(0,e.useMemo)(()=>n?g.filter(o=>o.chainId===n.chainInfo?.chainId)?.[0]?.chainRegistryPath||n.chainInfo?.chainRegistryPath:null,[g,n]);(0,e.useEffect)(()=>{s().storage.local.get([l.A_]).then(o=>{const i=o[l.A_];U({...W,[h]:i.chainInfo}),S(i),w.current=i.origin})},[]);const k=async()=>{await(0,D._vH)(200),_(!0);try{const o=await z(E,h,"UPDATE",n.chainInfo),i=await s().storage.local.get([l.Pw]),F={...JSON.parse(i[l.Pw]??"{}"),[h]:n.chainInfo};await s().storage.local.set({[l.Pw]:JSON.stringify(F)}),E&&(await(0,T.E)([n.chainInfo.chainId],[E.id],w.current??""),await j(o[E.id])),await Z(h),window.removeEventListener("beforeunload",m),await s().storage.local.set({[l.u1]:{data:"Approved",success:"Chain enabled"}}),setTimeout(async()=>{await s().storage.local.remove(l.u1),_(!1),window.close()},100)}catch{v("Something went wrong. Please try again."),_(!1)}};return e.createElement("div",{className:"flex justify-center items-center h-screen"},e.createElement("div",{className:"w-[400px] h-[600px] max-h-[600px]"},e.createElement("div",{className:"w-full h-1 rounded-t-2xl",style:{backgroundColor:c.w.cosmosPrimary}}),e.createElement("div",{className:"relative h-full flex flex-col justify-between items-center pt-4 pb-10 px-7"},e.createElement("div",{className:"flex flex-col items-center"},e.createElement(d.Z,{size:"lg",className:"font-bold mt-5"},"Adding network"),e.createElement(d.Z,{size:"xs",className:"font-bold text-center mt-[2px] max-w-[250px]",color:"text-gray-800 dark:text-gray-600 mb-2"},"This will allow this network to be used within"," ",(0,L.l)()?"Compass":"Leap"," Wallet."),e.createElement(r.GenericCard,{title:e.createElement("span",{className:"text-[15px] truncate"},n?.chainInfo?.chainName??""),subtitle:b,className:"py-8 my-5",img:e.createElement("img",{src:n?.chainInfo?.chainSymbolImageUrl??C,className:"h-10 w-10 mr-3",onError:(0,B._)(C)}),size:"sm",isRounded:!0}),e.createElement("div",{className:"flex flex-col gap-y-[10px] bg-white-100 dark:bg-gray-900 rounded-2xl p-4 w-full"},e.createElement(a.sr,null,"Network Name"),e.createElement(a.B4,null,n?.chainInfo?.chainName??""),a.iz,e.createElement(a.sr,null,"Network URL"),e.createElement(a.B4,null,n?.chainInfo?.apis?.rest||n?.chainInfo?.apis?.restTest||""),a.iz,e.createElement(a.sr,null,"Chain ID"),e.createElement(a.B4,null,n?.chainInfo?.chainId??""),a.iz,e.createElement(a.sr,null,"Currency Symbol"),e.createElement(a.B4,null,n?.chainInfo?.denom??""),f&&e.createElement(e.Fragment,null,a.iz,e.createElement(a.sr,null,"Coin Type"),e.createElement(a.B4,null,n?.chainInfo?.bip44.coinType??""),a.iz,e.createElement(a.sr,null,"Address Prefix"),e.createElement(a.B4,null,n?.chainInfo?.addressPrefix??""),a.iz,e.createElement(a.sr,null,"Chain Registry Path"),e.createElement(a.B4,null,n?.chainInfo?.chainRegistryPath??"")),e.createElement("button",{className:"text-sm font-bold text-gray-400 h-5 w-full text-left",style:{color:"#726FDC"},onClick:()=>G(!f)},f?"Show less":"Show more"))),e.createElement("div",{className:"w-full flex flex-col justify-center items-center box-border mt-4"},e.createElement("div",{className:"flex flex-row justify-between w-full"},e.createElement(r.Buttons.Generic,{style:{height:"48px",background:c.w.gray900,color:c.w.white100},onClick:m},"Reject"),e.createElement(r.Buttons.Generic,{style:{height:"48px",background:c.w.cosmosPrimary,color:c.w.white100},className:"ml-3 bg-gray-800",onClick:k},K?e.createElement(O.T,{color:c.w.white100}):"Approve"))))))}}}]);
