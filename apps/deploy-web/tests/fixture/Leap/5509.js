"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([[5509],{79782:(fe,F,t)=>{t.d(F,{Z:()=>Q});var v=t(339279),W=t.n(v),x=t(294184),H=t.n(x),R=t(676072),f=t(94608),I=t(840575),T=t(508181),s=t(202784),S=t(610675),Y=t(15815),ie=t(967112);function Q({onProceed:q}){const[G,e]=(0,s.useState)(!1),[A,h]=(0,s.useState)(null),[re,y]=(0,s.useState)(!0),me=(0,I.ck)(),[ee,C]=(0,s.useState)(""),[E,d]=(0,s.useState)({pass1:"",pass2:""}),[r,p]=(0,s.useState)({pass1:"",pass2:""}),u=(0,s.useCallback)(()=>(p({pass1:"",pass2:""}),E.pass1.length<8?(p(g=>({...g,pass1:"Password must be at least 8 characters"})),!1):!0),[E.pass1.length]),i=(0,s.useCallback)(()=>E.pass1!=E.pass2?(p(g=>({...g,pass2:"Passwords do not match"})),!1):!(r.pass1||r.pass2||!u()),[r.pass1,r.pass2,E.pass1,E.pass2,u]),M=async g=>{if(g){const P=(0,ie.j)(g);h(P)}else h(null)},w=async()=>{try{e(!0),await me(E.pass1),await q(E.pass1)}catch(g){C(g.message)}finally{e(!1)}},_=async g=>{g.preventDefault(),i()&&await w()},N=g=>{const{name:P,value:le}=g.target;ee&&C(""),r[P]&&(delete r[P],p(r)),d({...E,[P]:le})},J=g=>{if(g.key.toLowerCase()==="enter"){const P=g.target;P.name==="pass2"&&i()&&w();const le=P.form,L=[...le].indexOf(P);le.elements[L+1].focus(),g.preventDefault()}},$=!!r.pass1||!!r.pass2||!E.pass1||!E.pass2;return(0,s.useEffect)(()=>{E.pass1.length!=0&&u()},[E.pass1,u]),(0,s.useEffect)(()=>{const g=setTimeout(()=>{M(E.pass1)},500);return()=>{clearTimeout(g)}},[E.pass1]),s.createElement("div",{className:"flex flex-row gap-x-[20px]"},s.createElement("div",{className:"flex flex-col w-[408px]"},s.createElement("div",{className:"flex flex-row gap-x-[12px]"},s.createElement("img",{src:T.r.Misc.LockFilled,width:"32",height:"32"}),s.createElement(f.Z,{size:"xxl",className:"font-medium"},"Choose a Password")),s.createElement(f.Z,{size:"md",color:"text-gray-400",className:"font-medium mb-[32px]"},"Use this password to unlock your wallet"),s.createElement("form",{onSubmit:_},s.createElement("div",{className:"relative flex flex-col gap-y-[20px]"},s.createElement(v.Input,{autoFocus:!0,placeholder:"Enter password",type:"password",name:"pass1",onKeyDown:J,value:E.pass1,isErrorHighlighted:!!r.pass1||!!r.pass2,onChange:N,"data-testing-id":"input-password"}),A!==null&&s.createElement("div",{className:"absolute flex justify-center items-center top-[1px] right-[40px] w-[80px] h-[45px] bg-white-100 dark:bg-gray-900"},A===4&&s.createElement(f.Z,{size:"md",color:"text-green-600 dark:text-green-300 px-5 font-bold"},"Strong"),A===3&&s.createElement(f.Z,{size:"md",color:"text-orange-500 dark:text-orange-300 px-5 font-bold"},"Medium"),A<3&&s.createElement(f.Z,{size:"md",color:"text-red-300 dark:text-red-300 px-5 font-bold"},"Weak")),r.pass1&&s.createElement(f.Z,{size:"sm",color:"text-red-300"},r.pass1),s.createElement(v.Input,{name:"pass2",value:E.pass2,placeholder:"Re-enter password",type:"password",onKeyDown:J,isErrorHighlighted:!!r.pass2,onChange:N,"data-testing-id":"input-confirm-password"}),r.pass2&&s.createElement(f.Z,{size:"sm",color:"text-red-300","data-testing-id":"password-error-ele"},r.pass2)),s.createElement("div",{className:"w-[376px] h-auto rounded-xl dark:bg-gray-900 bg-white-100 flex items-center px-4 py-3 my-7"},s.createElement("img",{className:"mr-[16px]",src:T.r.Misc.Warning,width:"40",height:"40"}),s.createElement("div",{className:"flex flex-col gap-y-[2px]"},s.createElement(f.Z,{size:"sm",color:"text-gray-400 font-bold"},"Recommended security practice:"),s.createElement(f.Z,{size:"md",color:"font-bold text-gray-400 dark:text-white-100"},"Always choose a ",s.createElement("span",{className:"text-green-300"},"\xA0strong\xA0")," password"))),G?s.createElement(v.Buttons.Generic,{color:S.w.cosmosPrimary,type:"button",className:"flex items-center"},s.createElement(R.Z,null)):s.createElement(v.Buttons.Generic,{disabled:$||G||!re,color:S.w.cosmosPrimary,type:"submit","data-testing-id":"btn-password-proceed"},"Proceed"),ee&&s.createElement(f.Z,{size:"sm",color:"text-red-300 text-center justify-center w-[376px] mt-[5px]"},ee),s.createElement("div",{className:"flex flex-row items-center mt-6"},s.createElement("input",{type:"checkbox",id:"terms",name:"terms",value:"terms",className:"cursor-pointer mr-2 h-4 w-4 bg-black-50",checked:re,onChange:g=>y(g.target.checked)}),s.createElement(f.Z,{size:"md",color:"text-gray-400"},"By proceeding, you agree to our",s.createElement("a",{href:(0,Y.l)()?"https://compasswallet.io/terms":"https://www.leapwallet.io/terms",target:"_blank",rel:"noreferrer",className:H()("font-medium ml-1",{"text-indigo-300":!(0,Y.l)()}),style:(0,Y.l)()?{color:S.w.compassPrimary}:{}},"Terms of Use"))))),s.createElement("div",null,s.createElement("div",{className:"shrink flex-col gap-y-[4px] w-[408px] p-[32px] rounded-lg border-[1px] border-gray-800"},s.createElement(f.Z,{size:"md",className:"font-bold",color:"text-gray-200"}," ","Why do I need to enter a password?"),s.createElement(f.Z,{size:"sm",color:"text-gray-400 mb-[32px] font-medium mt-1"}," ","For your wallet protection, ",(0,Y.l)()?"Compass":"Leap"," locks your wallet after 15 minutes of inactivity. You will need this password to unlock it."),s.createElement(f.Z,{size:"md",className:"font-bold",color:"text-gray-200"}," ","Can I recover a password?"),s.createElement(f.Z,{size:"sm",color:"text-gray-400 font-medium mt-1"},"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!"))))}},126563:(fe,F,t)=>{t.d(F,{Z:()=>ee});var v=t(564510),W=t(339279),x=t.n(W),H=t(726089),R=t(360431),f=t.n(R),I=t(121273),T=t.n(I),s=t(593723),S=t(94608),Y=t(389320),ie=t(372149),Q=t(508181),q=t(378268),G=t(673708),e=t(202784),A=t(14080),h=t(15815),re=t(712878);const y=async({address:C,lcdUrl:E,chain:d})=>{try{return{balances:(await(0,v.F$d)({baseURL:E,method:"get",url:`/cosmos/bank/v1beta1/balances/${C}`})).data.balances??[],chain:d}}catch(r){return(0,H.Tb)(r),{balances:[],chain:d}}};function me({cosmosAddress:C,id:E,onClick:d,isExistingAddress:r,isChosen:p,hidden:u,showDerivationPath:i=!1,...M}){const w=(0,ie.p)(),_=(0,e.useRef)(new AbortController),{isLoading:N,error:J,data:$}=(0,R.useQuery)({queryKey:[C],refetchOnWindowFocus:!1,refetchOnReconnect:!0,queryFn:async()=>{const{words:L}=T().decode(C),m=Object.values(w).filter(l=>!l.beta&&!Y.CM.includes(l.chainId)).map(l=>{const c=T().encode(l.addressPrefix,L),O=(0,v.PqN)(w,l.key,!1);return O?y({address:c,lcdUrl:O,chain:l.key}):Promise.reject(new Error("No rest endpoint"))}),a=await Promise.allSettled(m),n=[];return a.forEach(l=>{if(l.status==="fulfilled"){const{balances:c,chain:O}=l.value;c.length>0&&c.some(({amount:k})=>Number(k)>0)&&n.push(O)}}),n}}),g=(0,h.l)()?Q.r.Misc.CompassCopied:Q.r.Misc.CheckBox,P=(0,e.useMemo)(()=>r?Q.r.Misc.CheckCircle:p?g:Q.r.Misc.CheckBoxOutlineBlank,[g,p,r]);(0,e.useEffect)(()=>{const L=_.current;return()=>L.abort()},[]);const le=(0,e.useMemo)(()=>(0,G.getWalletIconAtIndex)(E),[E]);return J&&(0,H.Tb)(J),e.createElement("div",{className:`rounded-xl w-[360px] shrink-0 ${u?"hidden":""}`},e.createElement(W.OnboardCard,{imgSrc:le,title:"Wallet "+(E+1),subTitle:e.createElement("div",{className:"flex items-center gap-2 mb-1"},i&&e.createElement(S.Z,{size:"xs",className:"font-medium py-1 px-[6px] rounded bg-gray-200 dark:bg-gray-800"},"0/'0/1"),(0,re.Hn)(C)),isRounded:!1,size:"lg",onClick:d,iconSrc:P,className:`w-full rounded-t-lg ${!N&&!$?"rounded-b-lg":""}`,...M}),!(0,h.l)()&&!J&&e.createElement(e.Fragment,null,e.createElement("div",{className:"h-[1px] bg-gray-100 dark:bg-gray-600"}),e.createElement("div",{className:"w-[360px] bg-white-100 dark:bg-gray-900 px-6 py-2 rounded-b-lg"},N?e.createElement(A.Z,{className:"light:bg-gray-200 bg-gray-800 z-0"}):$&&e.createElement("div",{className:"flex rounded-b-lg"},e.createElement("div",{className:"flex items-center"},$.slice(0,3).map(L=>e.createElement("img",{key:L,src:(0,q.getChainImage)(L),className:"block w-5 h-5 rounded-full shadow ml-1.5"})),$.length>3&&e.createElement(e.Fragment,null,e.createElement(s.Z,{content:e.createElement("li",{className:"list-none space-y-3 w-full"},$.slice(3).map(L=>e.createElement("ul",{key:L,className:"flex"},e.createElement("img",{src:(0,q.getChainImage)(L),className:"block w-5 h-5 rounded-full shadow mr-3"}),e.createElement(S.Z,{size:"sm",className:"capitalize"},v.oCA[L]?.chainName??L))))},e.createElement("div",{className:"relative cursor-pointer"},e.createElement(S.Z,{size:"xs",className:"ml-2 font-bold bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300 rounded-sm inline-block p-[2px]"},"+",$.length-3))))),e.createElement(S.Z,{size:"sm",className:"ml-4 text-gray-600 dark:text-gray-300"},"Funds on ",$.length," network",$.length>1?"s":"")))))}const ee=me},428814:(fe,F,t)=>{t.d(F,{k:()=>s});var v=t(964266),W=t(564510),x=t(395362),H=t(606367),R=t(965784),f=t(244876),I=t(202784),T=t(15815);function s(){const[S,Y]=(0,I.useState)(),ie=f.w.useImportMultipleWalletAccounts(),{chains:Q}=(0,v._IL)(),[q,G]=(0,I.useState)(""),e=f.w.useSaveLedgerWallet(),A=(0,I.useRef)();(0,I.useEffect)(()=>{if(!q){const d=R.W.CreateNewMnemonic();G(d)}},[q]);const h=d=>{A.current=d},re=(d,r,p,u)=>{if(d&&r)return ie({mnemonic:d,password:r,selectedAddressIndexes:Object.entries(p).filter(([,i])=>i).map(([i])=>parseInt(i)),type:u})},y=async(d,r)=>{if(d){const p=Object.entries(A.current??{}).filter(([,u])=>{const i=(0,T.l)()?"seiTestnet2":"cosmos";return r.indexOf(u[i].address)>-1}).reduce((u,i)=>{const[M,w]=i;return u[parseInt(M)]={chainAddresses:w},u},{});await e({addresses:p,password:d,pubKeys:(S??[]).map(u=>u.pubkey)})}},me=async d=>{const r=(0,T.l)()?"sei":"cosmos",p=await x.Kn.getWalletsFromMnemonic(d,5,"118",r);Y(p)};function ee(d,r){const p=Object.keys(r).map(i=>parseInt(i)),u={...r};for(const i of p)u[i]?u[i]={...u[i],...d[i]}:u[i]=d[i];return u}return{mnemonic:q,walletAccounts:S,getAccountDetails:me,getLedgerAccountDetails:async d=>{const r=(0,T.l)()?"seiTestnet2":"cosmos",p="injective",{primaryChainAccount:u,chainWiseAddresses:i}=await(0,W.hW4)([0,1,2,3,4],d,d?p:r,[],Q);Y(u.map((w,_)=>({address:w.address,pubkey:w.pubkey,index:_})));const M={};for(const[w,_]of Object.entries(i)){let N=0;for(const J of _)M[N]?M[N][w]=J:M[N]={[w]:J},N+=1}if(A.current){const w=ee(M,A.current);h(w)}else h(M)},onOnboardingComplete:re,onBoardingCompleteLedger:y,getEvmLedgerAccountDetails:async()=>{const r=(0,T.l)()?"seiTestnet2":"cosmos",p="injective",{chainWiseAddresses:u}=await(0,W.hW4)([0,1,2,3,4],!0,p,H.F3,Q),i={};for(const[M,w]of Object.entries(u)){let _=0;for(const N of w)i[_]?i[_][M]=N:i[_]={[M]:N},_+=1}if(A.current){const M=ee(i,A.current);h(M)}else h(i)}}}},865887:(fe,F,t)=>{t.d(F,{B:()=>W});var v=t(508181);const W={Keplr:{imgSrc:v.r.Logos.Keplr,title:"Keplr","data-testing-id":"",mixpanelMethod:"existing-keplr"},WalletIcon:{imgSrc:v.r.Misc.WalletIcon,title:void 0,"data-testing-id":"import-seed-phrase",mixpanelMethod:"existing-seed"},PrivateKey:{imgSrc:v.r.Misc.PkWallet,title:"Using a Private key","data-testing-id":"import-private-key",mixpanelMethod:"existing-pk"}}},135509:(fe,F,t)=>{t.r(F),t.d(F,{default:()=>L});var v=t(564510),W=t(395362),x=t(339279),H=t(294184),R=t.n(H),f=t(79782),I=t(676072),T=t(133525),s=t(94608),S=t(126563),Y=t(501937),ie=t(428814),Q=t(840575),q=t(702860),G=t(508181),e=t(202784),A=t(410289),h=t(610675),re=t(642706),y=t(15815),me=t(472565),ee=t.n(me);function C({heading:m,description:a,headingClassName:n,descriptionClassName:l}){return e.createElement(e.Fragment,null,e.createElement(C.Heading,{className:n},m),e.createElement(C.Description,{className:l},a))}C.Heading=function({children:a,className:n}){return e.createElement(s.Z,{size:"md",className:R()("font-bold text-gray-600 dark:text-gray-200 mt-1",n)},a)},C.Description=function({children:a,className:n}){return e.createElement(s.Z,{size:"sm",color:R()("font-medium text-gray-600 dark:text-gray-400",n)},a)};function E({walletName:m,isCosmostation:a}){return e.createElement(e.Fragment,null,e.createElement(C.Heading,null,"Where can I find my phrase?"),e.createElement(C.Description,null,e.createElement("ol",{className:"mb-[32px]"},e.createElement("li",null,"1. Open ",e.createElement("strong",null," ",m," extension ")),m==="Leap"?e.createElement(e.Fragment,null,e.createElement("li",null,"2. On top left, click on the ",e.createElement("strong",null," Hamburger icon ")),e.createElement("li",null,"3. Select show recovery phrase and enter your password and"," ",e.createElement("strong",null," view recovery phrase "))):e.createElement(e.Fragment,null,e.createElement("li",null,"2. On top ",a?"left":"right",", click on the"," ",e.createElement("strong",null," Profile icon ")),e.createElement("li",null,"3. Select ",a?"account settings":"wallet"," and click on the 3 dots and ",e.createElement("strong",null," view recovery phrase "))),e.createElement("li",null,"4. Copy and paste the recovery phrase to the field on the left."))))}var d=t(208847),r=t(94494),p=t(865887);function u(m,a,n,l){return(0,e.useMemo)(()=>n?G.r.Logos.Metamask:l?G.r.Misc.EvmWalletIcon:m?p.B.PrivateKey.imgSrc:p.B[a]?.imgSrc??G.r.Misc.WalletIcon,[n,l,m,a])}function i(m,a,n,l){return(0,e.useMemo)(()=>n?"Use private key to import your MetaMask wallet to generate the same EVM address as on MetaMask.":l?"Use private key to import your EVM wallet to generate the same EVM address as on the EVM wallet.":m?(0,y.l)()?"Use private key to import your MetaMask (or EVM) wallet to generate the same EVM address as on MetaMask (or EVM wallet).":"To import an existing wallet, please enter the private key here:":(0,y.l)()&&a.toLowerCase().trim()!=="leap"?"Importing a recovery phrase from MetaMask might give a different address, use private key instead.":`To import an existing ${a} wallet, please enter the recovery phrase here:`,[n,l,m,a])}function M(m,a,n,l){return(0,e.useMemo)(()=>{let c="Import";return n?c+=" via MetaMask":l?c+=" via EVM Wallet":m?c+=" via Private Key":a?c+=` ${a}`:a||(c+=" via Recovery Phrase"),c},[n,l,m,a])}function w({onProceed:m,walletName:a,secret:n,setSecret:l,isPrivateKey:c,privateKeyError:O,setPrivateKeyError:k,isMetamaskKey:te,isOtherEvmWallets:U}){const[z,X]=(0,e.useState)(O??""),oe=a==="Cosmostation";(0,e.useEffect)(()=>{O?.length&&X(O)},[O]);const b=o=>{X(""),k&&k(""),l(o)},ce=()=>{(0,r.b)({phrase:n,isPrivateKey:c,setError:X,setSecret:l})&&m()},de=u(c,a,te,U),ne=M(c,a,te,U),D=i(c,a,te,U);return e.createElement("div",{className:"flex flex-row overflow-scroll gap-x-[20px]"},e.createElement("div",{className:"flex flex-col w-[408px]"},e.createElement("img",{src:de,width:"36",height:"36"}),e.createElement(s.Z,{size:"xxl",className:"font-black mt-4"},ne),e.createElement(s.Z,{size:"md",color:"text-gray-600 dark:text-gray-400",className:"font-medium mb-[32px]"},D),c?e.createElement(x.TextArea,{autoFocus:!0,onChange:o=>b(o.target.value),value:n,isErrorHighlighted:!!z,placeholder:"Enter or Paste your private key","data-testing-id":"enter-phrase"}):e.createElement("div",{className:"w-[376px]"},e.createElement(d.W,{onChangeHandler:b,isError:!!z,heading:""})),z&&e.createElement(s.Z,{size:"sm",color:"text-red-300 mt-[16px]","data-testing-id":"error-text-ele"},z),e.createElement("div",{className:"w-[376px] h-auto rounded-xl dark:bg-gray-900 bg-white-100 flex items-center px-5 py-3 my-7"},e.createElement("img",{className:"mr-[16px]",src:G.r.Misc.Warning,width:"40",height:"40"}),e.createElement("div",{className:"flex flex-col gap-y-[2px]"},e.createElement(s.Z,{size:"sm",color:"text-gray-400 font-medium"},"Recommended security practice:"),e.createElement(s.Z,{size:"sm",color:"text-gray-400 dark:text-white-100 font-bold"},`It is always safer to type the ${c?"private key":"recovery phrase"} rather than pasting it.`))),e.createElement(x.Buttons.Generic,{disabled:!!z||!n,color:h.w.cosmosPrimary,onClick:ce,"data-testing-id":"btn-import-wallet"},"Import Wallet")),e.createElement("div",null,e.createElement("div",{className:"shrink flex-col gap-y-[4px] w-[408px] p-[32px] rounded-lg border-[1px] border-gray-800"},e.createElement(C,{heading:`What is a ${c?"private key":"recovery phrase"}?`,description:`${c?"A private key is like a password \u2014 a string of letters and numbers \u2014 ":"Recovery phrase is a 12 or 24-word phrase"} that can be used to restore your wallet.`,descriptionClassName:"mb-[32px]"}),a&&!c&&e.createElement(E,{walletName:a,isCosmostation:oe}),e.createElement(C,{heading:`Is it safe to enter it into ${(0,y.l)()?"Compass":"Leap"}?`,description:"Yes. It will be stored locally and never leave your device without your explicit permission."}))))}var _=t(912242),N=t(378268),J=t(673708);function $({onYes:m,onNo:a,onClose:n}){const{theme:l}=(0,x.useTheme)();return e.createElement("div",{className:"absolute w-full h-full flex items-center justify-center left-0 top-0 bg-[#0003] backdrop-blur-[10px] z-10"},e.createElement("div",{className:"w-[540px] bg-gray-950 rounded-3xl"},e.createElement("div",{className:"flex justify-between py-6 px-6 border-b border-gray-900"},e.createElement(s.Z,{className:"font-[700] text-[18px]"},"Cosmos import successful"),e.createElement("div",{className:"material-icons-round text-gray-500 cursor-pointer",onClick:n},"close")),e.createElement("div",{className:"flex flex-col items-center justify-center gap-4 mb-8 mt-11"},e.createElement("img",{src:J.CheckGreenNew,className:"height-[72px] width-[72px]"}),e.createElement(s.Z,{size:"lg",className:"font-bold text-center"},"Your Cosmos wallets can ",e.createElement("br",null)," now be used with Leap!")),e.createElement("div",{className:"h-[1px] bg-gray-900 w-full"}),e.createElement("div",{className:"flex flex-col items-center justify-center gap-3 mt-11 mb-7"},e.createElement("img",{src:N.LedgerEvmChains,className:"height-[32px] width-[88px]"}),e.createElement(s.Z,{size:"md",className:"text-center"},"You can now import your EVM based wallets to use ",e.createElement("br",null)," chains like Dymension, Evmos & Injective.")),e.createElement("div",{className:"flex gap-4 px-6 mb-6"},e.createElement(x.Buttons.Generic,{color:l===x.ThemeName.DARK?h.w.gray800:h.w.gray100,size:"normal",className:"w-full",onClick:a},e.createElement(s.Z,{color:"text-green-600"},"Skip")),e.createElement(x.Buttons.Generic,{color:h.w.green600,size:"normal",className:"w-full",onClick:m},"Import")),e.createElement("div",{className:"flex items-center justify-center text-center mb-8"},e.createElement(s.Z,{color:"text-gray-400 dark:text-gray-600 ",className:"font-medium"},"You can also import EVM wallets later."))))}function g({onProceed:m,accountsData:a,selectedIds:n,setSelectedIds:l,onEVMConnect:c}){const[O,k]=(0,e.useState)(""),[te,U]=(0,e.useState)(!1),[z,X]=(0,e.useState)([]),[oe,b]=(0,e.useState)(!1),[ce,de]=(0,e.useState)(!1);(0,e.useEffect)(()=>{(async()=>{const j=await W.Kn.getAllWallets(),se=[];for(const V of Object.values(j??{})){const Ee=(0,y.l)()?V.addresses.seiTestnet2:V.addresses.cosmos;se.push(Ee)}X(se)})()},[]);const ne=()=>(k(""),Object.values(n).some(B=>B)?!0:(k("Please select at least one wallet"),!1)),D=()=>{U(!0),ne()&&m()},o=[],K=(0,e.useCallback)((B=void 0)=>(B==="custom"?o:a).map(({address:se,index:V})=>{const Ee=z.indexOf(se)>-1,pe=n[V];return e.createElement(S.Z,{"data-testing-id":V===0?"wallet-1":"",key:V,id:V,cosmosAddress:se,isChosen:pe,isExistingAddress:Ee,showDerivationPath:ce,onClick:()=>{if(!Ee){const ge=n;l(pe?{...ge,[V]:!1}:{...ge,[V]:!0})}}})}),[a,z,n,l,ce]);return e.createElement("div",{className:""},e.createElement(s.Z,{className:"text-[28px] font-black mb-3 justify-center"},"Select wallets"),e.createElement(s.Z,{size:"md",color:"text-gray-600 dark:text-gray-400",className:"font-bold mb-20 justify-center"},"Select all the wallets you want to import."),e.createElement("div",{className:"flex gap-6"},e.createElement("div",{className:"flex flex-col w-[408px] px-4"},e.createElement("div",{className:"relative"},e.createElement("div",{className:"select-wallets flex flex-col space-y-4  h-[470px] overflow-y-scroll pb-8 pr-3"},o?.length>0&&e.createElement(e.Fragment,null,e.createElement(s.Z,{className:"font-bold"},"Custom derivation path"),K("custom"),e.createElement(s.Z,{className:"font-bold"},"Default wallets")),K()),e.createElement("div",{className:"absolute h-10 w-full bottom-0 left-0 bg-gradient-to-t from-black-100 to-black-50"})),O&&e.createElement(s.Z,{size:"sm",color:"text-red-300 mt-[16px]"}," ",O),te?e.createElement(x.Buttons.Generic,{color:h.w.cosmosPrimary,type:"button",className:"flex items-center"},e.createElement(I.Z,null)):e.createElement(x.Buttons.Generic,{disabled:te||Object.values(n).filter(B=>B).length===0,color:h.w.cosmosPrimary,onClick:()=>{(0,y.l)()?D():b(!0)},"data-testing-id":"btn-select-wallet-proceed"},"Import")),e.createElement("div",null,e.createElement("div",{className:"shrink flex-col gap-y-[4px] w-[408px] p-[32px] rounded-lg border-[1px] dark:border-gray-800 border-gray-200"},e.createElement(s.Z,{size:"lg",className:"font-medium text-gray-600 dark:text-gray-200"}," ","Which wallets are displayed here?"),e.createElement(s.Z,{size:"md",color:"text-gray-600 dark:text-gray-400 mb-[32px]"}," ","Only wallets with transactions are imported."),e.createElement(s.Z,{size:"lg",className:"font-medium text-gray-600 dark:text-gray-200"}," ","Can I edit wallet details?"),e.createElement(s.Z,{size:"md",color:"text-gray-600 dark:text-gray-400"},"You can rename, add or remove wallets at any time.")))),oe&&e.createElement($,{onYes:()=>{c(),b(!1)},onNo:D,onClose:()=>b(!1)}))}var P=t(653865);function le({onProceed:m,accountsData:a,selectedIds:n,setSelectedIds:l}){const[c,O]=(0,e.useState)(""),[k,te]=(0,e.useState)(!1),[U,z]=(0,e.useState)([]),[X,oe]=(0,e.useState)(!1),b=()=>oe(D=>!D);(0,e.useEffect)(()=>{(async()=>{const o=await W.Kn.getAllWallets(),K=[];for(const B of Object.values(o??{})){const j=(0,y.l)()?B.addresses.seiTestnet2:B.addresses.cosmos;K.push(j)}z(K)})()},[]);const ce=()=>(O(""),Object.values(n).some(D=>D)?!0:(O("Please select at least one wallet"),!1)),de=()=>{te(!0),ce()&&m()},ne=(0,e.useMemo)(()=>a.map(({address:D,index:o})=>{const K=U.indexOf(D)>-1,B=n[o];return e.createElement(S.Z,{"data-testing-id":o===0?"wallet-1":"",key:o,id:o,hidden:X?!1:o>=2,cosmosAddress:D,isChosen:B,isExistingAddress:K,onClick:()=>{if(!K){const j=n;l(B?{...j,[o]:!1}:{...j,[o]:!0})}}})}),[a,U,n,l,X]);return e.createElement("div",{className:"flex flex-row gap-x-[20px]"},e.createElement("div",{className:"flex flex-col w-[408px]"},e.createElement("div",{className:"flex flex-row gap-x-[12px]"},e.createElement("img",{src:G.r.Misc.WalletIconWhite}),e.createElement(s.Z,{size:"xxl",className:"font-medium"},"Select wallets")),e.createElement(s.Z,{size:"lg",color:"text-gray-600 dark:text-gray-400",className:"font-light mb-[32px]"},"If you have used multiple accounts in your wallet, you can choose to import them here."),e.createElement("div",{className:"flex flex-col space-y-4"},ne),e.createElement("div",{className:"mt-4"},X?e.createElement("button",{title:"Show Less",className:R()("outline-none pr-2 rounded font-bold focus:ring-1 flex items-center justify-around space-x-2",{"focus:ring-mainChainTheme-400":!(0,y.l)(),"text-mainChainTheme-400":!(0,y.l)(),"focus:ring-compassChainTheme-400":(0,y.l)(),"text-compassChainTheme-400":(0,y.l)()}),onClick:b},e.createElement("span",{className:"material-icons-round"},"expand_less"),e.createElement("span",null,"Show Less Wallets")):e.createElement("button",{title:"Show More",className:R()("outline-none pr-2 rounded font-bold focus:ring-1 flex items-center justify-around space-x-2",{"focus:ring-mainChainTheme-400":!(0,y.l)(),"text-mainChainTheme-400":!(0,y.l)(),"focus:ring-compassChainTheme-400":(0,y.l)(),"text-compassChainTheme-400":(0,y.l)()}),onClick:b},e.createElement("span",{className:"material-icons-round"},"expand_more"),e.createElement("span",null,"Show More Wallets"))),c&&e.createElement(s.Z,{size:"sm",color:"text-red-300 mt-[16px]"}," ",c),e.createElement("div",{className:"pt-[32px]"}),k?e.createElement(x.Buttons.Generic,{color:h.w.cosmosPrimary,type:"button",className:"flex items-center"},e.createElement(I.Z,null)):e.createElement(x.Buttons.Generic,{disabled:k||Object.values(n).filter(D=>D).length===0,color:h.w.cosmosPrimary,onClick:de,"data-testing-id":"btn-select-wallet-proceed"},"Proceed")),e.createElement("div",null,e.createElement("div",{className:"shrink flex-col gap-y-[4px] w-[408px] p-[32px] rounded-lg border-[1px] dark:border-gray-800 border-gray-200"},e.createElement(s.Z,{size:"lg",className:"font-medium text-gray-600 dark:text-gray-200"}," ","Which wallets are displayed here?"),e.createElement(s.Z,{size:"md",color:"text-gray-600 dark:text-gray-400 mb-[32px]"}," ","Only wallets with transactions are imported."),e.createElement(s.Z,{size:"lg",className:"font-medium text-gray-600 dark:text-gray-200"}," ","Can I edit wallet details?"),e.createElement(s.Z,{size:"md",color:"text-gray-600 dark:text-gray-400"},"You can rename, add or remove wallets at any time."))))}function L(){const m=(0,q.Z)().get("walletName")??void 0,a=["hardwarewallet","evmhardwarewallet"].includes(m||""),n=m?.toLowerCase().includes("metamask"),l=m?.toLowerCase().includes("evm wallets"),c=m?.toLowerCase().includes("private")||n||l,{noAccount:O}=(0,Y.aC)(),[k,te]=(0,e.useState)(""),[U,z]=(0,e.useState)({}),[X,oe]=(0,e.useState)(""),b=(0,Q.iJ)(),[ce,de]=(0,e.useState)(!1),[ne,D]=(0,e.useState)(!1),[o,K]=(0,e.useState)(1),[B,j]=(0,e.useState)(P.T.step0),se=(0,A.s0)(),V=4,[Ee,pe]=(0,e.useState)(""),{walletAccounts:ge,getAccountDetails:Me,getLedgerAccountDetails:ve,onOnboardingComplete:Pe,onBoardingCompleteLedger:Oe,getEvmLedgerAccountDetails:De}=(0,ie.k)(),xe=async Z=>{try{de(!0),a?await Oe(Z,Object.entries(U).filter(([,ae])=>ae).map(([ae])=>ge?.find(ye=>ye.index.toString()===ae)?.address)):await Pe(k,Z,c?{0:!0}:U,"import"),b||await ue(),Z&&ee().runtime.sendMessage({type:"unlock",data:{password:Z}})}catch(ae){if(ae.message.trim()==="Wallet already present")throw ae}finally{de(!1)}},ue=async()=>{if(o+1===V&&se("/onboardingSuccess"),o===1&&c&&b){await xe(b),se("/onboardingSuccess");return}if(o+1===2&&c&&!b)K(o+2);else if(o===2&&!O){try{await xe(b)}catch{}se("/onboardingSuccess")}else K(o+1)},we=()=>{o===3&&c?K(o-2):o>1?K(o-1):se(-1)},be=async()=>{if(c)try{await ue()}catch(Z){pe(Z.message.trim())}else{const Z=(0,re.Z)(k);Me(Z).then(ue)}},he=async Z=>{if(a)try{oe(""),j(P.T.step2),await Z(!1),j(P.T.step3),await ue()}catch{j(P.T.step1)}};if((0,e.useEffect)(()=>{let Z;const ae=async()=>{(0,v.qn$)("Cosmos").then(ye=>{ye?(j(P.T.step1),clearTimeout(Z)):Z=setTimeout(async()=>{await ae()},1e3)})};a&&ae()},[a]),ce)return e.createElement(T.Z,{titleComponent:e.createElement("div",{className:"flex flex-row w-[836px] items-center justify-between align-"},e.createElement(x.Buttons.Back,{isFilled:!0,onClick:we}),e.createElement(x.ProgressBar,{color:h.w.cosmosPrimary,currentStep:o,totalSteps:V}),e.createElement("div",null))},e.createElement("div",{className:"mt-72"},e.createElement(I.Z,null)));const Ce=o===1&&a||ne;return e.createElement(T.Z,{titleComponent:e.createElement("div",{className:"flex flex-row w-[836px] items-center justify-between align-"},e.createElement(x.Buttons.Back,{isFilled:!0,onClick:we}),e.createElement(x.ProgressBar,{color:h.w.cosmosPrimary,currentStep:o,totalSteps:V}),e.createElement("div",null))},o===1&&!a&&e.createElement(w,{secret:k,setSecret:te,walletName:m,onProceed:be,isPrivateKey:c,privateKeyError:Ee,setPrivateKeyError:pe,isMetamaskKey:n,isOtherEvmWallets:l}),Ce&&o!==3&&e.createElement(_.Z,{retry:()=>he(ve),error:X,onNext:async()=>{ne?await he(De):(await he(ve),(0,y.l)()||D(!1))},onSkip:ue,status:B,isEvmLedger:ne}),o===2&&!a&&e.createElement(le,{selectedIds:U,setSelectedIds:z,accountsData:ge,onProceed:ue}),o===2&&a&&!Ce&&e.createElement(g,{selectedIds:U,setSelectedIds:z,accountsData:ge,onProceed:ue,onEVMConnect:()=>{oe(""),j(P.T.step1),D(!0)}}),o===3&&!b&&e.createElement(f.Z,{onProceed:xe}))}},967112:(fe,F,t)=>{t.d(F,{j:()=>f});var v=t(775667),W=t(610054),x=t(310693),H=t(756658);const R={dictionary:{...W.Z.dictionary,...H.Z.dictionary,...x.Z.dictionary},graphs:W.Z.adjacencyGraphs,useLevenshteinDistance:!0,translations:H.Z.translations};v.Mu.setOptions(R);const f=I=>(0,v.tu)(I).score}}]);
