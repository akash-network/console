"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([[4259],{86211:(De,oe,n)=>{n.d(oe,{K:()=>ye});var a=n(964266),_=n(564510),w=n(339279),ce=n.n(w),S=n(240483),m=n(202784),b=n(410289),V=n(610675);const Ee=({isOpen:X,tokenAmount:I,feeAmount:B,setAmount:f,nativeDenom:Q,onAdjust:z,onCancel:e,onBack:me})=>{const{theme:fe}=(0,w.useTheme)(),J=(0,m.useMemo)(()=>(0,a.ww6)({tokenAmount:I,feeAmount:B,nativeDenom:Q}),[B,Q,I]),pe=(0,m.useCallback)(()=>{J?(f(J),z()):e()},[z,e,f,J]),xe=(0,m.useMemo)(()=>`${(0,_.TGo)(I,Q?.coinDecimals??6)} ${Q?.coinDenom??""}`,[Q?.coinDecimals,Q?.coinDenom,I]),te=(0,m.useMemo)(()=>J?`${J} ${Q?.coinDenom??""}`:null,[Q?.coinDenom,J]);return m.createElement(S.Z,{isOpen:X,title:"Adjust for Transaction Fees",closeOnBackdropClick:!0,onClose:e,onActionButtonClick:me,containerClassName:"!max-h-[600px]",contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6"},m.createElement("p",{className:"text-gray-200 font-medium mb-6"},"Confirming this transaction may leave you with insufficient ",Q?.coinDenom??""," ","balance for future transaction fees."),m.createElement("div",{className:"rounded-2xl p-4 dark:bg-gray-900 bg-gray-50 mb-6"},m.createElement("p",{className:"text-sm text-white-100 font-bold mb-4"},"Should we auto-adjust the amount?"),m.createElement("div",{className:"flex items-center rounded-xl p-4 dark:bg-gray-850 bg-gray-100 gap-4"},m.createElement("div",{className:"flex-1 text-right text-sm text-white-100 font-bold"},xe),m.createElement("div",{className:"material-icons-round text-gray-400 !text-lg"},"east"),m.createElement("div",{className:"flex-1 text-sm text-green-500 font-bold"},te))),m.createElement("div",{className:"flex items-center gap-6"},m.createElement(w.Buttons.Generic,{color:fe===w.ThemeName.DARK?V.w.gray900:V.w.gray300,size:"normal",className:"w-full",title:"Don't adjust",onClick:e},"Cancel"),m.createElement(w.Buttons.Generic,{color:V.w.green600,size:"normal",className:"w-full",title:"Proceed",onClick:pe},"Proceed")))},he=({isOpen:X,tokenAmount:I,tokenBalance:B,feeAmount:f,setAmount:Q,nativeDenom:z,onAdjust:e,onCancel:me})=>{const{theme:fe}=(0,w.useTheme)(),J=(0,m.useMemo)(()=>(0,a.ww6)({tokenAmount:B,feeAmount:f,nativeDenom:z}),[f,z,I]),pe=(0,m.useCallback)(()=>{J?(Q(J),e()):me()},[e,me,Q,J]),xe=(0,m.useMemo)(()=>`${(0,_.TGo)(I,z?.coinDecimals??6)} ${z?.coinDenom??""}`,[z?.coinDecimals,z?.coinDenom,I]),te=(0,m.useMemo)(()=>J?`${J} ${z?.coinDenom??""}`:null,[z?.coinDenom,J]);return m.createElement(S.Z,{isOpen:X,onClose:me,closeOnBackdropClick:!1,title:"Adjust for Transaction Fees",containerClassName:"!bg-white-100 dark:!bg-gray-950 !max-h-[600px]",contentClassName:"!bg-white-100 dark:!bg-gray-950",className:"p-6"},m.createElement("p",{className:"text-gray-200 font-medium mb-6"},"You seem to have insufficient ",z?.coinDenom??""," balance to pay transaction fees."),m.createElement("div",{className:"rounded-2xl p-4 dark:bg-gray-900 bg-gray-50 mb-6"},m.createElement("p",{className:"text-sm text-white-100 font-bold mb-4"},"Should we auto-adjust the amount?"),m.createElement("div",{className:"flex items-center rounded-xl p-4 dark:bg-gray-850 bg-gray-100 gap-4"},m.createElement("div",{className:"flex-1 text-right text-sm text-white-100 font-bold"},xe),m.createElement("div",{className:"material-icons-round text-gray-400 !text-lg"},"east"),m.createElement("div",{className:"flex-1 text-sm text-green-500 font-bold"},te))),m.createElement("div",{className:"flex items-center gap-6"},m.createElement(w.Buttons.Generic,{color:fe===w.ThemeName.DARK?V.w.gray900:V.w.gray300,size:"normal",className:"w-full",title:"Don't adjust",onClick:me},"Cancel"),m.createElement(w.Buttons.Generic,{color:V.w.green600,size:"normal",className:"w-full",title:"Proceed",onClick:pe},"Proceed")))},ye=({amount:X,setAmount:I,selectedToken:B,fee:f,setShowReviewSheet:Q,closeAdjustmentSheet:z,forceChain:e,forceNetwork:me})=>{const fe=(0,a.QSC)(e),J=(0,a.ZYP)(e,me),pe=(0,b.s0)(),xe=(0,a.X82)(),te=(0,m.useMemo)(()=>{if(fe.beta)return Object.values(fe.nativeDenoms)[0];const H=(0,a.QBt)(B.coinMinimalDenom,B.chain??"");return xe[H]},[fe.beta,fe.nativeDenoms,xe,B.chain,B.coinMinimalDenom]),i=(0,m.useCallback)(()=>{z(),Q(!0)},[z,Q]),Se=(0,m.useCallback)(()=>{z(),pe("/home")},[z,pe]),Ne=(0,m.useMemo)(()=>(0,_.hI1)(B?.amount??"0",te?.coinDecimals??6),[te?.coinDecimals,B?.amount]),p=(0,m.useMemo)(()=>(0,_.hI1)(X,te?.coinDecimals??6),[X,te?.coinDecimals]),ge=(0,m.useMemo)(()=>J({feeAmount:f.amount,feeDenom:f.denom,tokenAmount:p,tokenDenom:B.coinMinimalDenom,tokenBalance:Ne}),[f.amount,f.denom,B.coinMinimalDenom,J,p,Ne]);return(0,m.useEffect)(()=>{ge===a.S2X.NONE&&i()},[ge,i]),m.createElement(m.Fragment,null,m.createElement(Ee,{isOpen:ge===a.S2X.OPTIONAL,nativeDenom:te,tokenAmount:p,feeAmount:f.amount,setAmount:I,onBack:z,onAdjust:i,onCancel:i}),m.createElement(he,{isOpen:ge===a.S2X.COMPULSORY,nativeDenom:te,tokenAmount:p,tokenBalance:Ne,feeAmount:f.amount,setAmount:I,onAdjust:i,onCancel:Se}))}},142035:(De,oe,n)=>{n.d(oe,{Z:()=>w});var a=n(202784),_=n(94608);function w({children:ce,textProps:S,readMoreColor:m}){const b=ce,[V,Ee]=(0,a.useState)(!0),he=()=>{Ee(!V)},ye=b&&b.length>150;return a.createElement("div",null,a.createElement(_.Z,{size:S.size,className:S.className,color:S.color},a.createElement("span",null,V&&ye?b.slice(0,150).trim()+"...":b)),ye&&a.createElement("span",{onClick:he,className:"hover:cursor-pointer font-bold",style:{color:m}},V?"Read more":"Show less"))}},489062:(De,oe,n)=>{n.d(oe,{X:()=>m});var a=n(964266),_=n(726089),w=n(202784);const ce="was submitted but was not yet found on the chain. You might want to check later. There was a wait of 60 seconds.",S="Reward is too low";function m(b){const{rpcUrl:V}=(0,a.U9i)();(0,w.useEffect)(()=>{if(b){if(b.includes(ce)||b.includes(S)||b.includes("You don't have enough"))return;_.Tb(`${b} - node: ${V}`)}},[b,V])}},300950:(De,oe,n)=>{n.d(oe,{$:()=>ce});var a=n(964266),_=n(202784),w=n(610675);const ce=S=>{const m=(0,a.a74)(),b=(0,_.useMemo)(()=>S||m,[S,m]),V=(0,a.QSC)(b);return w.w.getChainColor(b,V)}},744259:(De,oe,n)=>{n.d(oe,{jc:()=>J,JC:()=>xe,dy:()=>te,jA:()=>Je,CT:()=>Te,lX:()=>Ie,h4:()=>Re,Ec:()=>_e,BD:()=>Be,id:()=>Oe,Q0:()=>Ze,R1:()=>Ue,_0:()=>st,l$:()=>dt,yg:()=>je,av:()=>ut,u1:()=>Fe,Xd:()=>Ae,hj:()=>gt,fG:()=>We,bm:()=>Ke,Yp:()=>Et,S7:()=>He,tS:()=>Ye,uh:()=>ft});var a=n(964266),_=n(206391),w=n.n(_),ce=n(294184),S=n.n(ce),m=n(198652),b=n(395516),V=n(754699),Ee=n(896538),he=n(892742),ye=n(496128),X=n.n(ye),I=n(532833),B=n(428217),f=n(508181),Q=n(681),z=n(701743),e=n(202784),me=n(856514);const fe="mainnet";function J(){const[t,r]=(0,e.useState)(!1),[s,l]=(0,e.useState)(!1),{perChainDelegations:c,totalCurrencyAmountDelegation:o,averageApr:d,totalClaimRewardsAmount:g,isEveryChainLoading:x,isSomeChainLoading:E}=(0,a.s14)(),[u,y]=(0,e.useState)(""),[k,R]=(0,e.useState)(!1),[L]=(0,B.nB)(),Z=(0,a.DI5)(),[P,j]=(0,e.useState)(!0),[h,F]=(0,e.useState)(!0),[q,ae]=(0,e.useState)("amount"),[A,$]=(0,e.useState)(null),{headerChainImgSrc:M}=(0,I.Cd)(),v=(0,e.useMemo)(()=>d?`${X()((d*100).toString(),{precision:2,symbol:""}).format()} %`:"-",[d]),N=(0,e.useMemo)(()=>{const D=u.trim().toLowerCase(),ee=Object.keys(c).reduce((C,O)=>O.toLowerCase().includes(D)||c[O].stakingDenom.toLowerCase().includes(D)?[...C,{...c[O],chain:O}]:C,[]);switch(q){case"apr":return ee.sort((C,O)=>P?O.apr-C.apr:C.apr-O.apr);case"amount":return ee.sort((C,O)=>h?Number(O.currencyAmountDelegation)-Number(C.currencyAmountDelegation):Number(C.currencyAmountDelegation)-Number(O.currencyAmountDelegation))}return ee},[c,u,h,P,q]),Y=(0,e.useCallback)(()=>l(!0),[]),U=(0,e.useCallback)(()=>r(!0),[]),G=(0,e.useCallback)(D=>$(D),[]),ne=(0,e.useCallback)(()=>$(null),[]);return A?e.createElement(Ue,{forceChain:A,forceNetwork:fe,showBackAction:!0,onBackClick:ne}):e.createElement("div",{className:"relative w-[400px] overflow-clip"},e.createElement(xe,null),e.createElement(z.ZP,{isShown:t,toggler:()=>r(!t)}),e.createElement(he.Z,{header:e.createElement(Ee.m,{title:"Staking",imgSrc:M,onImgClick:Y,action:{onClick:U,type:me.Y.NAVIGATION,className:"w-[48px] h-[40px] px-3 bg-[#FFFFFF] dark:bg-gray-950 rounded-full"}})},e.createElement("div",{className:"flex flex-col pt-[16px] px-[24px]"},k?e.createElement(m.SS,{handleClose:()=>{R(!1),y("")},handleChange:D=>y(D),value:u,placeholder:"Search staked tokens"}):e.createElement(e.Fragment,null,e.createElement("h1",{className:"flex items-center justify-between text-black-100 dark:text-white-100"},e.createElement("span",{className:"text-[24px] font-[700]"},"Stake"),e.createElement("button",{className:"bg-white-100 dark:bg-gray-950 w-[40px] h-[40px] rounded-full flex items-center justify-center",onClick:()=>R(!0)},e.createElement("img",{src:f.r.Misc.SearchWhiteIcon,className:"w-[24px] h-[24px] invert dark:invert-0"}))),e.createElement("div",{className:"bg-white-100 dark:bg-gray-950 border-[1px] border-solid border-gray-200 dark:border-gray-850 rounded-xl flex p-3 mb-4 mt-5"},e.createElement(te,{label:"Staked",value:L(o),className:"border-r-[1px] border-solid border-gray-200 dark:border-gray-850"}),e.createElement(te,{label:"Claimable",value:L(g),className:"border-r-[1px] border-solid border-gray-200 dark:border-gray-850"}),e.createElement(te,{label:"Avg APR",value:v}))),e.createElement("p",{className:"text-gray-800 dark:text-gray-200 text-[12px] text-[500] flex items-center justify-between mb-2 px-[12px]"},e.createElement("span",{className:"block w-[150px]"},"Tokens"),e.createElement("button",{className:"flex items-center justify-between gap-1",onClick:()=>{j(!P),ae("apr")}},"APR",q==="apr"&&e.createElement("div",{className:"material-icons-round !text-[16px] text-black-100 dark:text-white-100"},P?"expand_more":"expand_less")),e.createElement("button",{className:"w-[90px] text-right flex items-center justify-end gap-1",onClick:()=>{F(!h),ae("amount")}},"Amount",q==="amount"&&e.createElement("div",{className:"material-icons-round !text-[16px] text-black-100 dark:text-white-100"},h?"expand_more":"expand_less"))),e.createElement("div",{className:S()("overflow-y-auto",{"max-h-[360px]":k,"max-h-[268px]":!k})},e.createElement("div",{className:"flex flex-col gap-3"},x?e.createElement(e.Fragment,null,e.createElement(m.p4,null),e.createElement(m.p4,null)):null,x?null:N.length>0?e.createElement(e.Fragment,null,N.map(D=>{const{totalDelegationAmount:ee,currencyAmountDelegation:C,stakingDenom:O,apr:se,chain:W}=D,K=se?`${X()((se*100).toString(),{precision:2,symbol:""}).format()} %`:"-";return e.createElement(gt,{key:W,tokenName:O,chainName:Z[W].chainName,chainLogo:Z[W].chainSymbolImageUrl??"",apr:K,dollarAmount:L(new(w())(C)),amount:ee,onClick:()=>G(W)})})):e.createElement(V.S,{isRounded:!0,subHeading:"Please try again with something else",heading:"No results for \u201C"+(0,a.jrB)(u)+"\u201D",src:f.r.Misc.Explore,classname:"dark:!bg-gray-950",imgContainerClassname:"dark:!bg-gray-900"}),E&&!k?e.createElement("div",{className:"rounded-xl dark:bg-gray-950 bg-white-100"},e.createElement(m.p4,null)):null)))),e.createElement(Q.Z,{isVisible:s,onClose:()=>l(!1)}),e.createElement(b.Z,{label:b.W.Stake}))}const pe=e.memo(function({chain:t,setAggregatedStake:r}){return(0,a.xzI)(t,r),e.createElement(e.Fragment,null)});pe.displayName="FetchChainStake";const xe=e.memo(function(){const{setAggregatedStake:t}=(0,a.$xd)();return e.createElement(m.ox,{setAggregatedStore:t,render:({key:r,chain:s,setAggregatedStore:l})=>e.createElement(pe,{key:r,chain:s,setAggregatedStake:l})})});xe.displayName="AggregatedStakeNullComponents";function te({label:t,value:r,className:s}){return e.createElement("div",{className:S()("flex flex-col gap-1 items-center flex-1",s)},e.createElement("h3",{className:"text-gray-600 dark:text-gray-400 text-[12px]"},t),e.createElement("p",{className:"text-black-100 dark:text-white-100 font-[700]"},r))}var i=n(339279),Se=n(472415),Ne=n(142035),p=n(94608),ge=n(903049),H=n(610675);const Je=e.memo(({validator:t,unBoundingdelegation:r,activeChain:s,simulationError:l,onClick:c})=>{const[o]=(0,B.nB)(),d=(0,i.useTheme)().theme===i.ThemeName.DARK,{formatHideBalance:g}=(0,ge.Zh)();return e.createElement("div",null,e.createElement(Ie,{validator:t}),e.createElement("div",{className:"flex flex-col gap-y-4"},e.createElement(Te,{formatHideBalance:g,currencyAmountDelegation:o(new(w())(r.currencyBalance??"")),totalDelegations:r.formattedBalance??"",validatorName:(0,a.MDB)(t.moniker??t.name??"",18,3)}),e.createElement(i.Buttons.Generic,{onClick:c,color:d?H.w.gray950:H.w.white100,size:"normal",disabled:!!l,className:"w-[344px]"},e.createElement("div",{className:"flex justify-center dark:text-white-100 text-black-100  items-center"},e.createElement("span",{className:"mr-1 material-icons-round"},"do_not_disturb_off"),e.createElement("span",null,"Cancel Unstake"))),!!l&&e.createElement("div",{className:"flex text-center justify-center"},e.createElement(Se._,{text:l})),e.createElement(i.LineDivider,{size:"sm"})),e.createElement("div",{className:"rounded-[16px] my-[16px] items-center"},e.createElement(p.Z,{size:"sm",className:"p-[4px] font-bold ",color:"text-gray-600 dark:text-gray-200"},`About ${t.moniker??t.name??"Validator"}`),e.createElement("div",{className:"flex flex-col p-[4px]"},e.createElement(Ne.Z,{textProps:{size:"md",className:"font-medium  flex flex-column"},readMoreColor:H.w.getChainColor(s)},t.description?.details??""))))});Je.displayName="CancelUndelegationDetailsView";const Te=e.memo(({totalDelegations:t,currencyAmountDelegation:r,validatorName:s,formatHideBalance:l,renderingOnValidatorDetails:c})=>t?e.createElement("div",{className:"dark:bg-gray-950 rounded-2xl bg-white-100 pt-4"},t&&e.createElement(p.Z,{size:"xs",color:"dark:text-gray-400 text-gray-600",className:"font-bold mb-3 py-1 px-4"},"Your ",c?"deposited":"unstaking"," amount"," ",`(${s})`),t&&e.createElement("div",{className:"flex px-4 pb-4 justify-between items-center"},e.createElement("div",null,e.createElement(p.Z,{size:"xl",className:"text-[28px] mb-2 font-black"},l(r)),e.createElement(p.Z,{size:"xs",className:"font-semibold"},l(t))))):null);Te.displayName="CancelUndelegationDetailsViewAmountCard";var le=n(861111);const Ie=e.memo(({validator:t})=>{const{data:r}=(0,a.pD_)(t);return e.createElement("div",{className:"flex flex-col pb-4 gap-1"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("div",{className:"h-9 w-9 rounded-full overflow-clip border border-gray-400 shrink flex items-center justify-center"},e.createElement(i.Avatar,{size:"sm",avatarImage:r??t.image??f.r.Misc.Validator,avatarOnError:(0,le._)(f.r.Misc.Validator)})),e.createElement(p.Z,{size:"xxl",className:"font-black"},t.moniker??t.name)),e.createElement(p.Z,{size:"md",color:"dark:text-gray-300 text-gray-800",className:"font-bold"},`Staked: ${X()(t.delegations?.total_tokens_display,{precision:2,symbol:""}).format()} | Commission: ${X()((+(t.commission?.commission_rates.rate??"")*100).toString(),{precision:0,symbol:""}).format()+"%"}`))});Ie.displayName="CancelUndelegationDetailsViewHeading";function Re({children:t,title:r}){return e.createElement("div",{className:" dark:bg-gray-950 bg-white-100 rounded-[16px]  items-center"},e.createElement(p.Z,{size:"xs",className:"pl-[16px] pr-[16px] pt-[16px] font-bold",color:"text-gray-400"},r),t)}var ht=n(637299);const _e=e.memo(({validators:t,apys:r,searchfilter:s,fromValidator:l,delegation:c,onClickSortBy:o,setSearchfilter:d,setSelectedValidator:g,activeStakingCoinDenom:x})=>e.createElement(e.Fragment,null,!(l&&c)&&e.createElement(Be,{activeStakingCoinDenom:x}),e.createElement("div",{className:"flex flex-col gap-y-4 mb-8"},l&&c&&e.createElement(Oe,{fromValidator:l,delegation:c}),e.createElement("div",{className:"flex justify-between items-center"},e.createElement(ht.M,{divClassName:"w-[288px] flex h-10 bg-white-100 dark:bg-gray-950 rounded-[30px] py-2 pl-5 pr-[10px]",placeholder:"Search validators...",value:s,onChange:E=>d(E.target?.value),onClear:()=>d("")}),e.createElement("div",{onClick:o,className:"rounded-3xl h-10 w-10 cursor-pointer ml-3 justify-center items-center dark:bg-gray-950 bg-white-100"},e.createElement("span",{className:"material-icons-round  h-10 w-10 mt-2 text-center text-white-100"},"sort"))),t?.length===0?e.createElement(V.S,{isRounded:!0,subHeading:"Please try again with something else",heading:"No results for \u201C"+(0,a.jrB)(s)+"\u201D",src:f.r.Misc.Explore}):e.createElement(He,{onSelectValidator:g,validators:t,apys:r,activeStakingCoinDenom:x}))));_e.displayName="ChooseValidatorView";const Be=e.memo(({activeStakingCoinDenom:t})=>e.createElement("div",{className:"flex flex-col pb-6"},e.createElement(p.Z,{size:"xxl",className:"text-[28px] mb-1 font-black"},"Choose a Validator"),e.createElement(p.Z,{size:"sm",color:"dark:text-gray-400 text-gray-600",className:"font-bold"},"To delegate ","(stake)"," your ",t," token, please select a validator from the list of active validators below:")));Be.displayName="ChooseValidatorViewHeading";const Oe=e.memo(({fromValidator:t,delegation:r})=>{const{data:s}=(0,a.pD_)(t);return!t||!r?null:e.createElement("div",{className:"rounded-2xl dark:bg-gray-950 bg-white-100"},e.createElement(i.GenericCard,{img:e.createElement("img",{src:s??t.image??f.r.Misc.Validator,onError:(0,le._)(f.r.Misc.Validator),className:"rounded-full overflow-clip w-6 h-6"}),isRounded:!0,title:e.createElement(p.Z,{size:"md",className:"font-bold ml-3"},"Current Validator"),title2:e.createElement("div",{className:"text-right truncate w-[130px] py-2 text-ellipsis"},t.moniker??t.name),className:"dark:!bg-gray-950"}),e.createElement("div",{className:"[&>div]:dark:!bg-gray-950"},e.createElement(i.CardDivider,null)),e.createElement(p.Z,{size:"xs",className:"mx-4 my-2",color:"dark:text-gray-400 text-gray-600"},`Staked: ${r.balance.formatted_amount}`))});Oe.displayName="CurrentValidatorCard";var ie=n(14080),ze=n(410289);const Ze=e.memo(({totalDelegations:t,currencyAmountDelegation:r,activeChain:s,isLoading:l,unstakingPeriod:c,network:o,formatHideBalance:d,activeStakingCoinDenom:g,activeNetwork:x})=>{const E=(0,ze.s0)(),u=(0,a.QSC)(s);return e.createElement("div",{className:"dark:bg-gray-950 rounded-2xl bg-white-100 pt-4"},l&&e.createElement("div",{className:"w-[312px] p-4"},e.createElement(ie.Z,{count:3})),!l&&e.createElement(p.Z,{size:"xs",color:"dark:text-gray-400 text-gray-600",className:"font-bold mb-3 py-1 px-4"},"Your deposited amount"),!l&&e.createElement("div",{className:"flex px-4 pb-4 justify-between items-center"},e.createElement("div",null,e.createElement(p.Z,{size:"xl",className:"text-[28px] mb-2 font-black"},d(r==="-"?"-":r)),e.createElement(p.Z,{size:"xs",className:"font-semibold"},d(t??`0.00 ${g}`))),e.createElement("div",{className:"flex shrink h-[48px] w-[121px]"},e.createElement(i.Buttons.Generic,{disabled:!o,onClick:async()=>{if(o){const y=o?.getValidators({});E("/stakeChooseValidator",{state:{validators:y,apy:o.validatorApys,unstakingPeriod:c,mode:"DELEGATE",activeChain:s,activeNetwork:x}})}},color:H.w.getChainColor(s,u)},e.createElement("div",{className:"flex justify-center text-white-100"},e.createElement("span",{className:"mr-1 material-icons-round"},"add_circle"),e.createElement("span",null,"Stake"))))))});Ze.displayName="DepositAmountCard";var pt=n(182825),qe=n(438132),yt=n(730927),vt=n(890707),et=n(634680),tt=n(470726);const Ue=e.memo(({forceChain:t,forceNetwork:r,showBackAction:s,onBackClick:l})=>{const[c]=(0,B.nB)(),o=(0,et.a7)(),d=(0,e.useMemo)(()=>t||o,[o,t]),g=(0,a.QSC)(d),x=(0,a.obn)(),E=(0,e.useMemo)(()=>r||x,[x,r]),[u]=(0,a.JsT)(d,E),{headerChainImgSrc:y}=(0,I.Cd)(),{formatHideBalance:k}=(0,ge.Zh)(),{isCancleUnstakeSupported:R}=(0,a.MY5)(d,E),[L,Z]=(0,e.useState)(!1),[P,j]=(0,e.useState)(!1),[h,F]=(0,e.useState)(!1),[q,ae]=(0,e.useState)(!1),{rewards:A,totalDelegationAmount:$,loadingRewards:M,minMaxApy:v,token:N,totalRewardsDollarAmt:Y,loadingNetwork:U,loadingUnboundingDelegations:G,unboundingDelegationsInfo:ne,network:D,loadingDelegations:ee,currencyAmountDelegation:C,delegations:O,isFetchingRewards:se}=(0,a.nDu)(d,E),W=(0,e.useMemo)(()=>(0,tt.z)((0,yt.Z)(new Date,D?.chain?.params?.unbonding_time??24*60*60+10).toISOString(),""),[D]),K=!1,re=ee||U||M||G,ke=H.w.getChainColor(d,g);(0,vt.$)({page:"stake",queryStatus:re?"loading":"success",op:"stakePageLoad",description:"loading state on stake page"});const we=(0,e.useCallback)(()=>Z(!0),[]),T=(0,e.useCallback)(()=>j(!0),[]);return e.createElement("div",{className:"relative w-[400px] overflow-clip"},e.createElement(z.ZP,{isShown:P,toggler:()=>j(!P)}),e.createElement(he.Z,{header:e.createElement(Ee.m,{title:"Staking",imgSrc:y,onImgClick:we,action:s&&l?{onClick:l,type:me.Y.BACK}:{onClick:T,type:me.Y.NAVIGATION,className:"w-[48px] h-[40px] px-3 bg-[#FFFFFF] dark:bg-gray-950 rounded-full"}})},e.createElement(e.Fragment,null,e.createElement(pt.h,null),e.createElement("div",{className:S()("flex flex-col p-7 mb-10 overflow-scroll",{"h-[452px]":re||L,"h-[483px]":!re})},e.createElement(Fe,{minApy:v?.[0],maxApy:v?.[1],chainName:d,isLoading:U,network:D,activeStakingCoinDenom:u.coinDenom}),e.createElement("div",{className:"flex flex-col gap-y-4"},!K&&e.createElement(e.Fragment,null,(A?.total[0]||M)&&e.createElement(Ae,{isLoading:M||se,onClaim:()=>F(!0),rewardsAmount:Y??"0",forceChain:d,rewardsTokens:`${N?.symbol??""}${(A?.total.length??1)>1?` +${(A?.total.length??2)-1} more`:""}`}),e.createElement(Ze,{formatHideBalance:k,unstakingPeriod:W,network:D,activeChain:d,totalDelegations:$,currencyAmountDelegation:c(new _.BigNumber(C)),isLoading:ee,activeStakingCoinDenom:u.coinDenom,activeNetwork:E}),e.createElement(Ke,{formatHideBalance:k,unstakingPeriod:W,rewards:A,delegation:O,network:D,isLoading:U||ee,activeChain:d,activeNetwork:E}),e.createElement(We,{formatHideBalance:k,isLoading:G,unboundingDelegations:ne,validators:D?.getValidators({}),onWhyPending:()=>{ae(!0)},isCancleUnstakeSupported:R,activeChain:d,activeNetwork:E})),K&&e.createElement(V.S,{src:f.r.Misc.CrossFilled,isRounded:!0,heading:"Not supported",subHeading:`Staking not supported for ${d} testnet`}),e.createElement("div",{className:"mt-0"}),e.createElement(i.LineDivider,{size:"sm"}),e.createElement("div",{className:"rounded-[16px] items-center"},e.createElement(p.Z,{size:"sm",className:"p-[4px] font-bold ",color:"text-gray-600 dark:text-gray-400"},`About Staking ${u.coinDenom}`),e.createElement("div",{className:"flex flex-col px-[4px] pt-[4px]"},e.createElement(Ne.Z,{textProps:{size:"md",className:"font-medium  flex flex-column"},readMoreColor:ke},`Staking is the process of locking up a digital asset non custodially (${u.coinDenom}} in the case of the ${g.chainName} Network) to provide economic security.
                     When the staking transaction is complete, rewards will start to be generated immediately. At any time, stakers can send a transaction to claim their accumulated rewards, using a wallet.
                     Staking rewards are generated and distributed to staked ${u.coinDenom}} holders in two ways: Transaction fees collected on the ${g.chainName} are distributed to staked ${u.coinDenom}} holders. and secondly
                     from newly created ${u.coinDenom}}. The total supply of ${u.coinDenom}} is inflated to reward stakers. ${u.coinDenom}} holders that do not stake do not receive rewards, meaning their ${u.coinDenom}} get diluted over time.
                     The yearly inflation rate of ${u.coinDenom}} is available on most explorers.
                     Staking ${u.coinDenom} is not risk-free. If a validator has downtime or underperforms, a percentage of ${u.coinDenom}} delegated to them may be forfeited. To mitigate these risks, it is recommended that ${u.coinDenom}} holders delegate to multiple validators.
                     Upon unstaking, tokens are locked for a period of ${W} post which you will automatically get them back in your wallet.
                     `))))))),e.createElement(Q.Z,{isVisible:L,onClose:()=>Z(!1)}),e.createElement(ft,{isOpen:h,onClose:()=>F(!1),forceChain:t,forceNetwork:r}),e.createElement(qe.Z,{isVisible:q,setVisible:ae,heading:`Why does is take ${W} to get the funds back?`,title:"Why is Unstake Pending?",desc:`Upon unstaking, tokens are locked for a period of ${W} post which you will automatically get them back in your wallet.`}),e.createElement(b.Z,{label:b.W.Stake}))});Ue.displayName="GeneralStake";var Nt=n(86211),Le=n(608740),at=n(863262),nt=n(595196),rt=n(244876),lt=n(998073);const kt=rt.w.useGetWallet,st=e.memo(({toValidator:t,fromValidator:r,activeChain:s,token:l,delegation:c,mode:o,unstakingPeriod:d,activeNetwork:g})=>{const x=kt(),E=(0,lt._)(),u=(0,Le.e7)({activeChain:s,selectedNetwork:g}),[y]=(0,a.JsT)(s,g),k=(0,a.QSC)(s),{allAssets:R}=(0,a.zSw)(s,g),[L]=(0,a.fOz)(),{data:Z}=(0,a.pD_)(t),[P,j]=(0,e.useState)(!1),[h,F]=(0,e.useState)(!1),[q,ae]=(0,e.useState)(!1),[A,$]=(0,e.useState)(),{recommendedGasLimit:M,amount:v,error:N,clearError:Y,memo:U,onReviewTransaction:G,setMemo:ne,setAmount:D,showLedgerPopup:ee,isLoading:C,setLedgerError:O,ledgerError:se,tokenFiatValue:W,userPreferredGasPrice:K,gasOption:re,userPreferredGasLimit:ke,setUserPreferredGasLimit:we,feeDenom:T,setFeeDenom:$e,customFee:ve}=(0,a.rKd)(o,t,r,[c],s,g),[be,Xe]=(0,e.useState)(null),[Ve,de]=(0,e.useState)({option:re,gasPrice:K??u.gasPrice}),Ce=(0,e.useMemo)(()=>R.find(ue=>ue.symbol===y.coinDenom),[R,y.coinDenom]),At=(0,e.useCallback)(()=>{ae(!1)},[]),Mt=(0,e.useCallback)((ue,Me)=>{de(ue),$e(Me.denom)},[$e]),Tt=(0,e.useCallback)(async()=>{try{const ue=await x(s);await G(ue,E,!1,{stdFee:ve,feeDenom:T})}catch(ue){O(ue.message),setTimeout(()=>{O("")},6e3)}},[s,ve,T,x,G,O,E]),It=(0,e.useCallback)(()=>{j(!0)},[]),Rt=(0,e.useCallback)(()=>{j(!1)},[]);(0,e.useEffect)(()=>{de({option:re,gasPrice:u.gasPrice})},[u.gasPrice.amount.toString(),u.gasPrice.denom]),l?.amount&&(l.amount=(+l.amount).toFixed(7));const Qe=(0,e.useMemo)(()=>{const ue=v.trim();if(ue==="")return null;const Me=new(w())(ue);return Me.isNaN()?"Invalid amount":Me.isLessThanOrEqualTo(0)?"Amount must be greater than 0":null},[v]),xt=(o==="DELEGATE"?l?.amount:c?.balance?.amount)??"0",Ot=!!Qe||!v||+v==0||+xt==0||+v>+xt;return e.createElement(Le.ZP,{recommendedGasLimit:M,gasLimit:ke?.toString()??M,setGasLimit:ue=>we(Number(ue.toString())),gasPriceOption:Ve,onGasPriceOptionChange:Mt,error:be,setError:Xe,chain:s,network:g},e.createElement("div",{className:"flex flex-col gap-y-4 mb-8 justify-center"},r&&c&&o==="REDELEGATE"&&e.createElement(Oe,{delegation:c,fromValidator:r}),!l&&!c&&e.createElement("div",{className:"flex flex-col dark:bg-gray-950 h-[252px] w-[344px] justify-center items-center p-4 bg-white-100 rounded-2xl overflow-clip "},e.createElement(ie.Z,{circle:!0,count:1,className:"my-8",height:80,width:80}),e.createElement(ie.Z,{count:1,width:300}),e.createElement(ie.Z,{count:1,width:300})),l&&o==="DELEGATE"&&e.createElement("div",{className:"[&>div]:dark:!bg-gray-950 [&>div_input]:dark:!bg-gray-950"},e.createElement(i.StakeInput,{usdValue:v&&W?L(new(w())(W).times(v)):l.symbol,name:l.symbol,amount:v,stakeAllText:(0,a.kC2)(o.toLowerCase()),setAmount:D,balance:(0,a.LHZ)(l.amount),icon:k.chainSymbolImageUrl,onStakeAllClick:()=>{D(l.amount)}})),c&&o!=="DELEGATE"&&e.createElement("div",{className:"[&>div]:dark:!bg-gray-950 [&>div_input]:dark:!bg-gray-950"},e.createElement(i.StakeInput,{usdValue:v&&W?L(new(w())(W).times(v)):y.coinDenom,name:y.coinDenom,amount:v,setAmount:D,stakeAllText:(0,a.kC2)(o.toLowerCase()),balance:c.balance?.amount??0,icon:k.chainSymbolImageUrl,onStakeAllClick:()=>D(c.balance.amount)})),Qe?e.createElement("p",{className:"text-sm font-bold text-red-300 my-1 px-2"},Qe):null,e.createElement(i.GenericCard,{isRounded:!0,img:e.createElement(i.Avatar,{size:"sm",className:"rounded-full overflow-hidden",avatarImage:Z??t?.image??f.r.Misc.Validator,avatarOnError:(0,le._)(f.r.Misc.Validator)}),title:e.createElement(p.Z,{size:"md",className:"font-bold ml-3 w-[120px]"},`${o==="REDELEGATE"?"New ":""}Validator`),title2:e.createElement("p",{className:"text-right truncate w-[130px] py-2 text-ellipsis"},t?.moniker??t?.name??""),className:"dark:!bg-gray-950"}),e.createElement(at.a,{setDisplayFeeValue:$,setShowFeesSettingSheet:ae}),(N??se)&&e.createElement(Se._,{text:N??se}),be&&!q?e.createElement("p",{className:"text-red-300 text-sm font-medium text-center"},be):null,e.createElement(i.Buttons.Generic,{color:H.w.getChainColor(s),size:"normal",className:"w-[344px]",title:"Review",disabled:Ot,onClick:()=>{o==="DELEGATE"&&Ce&&ve?It():F(!0)}},"Review")),e.createElement(nt.k,{showFeesSettingSheet:q,onClose:At,gasError:be}),o==="DELEGATE"&&Ce&&ve&&P?e.createElement(Nt.K,{amount:v,setAmount:D,selectedToken:Ce,fee:ve.amount[0],setShowReviewSheet:F,closeAdjustmentSheet:Rt,forceChain:s,forceNetwork:g}):null,e.createElement(je,{gasError:be,error:N,ledgerError:se,feeDenom:T,displayFee:A,amount:v,data:o!=="REDELEGATE"?{toValidator:t}:{fromValidator:r,toValidator:t},unstakingPeriod:d,isLoading:C,isVisible:h,memo:U,setMemo:ne,onSubmit:Tt,type:o,onCloseHandler:()=>{Y(),F(!1)},showLedgerPopup:!se&&ee,gasOption:Ve.option,activeChain:s,activeNetwork:g}))});st.displayName="InputStakeAmountView";var Pe=n(240483),ot=n(138371),ct=n(128844),Ge=n(489062),mt=n(905865),it=n(15815);const wt=rt.w.useGetWallet;function dt({isOpen:t,onClose:r,validator:s,reward:l,forceChain:c,forceNetwork:o}){const d=wt(),g=(0,lt._)(),x=(0,a.a74)(),E=(0,e.useMemo)(()=>c||x,[c,x]),u=(0,a.obn)(),y=(0,e.useMemo)(()=>o||u,[o,u]),{data:k}=(0,a.pD_)(s),R=(0,Le.e7)({activeChain:E,selectedNetwork:y}),[L]=(0,B.nB)(),{formatHideBalance:Z}=(0,ge.Zh)(),P=(0,mt.a)(),[j]=(0,a.JsT)(E,y),{delegations:h,refetchDelegatorRewards:F,totalRewardsDollarAmt:q,rewards:ae}=(0,a.nDu)(E,y),{showLedgerPopup:A,onReviewTransaction:$,isLoading:M,error:v,memo:N,setMemo:Y,setAmount:U,recommendedGasLimit:G,userPreferredGasLimit:ne,setUserPreferredGasLimit:D,gasOption:ee,userPreferredGasPrice:C,setFeeDenom:O}=(0,a.rKd)("CLAIM_REWARDS",s,void 0,Object.values(h??{}),E,y),[se,W]=(0,e.useState)(!1),[K,re]=(0,e.useState)(null),[ke,we]=(0,e.useState)({option:ee,gasPrice:C??R.gasPrice}),T=(0,e.useMemo)(()=>l?.reward?l.reward:ae?.total,[l?.reward,ae?.total]),$e=(0,e.useMemo)(()=>{if(!(!T||T.length===0))return(T.length??1)>2?`${T[0].tokenInfo?.coinDenom??(0,a.MDB)(T[0].denom,4,3)} | ${T[1].tokenInfo?.coinDenom??(0,a.MDB)(T[1].denom,4,3)} | +${(T.length??3)-2} more`:(T.length??1)===2?`${T[0].tokenInfo?.coinDenom??(0,a.MDB)(T[0].denom,4,3)} | ${T[1].tokenInfo?.coinDenom??(0,a.MDB)(T[1].denom,4,3)}`:`${T[0]?.tokenInfo?.coinDenom??(0,a.MDB)(T[0].denom,4,3)??""}`},[T]),ve=(0,e.useMemo)(()=>T?.find(de=>de.denom===j.coinMinimalDenom)?.amount,[j.coinMinimalDenom,T]);(0,Ge.X)(v),(0,e.useEffect)(()=>{U(ve??"")},[ve,U]);const be=(0,e.useCallback)((de,Ce)=>{we(de),O(Ce.denom)},[O]),Xe=(0,e.useCallback)(()=>{W(!1)},[]);if(A)return e.createElement(ot.Z,{showLedgerPopup:A});const Ve=async()=>{const de=await d(E);$(de,Ce=>{g(Ce),F()},!1)};return e.createElement(Le.ZP,{recommendedGasLimit:G,gasLimit:ne?.toString()??G,setGasLimit:de=>D(Number(de.toString())),gasPriceOption:ke,onGasPriceOptionChange:be,error:K,setError:re,chain:E,network:y},e.createElement(Pe.Z,{isOpen:t,onClose:r,title:"Review Transaction",closeOnBackdropClick:!0,contentClassName:"[&>div:first-child>div:last-child]:-mt-[2px]"},e.createElement("div",null,e.createElement("div",{className:"flex flex-col items-center w-full gap-y-4"},e.createElement(Re,{title:"Staking Rewards"},e.createElement(i.Card,{avatar:e.createElement(i.Avatar,{avatarImage:((0,it.l)()?f.r.Misc.CompassReward:f.r.Misc.LeapReward)??P,chainIcon:s?k??s.image??f.r.Misc.Validator:void 0,avatarOnError:(0,le._)(P),size:"sm"}),isRounded:!0,size:"md",subtitle:Z(q?L(new(w())(q)):"-"),title:$e??"",className:"dark:!bg-gray-950"})),e.createElement("div",{className:"[&>div]:dark:!bg-gray-950 [&>div_input]:dark:!bg-gray-950"},e.createElement(i.Memo,{value:N,onChange:de=>{Y(de.target.value)}})),e.createElement(at.a,{setShowFeesSettingSheet:W}),v?e.createElement(Se._,{text:(0,a.azN)(v,ee,"claim")}):null,K&&!se?e.createElement("p",{className:"text-red-300 text-sm font-medium text-center"},K):null,e.createElement(i.Buttons.Generic,{color:H.w.getChainColor(E),size:"normal",disabled:M||!!v||!!K||A,className:"w-[344px]",onClick:Ve},M?e.createElement(ct.T,{color:H.w.white100}):"Claim Rewards")))),e.createElement(nt.k,{showFeesSettingSheet:se,onClose:Xe,gasError:K}))}var bt=n(554023);const je=e.memo(({memo:t,feesText:r,feeDenom:s,displayFee:l,isVisible:c,amount:o,gasError:d,type:g,data:x,isLoading:E,error:u,unstakingPeriod:y,setMemo:k,onSubmit:R,onCloseHandler:L,showLedgerPopup:Z,ledgerError:P,gasOption:j,activeChain:h,activeNetwork:F})=>{const[q]=(0,a.fOz)(),ae=(0,a.QSC)(h),[A]=(0,a.X$P)(),$=(0,a.xxU)(h,F),M=(0,I.a1)(),[v,N]=(0,e.useState)(""),[Y,U]=(0,e.useState)(!1),[G]=(0,a.JsT)(h,F),ne=G.coinDenom;(0,Ge.X)(d??void 0),(0,Ge.X)(u),(0,e.useEffect)(()=>{(async()=>{if(o!=="")try{const re=await(0,a.knL)(o,G.coinGeckoId,G.chain,a.r95[A].currencyPointer,`${$}-${G.coinMinimalDenom}`);re&&N(re)}catch(re){(0,bt.e)("Cur Val Err","",re)}})()},[o,A,G.coinGeckoId,G.chain,$,G.coinMinimalDenom]);const{buttonText:D,mainTitle:ee,validators:C,validatorText:O}=(0,e.useMemo)(()=>{switch(g){case"DELEGATE":return{buttonText:`Stake ${ne}`,mainTitle:"Stake",validatorText:"Validator",validators:[x.toValidator]};case"UNDELEGATE":return{buttonText:`Unstake ${ne}`,mainTitle:"Untake",validatorText:"Validator",validators:[x.toValidator]};case"CLAIM_REWARDS":return{buttonText:"Claim Rewards",mainTitle:"Staking Rewards",validatorText:"Validators",validators:x.validators};case"CANCEL_UNDELEGATION":return{buttonText:"Cancel Undelegation",mainTitle:"Cancel Undelegation",validatorText:"Validator",validators:[x.toValidator]};case"REDELEGATE":return{buttonText:"Switch Validator",mainTitle:"Switching Validator",validatorText:"Validators",validators:[x.fromValidator,x.toValidator]};default:return{buttonText:`Stake ${ne}`,mainTitle:"Stake",validatorText:"Validator",validators:[]}}},[x,ne,g]),{data:se}=(0,a.pD_)(C[0]),{data:W}=(0,a.pD_)(C[1]);return Z?e.createElement(ot.Z,{showLedgerPopup:Z}):e.createElement(e.Fragment,null,e.createElement(Pe.Z,{isOpen:c,onClose:L,title:"Review Transaction",closeOnBackdropClick:!0,contentClassName:"[&>div:first-child>div:last-child]:-mt-[2px]"},e.createElement("div",null,e.createElement("div",{className:"flex flex-col items-center w-full gap-y-4"},["DELEGATE","UNDELEGATE"].includes(g)&&e.createElement("div",{className:"flex align-middle justify-between w-full"},e.createElement(p.Z,{size:"sm"},"Note:",e.createElement("span",{className:"ml-1 font-bold"},"Unstaking will take ",y)),e.createElement("div",{className:"flex justify-center text-xs text-gray-600 dark:text-gray-400 items-center cursor-pointer",onClick:()=>{U(!0)}},e.createElement("span",{className:"mr-1 text-lg material-icons-round"},"info"),e.createElement("span",{className:"text-xs font-semibold"},"Why?"))),e.createElement(Re,{title:ee},g==="REDELEGATE"&&e.createElement(e.Fragment,null,e.createElement(i.Card,{avatar:e.createElement(i.Avatar,{size:"sm",className:"rounded-full",avatarImage:se??C[0].image??f.r.Misc.Validator,avatarOnError:(0,le._)(f.r.Misc.Validator)}),isRounded:!0,size:"md",subtitle:e.createElement(e.Fragment,null,"Current Validator"),title:(0,a.MDB)(C[0].moniker??C[0].name,15,3),className:"dark:!bg-gray-950"}),e.createElement("div",{className:"[&>div]:dark:!bg-gray-950"},e.createElement(i.CardDivider,null)),e.createElement(i.Card,{avatar:e.createElement(i.Avatar,{size:"sm",className:"rounded-full",avatarOnError:(0,le._)(f.r.Misc.Validator),avatarImage:W??C[1].image??f.r.Misc.Validator}),isRounded:!0,size:"md",subtitle:e.createElement(e.Fragment,null,"New Validator"),title:(0,a.MDB)(C[1].moniker??C[0].name,15,3),className:"dark:!bg-gray-950"}),e.createElement("div",{className:"[&>div]:dark:!bg-gray-950"},e.createElement(i.CardDivider,null))),e.createElement(i.Card,{avatar:e.createElement(i.Avatar,{avatarImage:ae.chainSymbolImageUrl??M,avatarOnError:(0,le._)(M),size:"sm"}),isRounded:!0,size:"md",subtitle:v&&+v>.01?`~ ${q(new(w())(v))}`:null,title:(0,a.LHZ)(o,ne),className:"dark:!bg-gray-950"})),C.length!==0&&g!=="REDELEGATE"&&g!=="CLAIM_REWARDS"&&e.createElement(Re,{title:O},C.map((K,re)=>{const ke=()=>{const{data:we}=(0,a.pD_)(K);return e.createElement(i.Card,{avatar:e.createElement(i.Avatar,{className:"rounded-full overflow-hidden",avatarImage:we??K.image??f.r.Misc.Validator,avatarOnError:(0,le._)(f.r.Misc.Validator)}),isRounded:!0,size:"md",title:K.moniker??K.name??"",className:"dark:!bg-gray-950"})};return e.createElement(ke,{key:`rev_val_${re}`})})),e.createElement("div",{className:"[&>div]:dark:!bg-gray-950 [&>div_input]:dark:!bg-gray-950"},e.createElement(i.Memo,{value:t,onChange:K=>{k(K.target.value)}})),l&&s?e.createElement("div",{className:"flex items-center justify-center text-gray-600 dark:text-gray-200"},e.createElement("p",{className:"font-semibold text-center text-sm"},"Transaction fee: "),e.createElement("p",{className:"font-semibold text-center text-sm ml-1"},e.createElement("strong",{"data-testing-id":"stake-review-sheet-fee-ele"},l.formattedAmount," ",s.coinDenom)," ",l.fiatValue?`(${l.fiatValue})`:null)):!u&&r?e.createElement(p.Z,{size:"sm",color:"text-gray-400 dark:text-gray-600",className:"justify-center"},r):null,d?e.createElement("p",{className:"text-sm text-red-300 font-medium text-center"},(0,a.azN)(d,j,g.toLowerCase())):null,u??P?e.createElement(Se._,{text:(0,a.azN)(u??P??"",j,g.toLowerCase())}):null,e.createElement(i.Buttons.Generic,{color:H.w.getChainColor(h),size:"normal",disabled:!!d||E||!!u||Z,className:"w-[344px]",title:D,onClick:R},E?e.createElement(ct.T,{color:H.w.white100}):D)))),e.createElement(qe.Z,{isVisible:Y,setVisible:U,heading:`Why does is take ${y} to get the funds back?`,title:`${y} for unstaking`,desc:`Upon unstaking, tokens are locked for a period of ${y} post which you will automatically get them back in your wallet.`}))});je.displayName="ReviewStakeTransaction";const ut=e.memo(({activeChain:t,sortBy:r,setSortBy:s,isVisible:l,setVisible:c})=>e.createElement(Pe.Z,{isOpen:l,onClose:()=>c(!1),title:"Sort by",closeOnBackdropClick:!0,contentClassName:"[&>div:first-child>div:last-child]:-mt-[2px]"},e.createElement("div",{className:"flex flex-col gap-y-1"},e.createElement("div",{className:"dark:bg-gray-950 overflow-clip bg-white-100 rounded-2xl"},["Amount staked","Alphabetical","APY"].map((o,d)=>e.createElement(e.Fragment,{key:o},d!==0&&e.createElement("div",{className:"[&>div]:dark:!bg-gray-950"},e.createElement(i.CardDivider,null)),e.createElement(i.Card,{iconSrc:r===o?f.r.Misc.ChainChecks[t]:void 0,size:"md",title:o,onClick:()=>{c(!1),s(o===r?"Random":o)},className:"dark:!bg-gray-950"})))))));ut.displayName="SelectSortBy";const Fe=e.memo(({chainName:t,network:r,isLoading:s,maxApy:l,minApy:c,activeStakingCoinDenom:o})=>{const d=(0,a.DI5)(),g=(0,I.a1)(),x=c?X()((c*100).toString(),{precision:2,symbol:""}).format():null,E=c?X()((l*100).toString(),{precision:2,symbol:""}).format():null,u=(0,e.useMemo)(()=>r?e.createElement(p.Z,{size:"md",color:"dark:text-gray-300 text-gray-800",className:"font-bold"},"APY:"," ",x===null||E===null?"N/A":`${x} - ${E} %`):e.createElement(p.Z,{size:"md",color:"dark:text-gray-300 text-gray-800",className:"font-bold"},"APY: N/A"),[E,x,r]);return e.createElement("div",{className:"flex flex-col pb-4"},e.createElement("div",{className:"flex gap-x-[12px]"},e.createElement("div",{className:"h-8 w-8"},e.createElement(i.Avatar,{size:"sm",avatarImage:d[t].chainSymbolImageUrl??g,avatarOnError:(0,le._)(g),chainIcon:f.r.Activity.Delegate})),e.createElement(p.Z,{size:"xxl",className:"font-black"},"Stake ",o)),s?e.createElement(ie.Z,{count:1,width:200}):u)});Fe.displayName="StakeHeading";function Ct(){return e.createElement("div",{className:"flex px-4 py-2 min-w-[344px] z-0"},e.createElement("div",{className:"w-10 "},e.createElement(ie.Z,{circle:!0,className:"w-10 h-10",style:{zIndex:0}})),e.createElement("div",{className:"w-[120px] z-0 ml-2"},e.createElement(ie.Z,{count:1,className:"z-0"}),e.createElement(ie.Z,{count:1,className:"z-0"})),e.createElement("div",{className:"w-[60px] ml-auto z-0"},e.createElement(ie.Z,{count:1,className:"z-0"}),e.createElement(ie.Z,{count:1,className:"z-0"})))}var Dt=n(300950),St=n(725312);const Ae=e.memo(({rewardsAmount:t,onClaim:r,isLoading:s,validatorIcon:l,rewardsTokens:c,forceChain:o})=>{const d=(0,I.a1)(),g=(0,Dt.$)(o),[x]=(0,B.nB)(),{formatHideBalance:E}=(0,ge.Zh)();return s?e.createElement("div",{className:"rounded-2xl py-3 dark:bg-gray-950 bg-white-100 justify-center"},e.createElement(Ct,null)):e.createElement("div",{className:"relative rounded-2xl items-center py-3 dark:bg-gray-950 bg-white-100 justify-center"},e.createElement(i.GenericCard,{img:e.createElement("div",{className:"mr-3"},e.createElement(i.Avatar,{size:"sm",avatarImage:((0,it.l)()?f.r.Misc.CompassReward:f.r.Misc.LeapReward)??d,chainIcon:l,avatarOnError:(0,le._)(d)})),isRounded:!0,className:"hover:cursor-default dark:!bg-gray-950",title:"Your Rewards",subtitle:`${E(t?x(new(w())(t)):"-")} | ${c}`}),r&&e.createElement("div",{onClick:r,className:"absolute hover:cursor-pointer rounded-2xl px-3 py-1 right-6 top-[28px]",style:{backgroundColor:(0,St.r)(g,.1)}},e.createElement(p.Z,{size:"sm",className:"font-bold",style:{color:g}},"Claim")))});Ae.displayName="StakeRewardCard";function gt({tokenName:t,chainName:r,chainLogo:s,apr:l,amount:c,dollarAmount:o,onClick:d}){return e.createElement("div",{className:"bg-white-100 dark:bg-gray-950 rounded-xl flex items-center justify-between p-[12px] cursor-pointer",onClick:d},e.createElement("div",{className:"flex items-center justify-start gap-2 w-[150px]"},e.createElement("img",{className:"w-[36px] h-[36px]",src:s,alt:r+" logo"}),e.createElement("div",{className:"flex flex-col"},e.createElement("p",{className:"text-black-100 dark:text-white-100 font-[700]"},t),e.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-[12px] font-[500]"},r))),e.createElement("p",{className:"text-black-100 dark:text-white-100 text-[14px]"},l),e.createElement("div",{className:"flex flex-col items-end w-[90px]"},o!=="-"?e.createElement("p",{className:"text-black-100 dark:text-white-100 font-[700] text-[14px]"},o):null,e.createElement("p",{className:"text-gray-600 dark:text-gray-400 text-[12px] font-[500]"},c)))}const We=e.memo(({unboundingDelegations:t,validators:r,isLoading:s,onWhyPending:l,formatHideBalance:c,isCancleUnstakeSupported:o,activeChain:d,activeNetwork:g})=>{const x=(0,ze.s0)(),{refetchBalances:E}=(0,a.zSw)(d,g);return(0,e.useEffect)(()=>{E()},[]),!s&&(Object.values(t??{}).length===0||!r)?e.createElement(e.Fragment,null):e.createElement("div",{className:"dark:bg-gray-950 rounded-2xl bg-white-100 pt-4"},s&&e.createElement("div",{className:"w-[312px] p-4"},e.createElement(ie.Z,{count:3})),!s&&Object.values(t).length!==0&&r&&e.createElement("div",{className:"flex justify-between"},e.createElement(p.Z,{size:"xs",color:"dark:text-gray-400 text-gray-600",className:"font-bold py-1 px-4"},"Pending Unstakes"),e.createElement("div",{className:"px-4"},e.createElement("div",{className:"flex justify-center text-xs text-gray-600 dark:text-gray-400 items-center cursor-pointer",onClick:l},e.createElement("span",{className:"mr-1 text-lg material-icons-round"},"info"),e.createElement("span",{className:"text-xs font-semibold"},"Why pending?")))),!s&&t&&r&&Object.values(t).map((u,y)=>{const k=r[u?.validator_address],R=u?.entries?.map((L,Z)=>{const P=(0,tt.z)(L.completion_time),j=()=>{const{data:h}=(0,a.pD_)(k);return e.createElement(e.Fragment,{key:`validators ${k?.rank} ${Z}`},y!==0&&e.createElement("div",{className:"[&>div]:dark:!bg-gray-950"},e.createElement(i.CardDivider,null)),k&&e.createElement("div",{className:"relative cursor-default"},!o&&e.createElement("div",{className:"absolute h-[72px] w-[344px] cursor-default "}),e.createElement(i.GenericCard,{img:e.createElement("img",{src:h??k.image??f.r.Misc.Validator,onError:(0,le._)(f.r.Misc.Validator),className:"rounded-full  overflow-clip w-6 h-6"}),icon:o?e.createElement("span",{className:"material-icons-round text-gray-400"},"keyboard_arrow_right"):void 0,onClick:o?()=>{x("/stakeCancelUndelegation",{state:{unBoundingdelegation:u,unBoundingdelegationEntry:L,validatorAddress:u.validator_address,validators:r,activeChain:d,activeNetwork:g}})}:void 0,isRounded:!0,title:e.createElement(p.Z,{size:"md",className:"font-bold ml-3"},(0,a.MDB)(k.moniker??k.name,10,3)),subtitle:e.createElement("div",{className:"ml-3"},c(`${L.formattedBalance} | ${P}`)),subtitle2:"",className:"dark:!bg-gray-950"})))};return e.createElement(j,{key:`validators ${k?.rank} ${Z}`})});return e.createElement(e.Fragment,{key:`validators ${y}`},R)}))});We.displayName="UnboundingDelegations";const Ke=e.memo(({delegation:t,unstakingPeriod:r,network:s,rewards:l,isLoading:c,formatHideBalance:o,activeChain:d,activeNetwork:g})=>{const x=(0,ze.s0)(),E=s?.getValidators({}),u=Object.values(t??{});return!c&&u.length===0?e.createElement(e.Fragment,null):e.createElement("div",{className:"dark:bg-gray-950 rounded-2xl bg-white-100 pt-4"},!c&&e.createElement(p.Z,{size:"xs",color:"dark:text-gray-400 text-gray-600",className:"font-bold py-1 px-4"},"Breakdown by Validator"),c&&e.createElement("div",{className:"w-[312px] p-4"},e.createElement(ie.Z,{count:3})),!c&&E&&t&&u.map((y,k)=>{const R=E[y?.delegation?.validator_address],L=()=>{const{data:Z}=(0,a.pD_)(R);return e.createElement(e.Fragment,{key:`validators${k}`},k!==0&&e.createElement("div",{className:"[&>div]:dark:!bg-gray-950"},e.createElement(i.CardDivider,null)),R&&e.createElement(i.GenericCard,{className:"dark:!bg-gray-950",onClick:()=>{if(s){const P=s.validatorApys,j=l?.rewards.find(h=>h.validator_address===y.delegation.validator_address);x("/stakeValidatorDetails",{state:{unstakingPeriod:r,delegation:y,reward:j,validatorAddress:y.delegation.validator_address,validators:E,apy:P,activeChain:d,activeNetwork:g}})}},img:e.createElement("img",{src:Z??R.image??f.r.Misc.Validator,onError:(0,le._)(f.r.Misc.Validator),className:"rounded-full overflow-clip w-6 h-6"}),isRounded:!0,title:e.createElement(p.Z,{size:"md",className:"font-bold text-ellipsis ml-3"},(0,a.MDB)(R.moniker??R.name,10,3)),title2:e.createElement("span",{className:"text-gray-400"},o(y.balance.formatted_amount??y.balance.amount)),subtitle:"",subtitle2:"",icon:e.createElement("span",{className:"material-icons-round text-gray-400"},"keyboard_arrow_right")}))};return e.createElement(L,{key:R?.address})}))});Ke.displayName="ValidatorBreakdown";const Et=e.memo(({validator:t,delegation:r,totalRewardsDollarAmt:s,totalRewardsTokens:l,activeChain:c,onClickClaimReward:o,onClickStake:d,onClickSwitchValidator:g,onClickUnstake:x})=>{const[E]=(0,B.nB)(),u=(0,i.useTheme)().theme===i.ThemeName.DARK,{formatHideBalance:y}=(0,ge.Zh)(),{data:k}=(0,a.pD_)(t);return e.createElement("div",null,e.createElement(Ie,{validator:t}),e.createElement("div",{className:"flex flex-col gap-y-4"},e.createElement(Te,{formatHideBalance:y,currencyAmountDelegation:E(new(w())(r.balance?.currenyAmount??"")),totalDelegations:r.balance?.formatted_amount??"",validatorName:(0,a.MDB)(t.moniker??t.name??"",18,3),renderingOnValidatorDetails:!0}),l&&l!=="undefined"&&l.length&&e.createElement(Ae,{isLoading:!1,onClaim:o,rewardsAmount:s,validatorIcon:k??t.image??f.r.Misc.Validator,rewardsTokens:l,forceChain:c}),e.createElement("div",{className:"flex justify-between"},e.createElement(i.Buttons.Generic,{size:"sm",color:H.w.getChainColor(c),onClick:d},e.createElement("div",{className:"flex justify-center text-white-100  items-center"},e.createElement("span",{className:"mr-1 material-icons-round"},"add_circle"),e.createElement("span",null,"Stake"))),e.createElement(i.Buttons.Generic,{size:"sm",color:u?H.w.gray950:H.w.white100,onClick:x},e.createElement("div",{className:"flex justify-center dark:text-white-100 text-black-100  items-center"},e.createElement("span",{className:"mr-1 material-icons-round"},"remove_circle"),e.createElement("span",null,"Unstake")))),e.createElement(i.Buttons.Generic,{onClick:g,color:u?H.w.gray950:H.w.white100,size:"normal",className:"w-[344px]"},e.createElement("div",{className:"flex justify-center dark:text-white-100 text-black-100  items-center"},e.createElement("span",{className:"mr-1 material-icons-round"},"swap_horizontal_circle"),e.createElement("span",null,"Switch Validator"))),e.createElement(i.LineDivider,{size:"sm"})),e.createElement("div",{className:"rounded-[16px] my-[16px] items-center"},e.createElement(p.Z,{size:"sm",className:"p-[4px] font-bold ",color:"text-gray-600 dark:text-gray-400"},`About ${t.moniker??t.name??"Validator"}`),e.createElement("div",{className:"flex flex-col p-[4px]"},e.createElement(Ne.Z,{textProps:{size:"md",className:"font-medium flex flex-column"},readMoreColor:H.w.getChainColor(c)},t.description?.details??""))))});Et.displayName="ValidatorDetailsView";const He=e.memo(({validators:t,apys:r,onShuffleClick:s,onSelectValidator:l,activeStakingCoinDenom:c})=>!t||t.length===0?e.createElement(e.Fragment,null):e.createElement("div",{className:"pt-4 rounded-2xl overflow-clip dark:bg-gray-950 bg-white-100"},e.createElement("div",{className:"flex justify-between"},e.createElement(p.Z,{size:"xs",color:"dark:text-gray-400 text-gray-600",className:"font-bold py-1 px-4"},"Validators"),s&&e.createElement("div",{className:"px-4"},e.createElement("div",{className:"flex justify-center text-xs text-gray-600 dark:text-gray-400 items-center cursor-pointer",onClick:()=>{s()}},e.createElement("span",{className:"mr-1 text-lg material-icons-round"},"shuffle"),e.createElement("span",{className:"text-xs font-semibold"},"Shuffle")))),t.map((o,d)=>e.createElement(e.Fragment,{key:`validator-${d}-${o.address}`},d!==0&&e.createElement("div",{className:"[&>div]:dark:!bg-gray-950"},e.createElement(i.CardDivider,null)),e.createElement(Ye,{onClick:()=>l(o),apys:r,validator:o,activeStakingCoinDenom:c})))));He.displayName="ValidatorsList";const Ye=e.memo(({validator:t,apys:r,onClick:s,activeStakingCoinDenom:l})=>{const[c,o]=(0,e.useState)(!1),{data:d}=(0,a.pD_)(t);return e.createElement(e.Fragment,null,e.createElement("div",{className:"flex justify-between h-[72px] items-center px-4 bg-white-100 dark:bg-gray-950 cursor-pointer"},e.createElement("div",{onClick:s,className:S()("flex w-[256px] items-center flex-grow")},e.createElement("img",{src:d??t.image??f.r.Misc.Validator,onError:(0,le._)(f.r.Misc.Validator),className:"rounded-full mr-3 overflow-clip w-10 h-10"}),e.createElement("div",{className:S()("flex flex-col justify-center items-start")},e.createElement("div",{className:S()("text-base font-bold text-black-100 dark:text-white-100 text-left text-ellipsis overflow-hidden")},e.createElement(p.Z,{size:"md",className:"font-bold"},(0,a.MDB)(t.moniker??t.name,15,3))),e.createElement("div",{className:S()("text-xs font-medium text-gray-400")},`Staked: ${X()(t.delegations?.total_tokens_display??t.tokens,{symbol:"",precision:0}).format()} | APY: ${r[t.address]?`${X()(r[t.address]*100,{precision:2,symbol:""}).format()}%`:"N/A"}`)),e.createElement("div",{className:"flex flex-grow"})),e.createElement("div",{className:S()("flex gap-x-2")},e.createElement("span",{onClick:()=>o(!c),className:"material-icons-round w-6 text-gray-400"},"info_outlined"),e.createElement("span",{onClick:s,className:"material-icons-round w-6 text-gray-400"},"keyboard_arrow_right"))),c&&e.createElement("div",{className:"flex rounded-lg flex-row justify-evenly mx-4 mb-4 p-4 dark:bg-gray-900 bg-gray-50"},e.createElement("div",{className:"flex flex-col grow"},e.createElement(p.Z,{size:"xs",color:"dark:text-gray-400 text-gray-600"},"Voting power"),e.createElement(p.Z,{size:"xs",className:"font-bold mt-1"},(0,a.LHZ)(t.tokens,l,2))),e.createElement("div",{className:"flex flex-col grow"},e.createElement(p.Z,{size:"xs",color:"dark:text-gray-400 text-gray-600"},"Commission"),e.createElement(p.Z,{size:"xs",className:"font-bold mt-1"},`${(+(t.commission?.commission_rates.rate??"")*100).toFixed(2)}%`))))});Ye.displayName="ValidatorsListCard";function ft({isOpen:t,onClose:r,validator:s,reward:l,forceChain:c,forceNetwork:o}){const d=(0,et.a7)(),g=(0,e.useMemo)(()=>c||d,[c,d]),x=(0,a.obn)(),E=(0,e.useMemo)(()=>o||x,[o,x]),[u]=(0,B.nB)(),[y]=(0,a.JsT)(g,E),k=(0,e.useMemo)(()=>y.coinDenom,[y.coinDenom]),{formatHideBalance:R}=(0,ge.Zh)(),L=(0,mt.a)(),{rewards:Z}=(0,a.nDu)(g,E),[P,j]=(0,e.useState)(!1),h=(0,e.useMemo)(()=>l?.reward?l.reward:Z?.total,[l?.reward,Z?.total]),F=(0,e.useMemo)(()=>{const A=h?.find(N=>N.tokenInfo&&N.tokenInfo.coinDenom===k),$=[...h??[]].sort((N,Y)=>parseFloat(Y.amount)-parseFloat(N.amount));let M=[],v=[];if(h&&h.length>3){let N=0;M=$.filter(Y=>{const U=Y.tokenInfo?.coinDenom??Y.denom;return U===k||N===2?!1:U?(N+=1,!0):!1})}else M=$.filter(N=>(N.tokenInfo?.coinDenom??N.denom)!==k);return A&&(v=[A]),[...v,...M]},[h,k]),{rewardsAmount:q,rewardsTokens:ae}=(0,e.useMemo)(()=>{let A="",$="";if(h){if(h.length>3&&F){let M=0;A=h.reduce((v,N)=>F.find(U=>U?.tokenInfo?.coinDenom===N.tokenInfo?.coinDenom||U.denom===N.denom)?v:(M===1&&($+=`, ${N.tokenInfo?.coinDenom??(0,a.MDB)(N.denom,4,3)}`,M+=1),M===0&&($+=N.tokenInfo?.coinDenom??(0,a.MDB)(N.denom,4,3),M+=1),v.plus(new(w())(N.currenyAmount??""))),new(w())("0")).toString()}h.length>5?$+=` & ${h.length-5} other${h.length-5>1?"s":""}`:h.length>4&&($+=` & ${h.length-4} other${h.length-4>1?"s":""}`)}return{rewardsAmount:A,rewardsTokens:$}},[h,F]);return e.createElement(e.Fragment,null,!P&&e.createElement(Pe.Z,{title:"Total Rewards",isOpen:t,closeOnBackdropClick:!0,onClose:r,contentClassName:"[&>div:first-child>div:last-child]:-mt-[2px]"},e.createElement("div",{className:"flex flex-col items-center h-full"},e.createElement("div",{className:"bg-white-100 dark:bg-gray-950 rounded-2xl max-h-[240px] w-fit mb-4",style:{overflowY:"scroll"}},F&&F.length&&F.map((A,$,M)=>{const{amount:v,currenyAmount:N,tokenInfo:Y,denom:U}=A,G=$===M.length-1,ne=Y?.coinDenom?(0,a.MDB)(Y.coinDenom,4,3):(0,a.MDB)(U,4,3);return e.createElement(e.Fragment,{key:`${A.denom}-index`},e.createElement("div",{className:"py-2"},e.createElement(i.GenericCard,{title:e.createElement("h3",{className:"text-md text-gray-600 dark:text-white-100 font-medium"},R((0,a.LHZ)(v,ne,3))),subtitle:e.createElement("p",{className:"whitespace-nowrap text-gray-400 font-medium text-xs"},R(N?u(new(w())(N??"")):"-")),img:e.createElement("img",{src:Y?.icon??L,className:"w-[28px] h-[28px] mr-2 border rounded-full dark:border-[#333333] border-[#cccccc]",onError:(0,le._)(L)}),isRounded:G,className:"dark:!bg-gray-950"})),!G&&e.createElement("div",{className:"[&>div]:dark:!bg-gray-950"},e.createElement(i.CardDivider,null)))})),h&&h.length>3&&e.createElement(Ae,{isLoading:!1,rewardsAmount:q??"",rewardsTokens:ae??"",forceChain:g}),e.createElement(i.Buttons.Generic,{color:H.w.getChainColor(g),size:"normal",className:S()("w-[344px]",{"mt-4":h&&h.length>3}),onClick:()=>j(!0)},"Claim All"))),t&&e.createElement(dt,{isOpen:P,onClose:()=>j(!1),validator:s,reward:l,forceChain:g,forceNetwork:E}))}},470726:(De,oe,n)=>{n.d(oe,{z:()=>w});var a=n(727484),_=n.n(a);const w=(ce,S,m)=>{const b=_()(ce).diff(m??new Date),V=Math.floor(b/(24*60*60*1e3)),Ee=Math.floor(b/(60*60*1e3)),he=Math.floor((b-Ee*60*60*1e3)/(60*1e3)),ye=Math.floor((b-Ee*60*60*1e3-he*60*1e3)/1e3);let X="";for(const I of[[V,"day"],[Ee,"hour"],[he,"minute"],[ye,"second"]])if(I[0]!==0){X=`${I[0]} ${I[0]===1?I[1]:I[1]+"s"} ${S??"left"}`;break}return X}},730927:(De,oe,n)=>{n.d(oe,{Z:()=>ce});var a=n(242765),_=n(891310),w=n(319785);function ce(S,m){(0,w.Z)(2,arguments);var b=(0,a.Z)(m);return(0,_.Z)(S,b*1e3)}}}]);
