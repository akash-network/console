(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([[5968],{360470:(O,s,o)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.BasePostMessageStream=void 0;const y=o(255800),g=()=>{},f="SYN",p="ACK";class n extends y.Duplex{constructor(){super({objectMode:!0}),this._init=!1,this._haveSyn=!1}_handshake(){this._write(f,null,g),this.cork()}_onData(h){if(this._init)try{this.push(h)}catch(v){this.emit("error",v)}else h===f?(this._haveSyn=!0,this._write(p,null,g)):h===p&&(this._init=!0,this._haveSyn||this._write(p,null,g),this.uncork())}_read(){}_write(h,v,d){this._postMessage(h),d()}}s.BasePostMessageStream=n},806993:(O,s,o)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WebWorkerParentPostMessageStream=void 0;const y=o(360470),g=o(17131);class f extends y.BasePostMessageStream{constructor({worker:n}){super(),this._target=g.DEDICATED_WORKER_NAME,this._worker=n,this._worker.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(n){this._worker.postMessage({target:this._target,data:n})}_onMessage(n){const l=n.data;(0,g.isValidStreamMessage)(l)&&this._onData(l.data)}_destroy(){this._worker.onmessage=null,this._worker=null}}s.WebWorkerParentPostMessageStream=f},270672:(O,s,o)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WebWorkerPostMessageStream=void 0;const y=o(360470),g=o(17131);class f extends y.BasePostMessageStream{constructor(){if(typeof self>"u"||typeof WorkerGlobalScope>"u"||!(self instanceof WorkerGlobalScope))throw new Error("WorkerGlobalScope not found. This class should only be instantiated in a WebWorker.");super(),this._name=g.DEDICATED_WORKER_NAME,self.onmessage=this._onMessage.bind(this),this._handshake()}_postMessage(n){self.postMessage({data:n})}_onMessage(n){const l=n.data;!(0,g.isValidStreamMessage)(l)||l.target!==this._name||this._onData(l.data)}_destroy(){}}s.WebWorkerPostMessageStream=f},855968:function(O,s,o){"use strict";var y=this&&this.__createBinding||(Object.create?function(f,p,n,l){l===void 0&&(l=n),Object.defineProperty(f,l,{enumerable:!0,get:function(){return p[n]}})}:function(f,p,n,l){l===void 0&&(l=n),f[l]=p[n]}),g=this&&this.__exportStar||function(f,p){for(var n in f)n!=="default"&&!Object.prototype.hasOwnProperty.call(p,n)&&y(p,f,n)};Object.defineProperty(s,"__esModule",{value:!0}),g(o(572121),s),g(o(270672),s),g(o(806993),s),g(o(360470),s)},17131:(O,s,o)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.isValidStreamMessage=s.DEDICATED_WORKER_NAME=void 0;const y=o(362699);s.DEDICATED_WORKER_NAME="dedicatedWorker";function g(f){return(0,y.isObject)(f)&&Boolean(f.data)&&(typeof f.data=="number"||typeof f.data=="object"||typeof f.data=="string")}s.isValidStreamMessage=g},572121:(O,s,o)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.WindowPostMessageStream=void 0;const y=o(360470),g=o(17131);class f extends y.BasePostMessageStream{constructor({name:n,target:l,targetOrigin:h=location.origin,targetWindow:v=window}){if(super(),typeof window>"u"||typeof window.postMessage!="function")throw new Error("window.postMessage is not a function. This class should only be instantiated in a Window.");this._name=n,this._target=l,this._targetOrigin=h,this._targetWindow=v,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1),this._handshake()}_postMessage(n){this._targetWindow.postMessage({target:this._target,data:n},this._targetOrigin)}_onMessage(n){const l=n.data;this._targetOrigin!=="*"&&n.origin!==this._targetOrigin||n.source!==this._targetWindow||!(0,g.isValidStreamMessage)(l)||l.target!==this._name||this._onData(l.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}s.WindowPostMessageStream=f},362699:function(O,s,o){"use strict";var y=this&&this.__createBinding||(Object.create?function(f,p,n,l){l===void 0&&(l=n),Object.defineProperty(f,l,{enumerable:!0,get:function(){return p[n]}})}:function(f,p,n,l){l===void 0&&(l=n),f[l]=p[n]}),g=this&&this.__exportStar||function(f,p){for(var n in f)n!=="default"&&!Object.prototype.hasOwnProperty.call(p,n)&&y(p,f,n)};Object.defineProperty(s,"__esModule",{value:!0}),g(o(939098),s),g(o(456173),s),g(o(565148),s)},939098:function(O,s,o){"use strict";var y=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(s,"__esModule",{value:!0}),s.validateJsonAndGetSize=s.getJsonRpcIdValidator=s.assertIsJsonRpcFailure=s.isJsonRpcFailure=s.assertIsJsonRpcSuccess=s.isJsonRpcSuccess=s.assertIsJsonRpcRequest=s.isJsonRpcRequest=s.assertIsJsonRpcNotification=s.isJsonRpcNotification=s.jsonrpc2=s.isValidJson=void 0;const g=y(o(769378)),f=o(456173);function p(C){try{return g.default(C,JSON.parse(JSON.stringify(C)))}catch{return!1}}s.isValidJson=p,s.jsonrpc2="2.0";function n(C){return!f.hasProperty(C,"id")}s.isJsonRpcNotification=n;function l(C){if(!n(C))throw new Error("Not a JSON-RPC notification.")}s.assertIsJsonRpcNotification=l;function h(C){return f.hasProperty(C,"id")}s.isJsonRpcRequest=h;function v(C){if(!h(C))throw new Error("Not a JSON-RPC request.")}s.assertIsJsonRpcRequest=v;function d(C){return f.hasProperty(C,"result")}s.isJsonRpcSuccess=d;function m(C){if(!d(C))throw new Error("Not a successful JSON-RPC response.")}s.assertIsJsonRpcSuccess=m;function B(C){return f.hasProperty(C,"error")}s.isJsonRpcFailure=B;function I(C){if(!B(C))throw new Error("Not a failed JSON-RPC response.")}s.assertIsJsonRpcFailure=I;function j(C){const{permitEmptyString:J,permitFractions:D,permitNull:a}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},C);return S=>Boolean(typeof S=="number"&&(D||Number.isInteger(S))||typeof S=="string"&&(J||S.length>0)||a&&S===null)}s.getJsonRpcIdValidator=j;function _(C,J=!1){const D=new Set;function a(w,S){if(w===void 0)return[!0,0];if(w===null)return[!0,S?0:f.JsonSize.Null];const E=typeof w;try{if(E==="function")return[!1,0];if(E==="string"||w instanceof String)return[!0,S?0:f.calculateStringSize(w)+f.JsonSize.Quote*2];if(E==="boolean"||w instanceof Boolean)return S?[!0,0]:[!0,w==!0?f.JsonSize.True:f.JsonSize.False];if(E==="number"||w instanceof Number)return S?[!0,0]:[!0,f.calculateNumberSize(w)];if(w instanceof Date)return S?[!0,0]:[!0,isNaN(w.getDate())?f.JsonSize.Null:f.JsonSize.Date+f.JsonSize.Quote*2]}catch{return[!1,0]}if(!f.isPlainObject(w)&&!Array.isArray(w))return[!1,0];if(D.has(w))return[!1,0];D.add(w);try{return[!0,Object.entries(w).reduce((W,[L,X],Y,z)=>{let[G,k]=a(X,S);if(!G)throw new Error("JSON validation did not pass. Validation process stopped.");if(D.delete(w),S)return 0;if(k===0&&Array.isArray(w)&&(k=f.JsonSize.Null),k===0)return W;const K=Array.isArray(w)?0:L.length+f.JsonSize.Comma+f.JsonSize.Colon*2,F=Y<z.length-1?f.JsonSize.Comma:0;return W+K+k+F},S?0:f.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return a(C,J)}s.validateJsonAndGetSize=_},456173:(O,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.calculateNumberSize=s.calculateStringSize=s.isASCII=s.isPlainObject=s.ESCAPE_CHARACTERS_REGEXP=s.JsonSize=s.hasProperty=s.isObject=s.isNullOrUndefined=s.isNonEmptyArray=void 0;function o(d){return Array.isArray(d)&&d.length>0}s.isNonEmptyArray=o;function y(d){return d==null}s.isNullOrUndefined=y;function g(d){return Boolean(d)&&typeof d=="object"&&!Array.isArray(d)}s.isObject=g;const f=(d,m)=>Object.hasOwnProperty.call(d,m);s.hasProperty=f;var p;(function(d){d[d.Null=4]="Null",d[d.Comma=1]="Comma",d[d.Wrapper=1]="Wrapper",d[d.True=4]="True",d[d.False=5]="False",d[d.Quote=1]="Quote",d[d.Colon=1]="Colon",d[d.Date=24]="Date"})(p=s.JsonSize||(s.JsonSize={})),s.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function n(d){if(typeof d!="object"||d===null)return!1;try{let m=d;for(;Object.getPrototypeOf(m)!==null;)m=Object.getPrototypeOf(m);return Object.getPrototypeOf(d)===m}catch{return!1}}s.isPlainObject=n;function l(d){return d.charCodeAt(0)<=127}s.isASCII=l;function h(d){var m;return d.split("").reduce((I,j)=>l(j)?I+1:I+2,0)+((m=d.match(s.ESCAPE_CHARACTERS_REGEXP))!==null&&m!==void 0?m:[]).length}s.calculateStringSize=h;function v(d){return d.toString().length}s.calculateNumberSize=v},565148:(O,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.timeSince=s.inMilliseconds=s.Duration=void 0;var o;(function(n){n[n.Millisecond=1]="Millisecond",n[n.Second=1e3]="Second",n[n.Minute=6e4]="Minute",n[n.Hour=36e5]="Hour",n[n.Day=864e5]="Day",n[n.Week=6048e5]="Week",n[n.Year=31536e6]="Year"})(o=s.Duration||(s.Duration={}));const y=n=>Number.isInteger(n)&&n>=0,g=(n,l)=>{if(!y(n))throw new Error(`"${l}" must be a non-negative integer. Received: "${n}".`)};function f(n,l){return g(n,"count"),n*l}s.inMilliseconds=f;function p(n){return g(n,"timestamp"),Date.now()-n}s.timeSince=p},889136:O=>{var s={}.toString;O.exports=Array.isArray||function(o){return s.call(o)=="[object Array]"}},231034:(O,s,o)=>{"use strict";var y=o(82884),g=Object.keys||function(j){var _=[];for(var C in j)_.push(C);return _};O.exports=d;var f=o(607646);f.inherits=o(991285);var p=o(967187),n=o(703597);f.inherits(d,p);for(var l=g(n.prototype),h=0;h<l.length;h++){var v=l[h];d.prototype[v]||(d.prototype[v]=n.prototype[v])}function d(j){if(!(this instanceof d))return new d(j);p.call(this,j),n.call(this,j),j&&j.readable===!1&&(this.readable=!1),j&&j.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,j&&j.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||y(B,this)}function B(j){j.end()}Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(j){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=j,this._writableState.destroyed=j)}}),d.prototype._destroy=function(j,_){this.push(null),this.end(),y(_,j)};function I(j,_){for(var C=0,J=j.length;C<J;C++)_(j[C],C)}},82598:(O,s,o)=>{"use strict";O.exports=f;var y=o(862287),g=o(607646);g.inherits=o(991285),g.inherits(f,y);function f(p){if(!(this instanceof f))return new f(p);y.call(this,p)}f.prototype._transform=function(p,n,l){l(null,p)}},967187:(O,s,o)=>{"use strict";var y=o(834406),g=o(82884);O.exports=E;var f=o(889136),p;E.ReadableState=S;var n=o(22699).EventEmitter,l=function(e,t){return e.listeners(t).length},h=o(380979),v=o(855691).Buffer,d=o.g.Uint8Array||function(){};function m(e){return v.from(e)}function B(e){return v.isBuffer(e)||e instanceof d}var I=o(607646);I.inherits=o(991285);var j=o(534857),_=void 0;j&&j.debuglog?_=j.debuglog("stream"):_=function(){};var C=o(378991),J=o(48374),D;I.inherits(E,h);var a=["error","close","destroy","pause","resume"];function w(e,t,u){if(typeof e.prependListener=="function")return e.prependListener(t,u);!e._events||!e._events[t]?e.on(t,u):f(e._events[t])?e._events[t].unshift(u):e._events[t]=[u,e._events[t]]}function S(e,t){p=p||o(231034),e=e||{},this.objectMode=!!e.objectMode,t instanceof p&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var u=e.highWaterMark,b=this.objectMode?16:16*1024;this.highWaterMark=u||u===0?u:b,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new C,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(D||(D=o(635099).s),this.decoder=new D(e.encoding),this.encoding=e.encoding)}function E(e){if(p=p||o(231034),!(this instanceof E))return new E(e);this._readableState=new S(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),h.call(this)}Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=J.destroy,E.prototype._undestroy=J.undestroy,E.prototype._destroy=function(e,t){this.push(null),t(e)},E.prototype.push=function(e,t){var u=this._readableState,b;return u.objectMode?b=!0:typeof e=="string"&&(t=t||u.defaultEncoding,t!==u.encoding&&(e=v.from(e,t),t=""),b=!0),W(this,e,t,!1,b)},E.prototype.unshift=function(e){return W(this,e,null,!0,!1)};function W(e,t,u,b,A){var R=e._readableState;if(t===null)R.reading=!1,K(e,R);else{var N;A||(N=X(R,t)),N?e.emit("error",N):R.objectMode||t&&t.length>0?(typeof t!="string"&&!R.objectMode&&Object.getPrototypeOf(t)!==v.prototype&&(t=m(t)),b?R.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):L(e,R,t,!0):R.ended?e.emit("error",new Error("stream.push() after EOF")):(R.reading=!1,R.decoder&&!u?(t=R.decoder.write(t),R.objectMode||t.length!==0?L(e,R,t,!1):te(e,R)):L(e,R,t,!1))):b||(R.reading=!1)}return Y(R)}function L(e,t,u,b){t.flowing&&t.length===0&&!t.sync?(e.emit("data",u),e.read(0)):(t.length+=t.objectMode?1:u.length,b?t.buffer.unshift(u):t.buffer.push(u),t.needReadable&&F(e)),te(e,t)}function X(e,t){var u;return!B(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(u=new TypeError("Invalid non-string/buffer chunk")),u}function Y(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(e){return D||(D=o(635099).s),this._readableState.decoder=new D(e),this._readableState.encoding=e,this};var z=8388608;function G(e){return e>=z?e=z:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function k(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=G(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}E.prototype.read=function(e){_("read",e),e=parseInt(e,10);var t=this._readableState,u=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return _("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?x(this):F(this),null;if(e=k(e,t),e===0&&t.ended)return t.length===0&&x(this),null;var b=t.needReadable;_("need readable",b),(t.length===0||t.length-e<t.highWaterMark)&&(b=!0,_("length less than watermark",b)),t.ended||t.reading?(b=!1,_("reading or ended",b)):b&&(_("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(u,t)));var A;return e>0?A=M(e,t):A=null,A===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),u!==e&&t.ended&&x(this)),A!==null&&this.emit("data",A),A};function K(e,t){if(!t.ended){if(t.decoder){var u=t.decoder.end();u&&u.length&&(t.buffer.push(u),t.length+=t.objectMode?1:u.length)}t.ended=!0,F(e)}}function F(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(_("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?g(ee,e):ee(e))}function ee(e){_("emit readable"),e.emit("readable"),c(e)}function te(e,t){t.readingMore||(t.readingMore=!0,g(V,e,t))}function V(e,t){for(var u=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(_("maybeReadMore read 0"),e.read(0),u!==t.length);)u=t.length;t.readingMore=!1}E.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(e,t){var u=this,b=this._readableState;switch(b.pipesCount){case 0:b.pipes=e;break;case 1:b.pipes=[b.pipes,e];break;default:b.pipes.push(e);break}b.pipesCount+=1,_("pipe count=%d opts=%j",b.pipesCount,t);var A=(!t||t.end!==!1)&&e!==y.stdout&&e!==y.stderr,R=A?ne:Z;b.endEmitted?g(R):u.once("end",R),e.on("unpipe",N);function N(Q,q){_("onunpipe"),Q===u&&q&&q.hasUnpiped===!1&&(q.hasUnpiped=!0,ce())}function ne(){_("onend"),e.end()}var se=ie(u);e.on("drain",se);var de=!1;function ce(){_("cleanup"),e.removeListener("close",le),e.removeListener("finish",ue),e.removeListener("drain",se),e.removeListener("error",fe),e.removeListener("unpipe",N),u.removeListener("end",ne),u.removeListener("end",Z),u.removeListener("data",he),de=!0,b.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&se()}var oe=!1;u.on("data",he);function he(Q){_("ondata"),oe=!1;var q=e.write(Q);q===!1&&!oe&&((b.pipesCount===1&&b.pipes===e||b.pipesCount>1&&re(b.pipes,e)!==-1)&&!de&&(_("false write response, pause",u._readableState.awaitDrain),u._readableState.awaitDrain++,oe=!0),u.pause())}function fe(Q){_("onerror",Q),Z(),e.removeListener("error",fe),l(e,"error")===0&&e.emit("error",Q)}w(e,"error",fe);function le(){e.removeListener("finish",ue),Z()}e.once("close",le);function ue(){_("onfinish"),e.removeListener("close",le),Z()}e.once("finish",ue);function Z(){_("unpipe"),u.unpipe(e)}return e.emit("pipe",u),b.flowing||(_("pipe resume"),u.resume()),e};function ie(e){return function(){var t=e._readableState;_("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&l(e,"data")&&(t.flowing=!0,c(e))}}E.prototype.unpipe=function(e){var t=this._readableState,u={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,u),this);if(!e){var b=t.pipes,A=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var R=0;R<A;R++)b[R].emit("unpipe",this,u);return this}var N=re(t.pipes,e);return N===-1?this:(t.pipes.splice(N,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,u),this)},E.prototype.on=function(e,t){var u=h.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var b=this._readableState;!b.endEmitted&&!b.readableListening&&(b.readableListening=b.needReadable=!0,b.emittedReadable=!1,b.reading?b.length&&F(this):g(ae,this))}return u},E.prototype.addListener=E.prototype.on;function ae(e){_("readable nexttick read 0"),e.read(0)}E.prototype.resume=function(){var e=this._readableState;return e.flowing||(_("resume"),e.flowing=!0,r(this,e)),this};function r(e,t){t.resumeScheduled||(t.resumeScheduled=!0,g(i,e,t))}function i(e,t){t.reading||(_("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),c(e),t.flowing&&!t.reading&&e.read(0)}E.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function c(e){var t=e._readableState;for(_("flow",t.flowing);t.flowing&&e.read()!==null;);}E.prototype.wrap=function(e){var t=this._readableState,u=!1,b=this;e.on("end",function(){if(_("wrapped end"),t.decoder&&!t.ended){var N=t.decoder.end();N&&N.length&&b.push(N)}b.push(null)}),e.on("data",function(N){if(_("wrapped data"),t.decoder&&(N=t.decoder.write(N)),!(t.objectMode&&N==null)&&!(!t.objectMode&&(!N||!N.length))){var ne=b.push(N);ne||(u=!0,e.pause())}});for(var A in e)this[A]===void 0&&typeof e[A]=="function"&&(this[A]=function(N){return function(){return e[N].apply(e,arguments)}}(A));for(var R=0;R<a.length;R++)e.on(a[R],b.emit.bind(b,a[R]));return b._read=function(N){_("wrapped _read",N),u&&(u=!1,e.resume())},b},E._fromList=M;function M(e,t){if(t.length===0)return null;var u;return t.objectMode?u=t.buffer.shift():!e||e>=t.length?(t.decoder?u=t.buffer.join(""):t.buffer.length===1?u=t.buffer.head.data:u=t.buffer.concat(t.length),t.buffer.clear()):u=P(e,t.buffer,t.decoder),u}function P(e,t,u){var b;return e<t.head.data.length?(b=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?b=t.shift():b=u?T(e,t):U(e,t),b}function T(e,t){var u=t.head,b=1,A=u.data;for(e-=A.length;u=u.next;){var R=u.data,N=e>R.length?R.length:e;if(N===R.length?A+=R:A+=R.slice(0,e),e-=N,e===0){N===R.length?(++b,u.next?t.head=u.next:t.head=t.tail=null):(t.head=u,u.data=R.slice(N));break}++b}return t.length-=b,A}function U(e,t){var u=v.allocUnsafe(e),b=t.head,A=1;for(b.data.copy(u),e-=b.data.length;b=b.next;){var R=b.data,N=e>R.length?R.length:e;if(R.copy(u,u.length-e,0,N),e-=N,e===0){N===R.length?(++A,b.next?t.head=b.next:t.head=t.tail=null):(t.head=b,b.data=R.slice(N));break}++A}return t.length-=A,u}function x(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,g(H,t,e))}function H(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function $(e,t){for(var u=0,b=e.length;u<b;u++)t(e[u],u)}function re(e,t){for(var u=0,b=e.length;u<b;u++)if(e[u]===t)return u;return-1}},862287:(O,s,o)=>{"use strict";O.exports=n;var y=o(231034),g=o(607646);g.inherits=o(991285),g.inherits(n,y);function f(h){this.afterTransform=function(v,d){return p(h,v,d)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function p(h,v,d){var m=h._transformState;m.transforming=!1;var B=m.writecb;if(!B)return h.emit("error",new Error("write callback called multiple times"));m.writechunk=null,m.writecb=null,d!=null&&h.push(d),B(v);var I=h._readableState;I.reading=!1,(I.needReadable||I.length<I.highWaterMark)&&h._read(I.highWaterMark)}function n(h){if(!(this instanceof n))return new n(h);y.call(this,h),this._transformState=new f(this);var v=this;this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(d,m){l(v,d,m)}):l(v)})}n.prototype.push=function(h,v){return this._transformState.needTransform=!1,y.prototype.push.call(this,h,v)},n.prototype._transform=function(h,v,d){throw new Error("_transform() is not implemented")},n.prototype._write=function(h,v,d){var m=this._transformState;if(m.writecb=d,m.writechunk=h,m.writeencoding=v,!m.transforming){var B=this._readableState;(m.needTransform||B.needReadable||B.length<B.highWaterMark)&&this._read(B.highWaterMark)}},n.prototype._read=function(h){var v=this._transformState;v.writechunk!==null&&v.writecb&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},n.prototype._destroy=function(h,v){var d=this;y.prototype._destroy.call(this,h,function(m){v(m),d.emit("close")})};function l(h,v,d){if(v)return h.emit("error",v);d!=null&&h.push(d);var m=h._writableState,B=h._transformState;if(m.length)throw new Error("Calling transform done when ws.length != 0");if(B.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}},703597:(O,s,o)=>{"use strict";var y=o(834406),g=o(82884);O.exports=a;function f(r,i,c){this.chunk=r,this.encoding=i,this.callback=c,this.next=null}function p(r){var i=this;this.next=null,this.entry=null,this.finish=function(){ae(i,r)}}var n=!y.browser&&["v0.10","v0.9."].indexOf(y.version.slice(0,5))>-1?setImmediate:g,l;a.WritableState=J;var h=o(607646);h.inherits=o(991285);var v={deprecate:o(405803)},d=o(380979),m=o(855691).Buffer,B=o.g.Uint8Array||function(){};function I(r){return m.from(r)}function j(r){return m.isBuffer(r)||r instanceof B}var _=o(48374);h.inherits(a,d);function C(){}function J(r,i){l=l||o(231034),r=r||{},this.objectMode=!!r.objectMode,i instanceof l&&(this.objectMode=this.objectMode||!!r.writableObjectMode);var c=r.highWaterMark,M=this.objectMode?16:16*1024;this.highWaterMark=c||c===0?c:M,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=r.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){z(i,T)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}J.prototype.getBuffer=function(){for(var i=this.bufferedRequest,c=[];i;)c.push(i),i=i.next;return c},function(){try{Object.defineProperty(J.prototype,"buffer",{get:v.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var D;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(r){return D.call(this,r)?!0:r&&r._writableState instanceof J}})):D=function(r){return r instanceof this};function a(r){if(l=l||o(231034),!D.call(a,this)&&!(this instanceof l))return new a(r);this._writableState=new J(r,this),this.writable=!0,r&&(typeof r.write=="function"&&(this._write=r.write),typeof r.writev=="function"&&(this._writev=r.writev),typeof r.destroy=="function"&&(this._destroy=r.destroy),typeof r.final=="function"&&(this._final=r.final)),d.call(this)}a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function w(r,i){var c=new Error("write after end");r.emit("error",c),g(i,c)}function S(r,i,c,M){var P=!0,T=!1;return c===null?T=new TypeError("May not write null values to stream"):typeof c!="string"&&c!==void 0&&!i.objectMode&&(T=new TypeError("Invalid non-string/buffer chunk")),T&&(r.emit("error",T),g(M,T),P=!1),P}a.prototype.write=function(r,i,c){var M=this._writableState,P=!1,T=j(r)&&!M.objectMode;return T&&!m.isBuffer(r)&&(r=I(r)),typeof i=="function"&&(c=i,i=null),T?i="buffer":i||(i=M.defaultEncoding),typeof c!="function"&&(c=C),M.ended?w(this,c):(T||S(this,M,r,c))&&(M.pendingcb++,P=W(this,M,T,r,i,c)),P},a.prototype.cork=function(){var r=this._writableState;r.corked++},a.prototype.uncork=function(){var r=this._writableState;r.corked&&(r.corked--,!r.writing&&!r.corked&&!r.finished&&!r.bufferProcessing&&r.bufferedRequest&&K(this,r))},a.prototype.setDefaultEncoding=function(i){if(typeof i=="string"&&(i=i.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((i+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+i);return this._writableState.defaultEncoding=i,this};function E(r,i,c){return!r.objectMode&&r.decodeStrings!==!1&&typeof i=="string"&&(i=m.from(i,c)),i}function W(r,i,c,M,P,T){if(!c){var U=E(i,M,P);M!==U&&(c=!0,P="buffer",M=U)}var x=i.objectMode?1:M.length;i.length+=x;var H=i.length<i.highWaterMark;if(H||(i.needDrain=!0),i.writing||i.corked){var $=i.lastBufferedRequest;i.lastBufferedRequest={chunk:M,encoding:P,isBuf:c,callback:T,next:null},$?$.next=i.lastBufferedRequest:i.bufferedRequest=i.lastBufferedRequest,i.bufferedRequestCount+=1}else L(r,i,!1,x,M,P,T);return H}function L(r,i,c,M,P,T,U){i.writelen=M,i.writecb=U,i.writing=!0,i.sync=!0,c?r._writev(P,i.onwrite):r._write(P,T,i.onwrite),i.sync=!1}function X(r,i,c,M,P){--i.pendingcb,c?(g(P,M),g(V,r,i),r._writableState.errorEmitted=!0,r.emit("error",M)):(P(M),r._writableState.errorEmitted=!0,r.emit("error",M),V(r,i))}function Y(r){r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0}function z(r,i){var c=r._writableState,M=c.sync,P=c.writecb;if(Y(c),i)X(r,c,M,i,P);else{var T=F(c);!T&&!c.corked&&!c.bufferProcessing&&c.bufferedRequest&&K(r,c),M?n(G,r,c,T,P):G(r,c,T,P)}}function G(r,i,c,M){c||k(r,i),i.pendingcb--,M(),V(r,i)}function k(r,i){i.length===0&&i.needDrain&&(i.needDrain=!1,r.emit("drain"))}function K(r,i){i.bufferProcessing=!0;var c=i.bufferedRequest;if(r._writev&&c&&c.next){var M=i.bufferedRequestCount,P=new Array(M),T=i.corkedRequestsFree;T.entry=c;for(var U=0,x=!0;c;)P[U]=c,c.isBuf||(x=!1),c=c.next,U+=1;P.allBuffers=x,L(r,i,!0,i.length,P,"",T.finish),i.pendingcb++,i.lastBufferedRequest=null,T.next?(i.corkedRequestsFree=T.next,T.next=null):i.corkedRequestsFree=new p(i)}else{for(;c;){var H=c.chunk,$=c.encoding,re=c.callback,e=i.objectMode?1:H.length;if(L(r,i,!1,e,H,$,re),c=c.next,i.writing)break}c===null&&(i.lastBufferedRequest=null)}i.bufferedRequestCount=0,i.bufferedRequest=c,i.bufferProcessing=!1}a.prototype._write=function(r,i,c){c(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(r,i,c){var M=this._writableState;typeof r=="function"?(c=r,r=null,i=null):typeof i=="function"&&(c=i,i=null),r!=null&&this.write(r,i),M.corked&&(M.corked=1,this.uncork()),!M.ending&&!M.finished&&ie(this,M,c)};function F(r){return r.ending&&r.length===0&&r.bufferedRequest===null&&!r.finished&&!r.writing}function ee(r,i){r._final(function(c){i.pendingcb--,c&&r.emit("error",c),i.prefinished=!0,r.emit("prefinish"),V(r,i)})}function te(r,i){!i.prefinished&&!i.finalCalled&&(typeof r._final=="function"?(i.pendingcb++,i.finalCalled=!0,g(ee,r,i)):(i.prefinished=!0,r.emit("prefinish")))}function V(r,i){var c=F(i);return c&&(te(r,i),i.pendingcb===0&&(i.finished=!0,r.emit("finish"))),c}function ie(r,i,c){i.ending=!0,V(r,i),c&&(i.finished?g(c):r.once("finish",c)),i.ended=!0,r.writable=!1}function ae(r,i,c){var M=r.entry;for(r.entry=null;M;){var P=M.callback;i.pendingcb--,P(c),M=M.next}i.corkedRequestsFree?i.corkedRequestsFree.next=r:i.corkedRequestsFree=r}Object.defineProperty(a.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(r){this._writableState&&(this._writableState.destroyed=r)}}),a.prototype.destroy=_.destroy,a.prototype._undestroy=_.undestroy,a.prototype._destroy=function(r,i){this.end(),i(r)}},378991:(O,s,o)=>{"use strict";function y(p,n){if(!(p instanceof n))throw new TypeError("Cannot call a class as a function")}var g=o(855691).Buffer;function f(p,n,l){p.copy(n,l)}O.exports=function(){function p(){y(this,p),this.head=null,this.tail=null,this.length=0}return p.prototype.push=function(l){var h={data:l,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length},p.prototype.unshift=function(l){var h={data:l,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length},p.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},p.prototype.clear=function(){this.head=this.tail=null,this.length=0},p.prototype.join=function(l){if(this.length===0)return"";for(var h=this.head,v=""+h.data;h=h.next;)v+=l+h.data;return v},p.prototype.concat=function(l){if(this.length===0)return g.alloc(0);if(this.length===1)return this.head.data;for(var h=g.allocUnsafe(l>>>0),v=this.head,d=0;v;)f(v.data,h,d),d+=v.data.length,v=v.next;return h},p}()},48374:(O,s,o)=>{"use strict";var y=o(82884);function g(n,l){var h=this,v=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;if(v||d){l?l(n):n&&(!this._writableState||!this._writableState.errorEmitted)&&y(p,this,n);return}this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(m){!l&&m?(y(p,h,m),h._writableState&&(h._writableState.errorEmitted=!0)):l&&l(m)})}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p(n,l){n.emit("error",l)}O.exports={destroy:g,undestroy:f}},380979:(O,s,o)=>{O.exports=o(22699).EventEmitter},255800:(O,s,o)=>{s=O.exports=o(967187),s.Stream=s,s.Readable=s,s.Writable=o(703597),s.Duplex=o(231034),s.Transform=o(862287),s.PassThrough=o(82598)},855691:(O,s,o)=>{var y=o(348834),g=y.Buffer;function f(n,l){for(var h in n)l[h]=n[h]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?O.exports=y:(f(y,s),s.Buffer=p);function p(n,l,h){return g(n,l,h)}f(g,p),p.from=function(n,l,h){if(typeof n=="number")throw new TypeError("Argument must not be a number");return g(n,l,h)},p.alloc=function(n,l,h){if(typeof n!="number")throw new TypeError("Argument must be a number");var v=g(n);return l!==void 0?typeof h=="string"?v.fill(l,h):v.fill(l):v.fill(0),v},p.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return g(n)},p.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return y.SlowBuffer(n)}},635099:(O,s,o)=>{"use strict";var y=o(855691).Buffer,g=y.isEncoding||function(a){switch(a=""+a,a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(a){if(!a)return"utf8";for(var w;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(w)return;a=(""+a).toLowerCase(),w=!0}}function p(a){var w=f(a);if(typeof w!="string"&&(y.isEncoding===g||!g(a)))throw new Error("Unknown encoding: "+a);return w||a}s.s=n;function n(a){this.encoding=p(a);var w;switch(this.encoding){case"utf16le":this.text=I,this.end=j,w=4;break;case"utf8":this.fillLast=d,w=4;break;case"base64":this.text=_,this.end=C,w=3;break;default:this.write=J,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(w)}n.prototype.write=function(a){if(a.length===0)return"";var w,S;if(this.lastNeed){if(w=this.fillLast(a),w===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<a.length?w?w+this.text(a,S):this.text(a,S):w||""},n.prototype.end=B,n.prototype.text=m,n.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length};function l(a){return a<=127?0:a>>5===6?2:a>>4===14?3:a>>3===30?4:-1}function h(a,w,S){var E=w.length-1;if(E<S)return 0;var W=l(w[E]);return W>=0?(W>0&&(a.lastNeed=W-1),W):--E<S?0:(W=l(w[E]),W>=0?(W>0&&(a.lastNeed=W-2),W):--E<S?0:(W=l(w[E]),W>=0?(W>0&&(W===2?W=0:a.lastNeed=W-3),W):0))}function v(a,w,S){if((w[0]&192)!==128)return a.lastNeed=0,"\uFFFD".repeat(S);if(a.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return a.lastNeed=1,"\uFFFD".repeat(S+1);if(a.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return a.lastNeed=2,"\uFFFD".repeat(S+2)}}function d(a){var w=this.lastTotal-this.lastNeed,S=v(this,a,w);if(S!==void 0)return S;if(this.lastNeed<=a.length)return a.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,w,0,a.length),this.lastNeed-=a.length}function m(a,w){var S=h(this,a,w);if(!this.lastNeed)return a.toString("utf8",w);this.lastTotal=S;var E=a.length-(S-this.lastNeed);return a.copy(this.lastChar,0,E),a.toString("utf8",w,E)}function B(a){var w=a&&a.length?this.write(a):"";return this.lastNeed?w+"\uFFFD".repeat(this.lastTotal-this.lastNeed):w}function I(a,w){if((a.length-w)%2===0){var S=a.toString("utf16le",w);if(S){var E=S.charCodeAt(S.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",w,a.length-1)}function j(a){var w=a&&a.length?this.write(a):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,S)}return w}function _(a,w){var S=(a.length-w)%3;return S===0?a.toString("base64",w):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",w,a.length-S))}function C(a){var w=a&&a.length?this.write(a):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function J(a){return a.toString(this.encoding)}function D(a){return a&&a.length?this.write(a):""}},769378:O=>{"use strict";O.exports=function s(o,y){if(o===y)return!0;if(o&&y&&typeof o=="object"&&typeof y=="object"){if(o.constructor!==y.constructor)return!1;var g,f,p;if(Array.isArray(o)){if(g=o.length,g!=y.length)return!1;for(f=g;f--!==0;)if(!s(o[f],y[f]))return!1;return!0}if(o.constructor===RegExp)return o.source===y.source&&o.flags===y.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===y.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===y.toString();if(p=Object.keys(o),g=p.length,g!==Object.keys(y).length)return!1;for(f=g;f--!==0;)if(!Object.prototype.hasOwnProperty.call(y,p[f]))return!1;for(f=g;f--!==0;){var n=p[f];if(!s(o[n],y[n]))return!1}return!0}return o!==o&&y!==y}},82884:(O,s,o)=>{"use strict";var y=o(834406);!y.version||y.version.indexOf("v0.")===0||y.version.indexOf("v1.")===0&&y.version.indexOf("v1.8.")!==0?O.exports=g:O.exports=y.nextTick;function g(f,p,n,l){if(typeof f!="function")throw new TypeError('"callback" argument must be a function');var h=arguments.length,v,d;switch(h){case 0:case 1:return y.nextTick(f);case 2:return y.nextTick(function(){f.call(null,p)});case 3:return y.nextTick(function(){f.call(null,p,n)});case 4:return y.nextTick(function(){f.call(null,p,n,l)});default:for(v=new Array(h-1),d=0;d<v.length;)v[d++]=arguments[d];return y.nextTick(function(){f.apply(null,v)})}}}}]);
