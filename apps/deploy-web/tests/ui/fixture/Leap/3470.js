"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([[3470],{183470:(z,u,t)=>{t.r(u),t.d(u,{default:()=>b});var i=t(964266),n=t(339279),x=t(571696),y=t.n(x),w=t(892742),E=t(128844),a=t(164012),N=t(532833),p=t(508181),C=t(378268),e=t(202784),T=t(610675),S=t(111819),A=t(15815),I=t(712878),j=t(472565),l=t.n(j),L=t(905865),k=t(861111);function g({src:s,bodyText:o,alt:m="chain logo"}){const d=(0,L.a)();return e.createElement("div",{className:"flex flex-col items-center justify-center gap-1"},e.createElement("img",{src:s,onError:(0,k._)(d),alt:m,className:"w-[36px] h-[36px] rounded-full"}),e.createElement("p",{className:"dark:text-white-100 text-gray-900"},o))}function b(){const s=(0,i.QSC)(),o=(0,i.rTu)(),{topChainColor:m}=(0,N.Cd)();y()(o!==null,"activeWallet is null");const d=(0,e.useMemo)(()=>(0,S.k)(o.name),[o.name]),h=(0,i.DI5)(),[r,f]=(0,e.useState)(!1),[c,B]=(0,e.useState)(""),[v,R]=(0,e.useState)();(0,e.useEffect)(()=>{l().storage.local.get([a.AI]).then(async function(G){const{requestedActiveChain:U,setNetworkTo:O}=G[a.AI].msg;B(U),R(O)})},[]);const W=async()=>{await l().storage.local.set({[a.u1]:{error:"Rejected by the user."}}),setTimeout(async()=>{await l().storage.local.remove([a.AI]),await l().storage.local.remove(a.u1),window.close()},10)},D=async()=>{f(!0),await l().storage.local.set({[a.hs]:c}),v&&await l().storage.local.set({[a.Ol]:v}),await l().storage.local.set({[a.u1]:{data:"Approved"}}),setTimeout(async()=>{await l().storage.local.remove([a.AI]),await l().storage.local.remove(a.u1),f(!1),window.close()},50)};return e.createElement("div",{className:"w-[400px] h-full relative self-center justify-self-center flex justify-center items-center mt-2"},e.createElement("div",{className:"relative w-[400px] overflow-clip rounded-md border border-gray-300 dark:border-gray-900"},e.createElement(w.Z,{header:e.createElement("div",{className:"w-[396px]"},e.createElement(n.Header,{imgSrc:s.chainSymbolImageUrl??C.GenericLight,title:e.createElement(n.Buttons.Wallet,{brandLogo:(0,A.l)()?e.createElement("img",{className:"w-[24px] h-[24px] mr-1",src:p.r.Logos.CompassCircle}):void 0,title:(0,I.fy)(d,10),className:"pr-4 cursor-default"})}))},e.createElement("div",{className:"px-7 py-3 overflow-y-auto relative h-[450px]"},e.createElement("h2",{className:"text-center text-lg font-bold dark:text-white-100 text-gray-900 w-full"},"Allow this site to switch the chain?"),e.createElement("p",{className:"text-center text-sm dark:text-gray-300 text-gray-500 w-full"},"This will switch the selected chain within Compass to a previously added chain:"),e.createElement("div",{className:"flex w-full p-8 items-center justify-between"},e.createElement(g,{src:s.chainSymbolImageUrl??"",bodyText:s.chainName,alt:s.chainName+" logo"}),e.createElement("div",{className:"bg-gray-100 dark:bg-gray-850 shrink-0 flex justify-center items-center w-[36px] h-[36px] rounded-full"},e.createElement("span",{className:"dark:text-white-100 text-black-100 material-icons-round !leading-[24px] text-lg"},"arrow_forward")),e.createElement(g,{src:h[c]?.chainSymbolImageUrl??"",bodyText:h[c]?.chainName??"",alt:h[c]?.chainName+" logo"}))),e.createElement("div",{className:"absolute bottom-[36px] left-0 py-3 px-7 dark:bg-black-100 bg-gray-50 w-full"},e.createElement("div",{className:"flex items-center justify-center w-full space-x-3"},e.createElement(n.Buttons.Generic,{title:"Reject Button",color:T.w.gray900,onClick:W,disabled:r},"Reject"),e.createElement(n.Buttons.Generic,{title:"Approve Button",color:m,onClick:D,disabled:r,className:`${r?"cursor-not-allowed opacity-50":""}`},r?e.createElement(E.T,{color:"white"}):"Switch chain"))))))}}}]);
