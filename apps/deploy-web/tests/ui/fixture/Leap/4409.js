"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([[4409],{79782:(K,C,s)=>{s.d(C,{Z:()=>L});var f=s(339279),M=s.n(f),_=s(294184),D=s.n(_),I=s(676072),e=s(94608),y=s(840575),x=s(508181),t=s(202784),O=s(610675),w=s(15815),N=s(967112);function L({onProceed:p}){const[b,T]=(0,t.useState)(!1),[h,v]=(0,t.useState)(null),[A,B]=(0,t.useState)(!0),Z=(0,y.ck)(),[W,S]=(0,t.useState)(""),[n,r]=(0,t.useState)({pass1:"",pass2:""}),[a,l]=(0,t.useState)({pass1:"",pass2:""}),o=(0,t.useCallback)(()=>(l({pass1:"",pass2:""}),n.pass1.length<8?(l(d=>({...d,pass1:"Password must be at least 8 characters"})),!1):!0),[n.pass1.length]),c=(0,t.useCallback)(()=>n.pass1!=n.pass2?(l(d=>({...d,pass2:"Passwords do not match"})),!1):!(a.pass1||a.pass2||!o()),[a.pass1,a.pass2,n.pass1,n.pass2,o]),u=async d=>{if(d){const P=(0,N.j)(d);v(P)}else v(null)},i=async()=>{try{T(!0),await Z(n.pass1),await p(n.pass1)}catch(d){S(d.message)}finally{T(!1)}},E=async d=>{d.preventDefault(),c()&&await i()},g=d=>{const{name:P,value:z}=d.target;W&&S(""),a[P]&&(delete a[P],l(a)),r({...n,[P]:z})},m=d=>{if(d.key.toLowerCase()==="enter"){const P=d.target;P.name==="pass2"&&c()&&i();const z=P.form,U=[...z].indexOf(P);z.elements[U+1].focus(),d.preventDefault()}},R=!!a.pass1||!!a.pass2||!n.pass1||!n.pass2;return(0,t.useEffect)(()=>{n.pass1.length!=0&&o()},[n.pass1,o]),(0,t.useEffect)(()=>{const d=setTimeout(()=>{u(n.pass1)},500);return()=>{clearTimeout(d)}},[n.pass1]),t.createElement("div",{className:"flex flex-row gap-x-[20px]"},t.createElement("div",{className:"flex flex-col w-[408px]"},t.createElement("div",{className:"flex flex-row gap-x-[12px]"},t.createElement("img",{src:x.r.Misc.LockFilled,width:"32",height:"32"}),t.createElement(e.Z,{size:"xxl",className:"font-medium"},"Choose a Password")),t.createElement(e.Z,{size:"md",color:"text-gray-400",className:"font-medium mb-[32px]"},"Use this password to unlock your wallet"),t.createElement("form",{onSubmit:E},t.createElement("div",{className:"relative flex flex-col gap-y-[20px]"},t.createElement(f.Input,{autoFocus:!0,placeholder:"Enter password",type:"password",name:"pass1",onKeyDown:m,value:n.pass1,isErrorHighlighted:!!a.pass1||!!a.pass2,onChange:g,"data-testing-id":"input-password"}),h!==null&&t.createElement("div",{className:"absolute flex justify-center items-center top-[1px] right-[40px] w-[80px] h-[45px] bg-white-100 dark:bg-gray-900"},h===4&&t.createElement(e.Z,{size:"md",color:"text-green-600 dark:text-green-300 px-5 font-bold"},"Strong"),h===3&&t.createElement(e.Z,{size:"md",color:"text-orange-500 dark:text-orange-300 px-5 font-bold"},"Medium"),h<3&&t.createElement(e.Z,{size:"md",color:"text-red-300 dark:text-red-300 px-5 font-bold"},"Weak")),a.pass1&&t.createElement(e.Z,{size:"sm",color:"text-red-300"},a.pass1),t.createElement(f.Input,{name:"pass2",value:n.pass2,placeholder:"Re-enter password",type:"password",onKeyDown:m,isErrorHighlighted:!!a.pass2,onChange:g,"data-testing-id":"input-confirm-password"}),a.pass2&&t.createElement(e.Z,{size:"sm",color:"text-red-300","data-testing-id":"password-error-ele"},a.pass2)),t.createElement("div",{className:"w-[376px] h-auto rounded-xl dark:bg-gray-900 bg-white-100 flex items-center px-4 py-3 my-7"},t.createElement("img",{className:"mr-[16px]",src:x.r.Misc.Warning,width:"40",height:"40"}),t.createElement("div",{className:"flex flex-col gap-y-[2px]"},t.createElement(e.Z,{size:"sm",color:"text-gray-400 font-bold"},"Recommended security practice:"),t.createElement(e.Z,{size:"md",color:"font-bold text-gray-400 dark:text-white-100"},"Always choose a ",t.createElement("span",{className:"text-green-300"},"\xA0strong\xA0")," password"))),b?t.createElement(f.Buttons.Generic,{color:O.w.cosmosPrimary,type:"button",className:"flex items-center"},t.createElement(I.Z,null)):t.createElement(f.Buttons.Generic,{disabled:R||b||!A,color:O.w.cosmosPrimary,type:"submit","data-testing-id":"btn-password-proceed"},"Proceed"),W&&t.createElement(e.Z,{size:"sm",color:"text-red-300 text-center justify-center w-[376px] mt-[5px]"},W),t.createElement("div",{className:"flex flex-row items-center mt-6"},t.createElement("input",{type:"checkbox",id:"terms",name:"terms",value:"terms",className:"cursor-pointer mr-2 h-4 w-4 bg-black-50",checked:A,onChange:d=>B(d.target.checked)}),t.createElement(e.Z,{size:"md",color:"text-gray-400"},"By proceeding, you agree to our",t.createElement("a",{href:(0,w.l)()?"https://compasswallet.io/terms":"https://www.leapwallet.io/terms",target:"_blank",rel:"noreferrer",className:D()("font-medium ml-1",{"text-indigo-300":!(0,w.l)()}),style:(0,w.l)()?{color:O.w.compassPrimary}:{}},"Terms of Use"))))),t.createElement("div",null,t.createElement("div",{className:"shrink flex-col gap-y-[4px] w-[408px] p-[32px] rounded-lg border-[1px] border-gray-800"},t.createElement(e.Z,{size:"md",className:"font-bold",color:"text-gray-200"}," ","Why do I need to enter a password?"),t.createElement(e.Z,{size:"sm",color:"text-gray-400 mb-[32px] font-medium mt-1"}," ","For your wallet protection, ",(0,w.l)()?"Compass":"Leap"," locks your wallet after 15 minutes of inactivity. You will need this password to unlock it."),t.createElement(e.Z,{size:"md",className:"font-bold",color:"text-gray-200"}," ","Can I recover a password?"),t.createElement(e.Z,{size:"sm",color:"text-gray-400 font-medium mt-1"},"The password is stored securely on your device. We will not be able to recover it for you, so make sure you remember it!"))))}},428814:(K,C,s)=>{s.d(C,{k:()=>t});var f=s(964266),M=s(564510),_=s(395362),D=s(606367),I=s(965784),e=s(244876),y=s(202784),x=s(15815);function t(){const[O,w]=(0,y.useState)(),N=e.w.useImportMultipleWalletAccounts(),{chains:L}=(0,f._IL)(),[p,b]=(0,y.useState)(""),T=e.w.useSaveLedgerWallet(),h=(0,y.useRef)();(0,y.useEffect)(()=>{if(!p){const r=I.W.CreateNewMnemonic();b(r)}},[p]);const v=r=>{h.current=r},A=(r,a,l,o)=>{if(r&&a)return N({mnemonic:r,password:a,selectedAddressIndexes:Object.entries(l).filter(([,c])=>c).map(([c])=>parseInt(c)),type:o})},B=async(r,a)=>{if(r){const l=Object.entries(h.current??{}).filter(([,o])=>{const c=(0,x.l)()?"seiTestnet2":"cosmos";return a.indexOf(o[c].address)>-1}).reduce((o,c)=>{const[u,i]=c;return o[parseInt(u)]={chainAddresses:i},o},{});await T({addresses:l,password:r,pubKeys:(O??[]).map(o=>o.pubkey)})}},Z=async r=>{const a=(0,x.l)()?"sei":"cosmos",l=await _.Kn.getWalletsFromMnemonic(r,5,"118",a);w(l)};function W(r,a){const l=Object.keys(a).map(c=>parseInt(c)),o={...a};for(const c of l)o[c]?o[c]={...o[c],...r[c]}:o[c]=r[c];return o}return{mnemonic:p,walletAccounts:O,getAccountDetails:Z,getLedgerAccountDetails:async r=>{const a=(0,x.l)()?"seiTestnet2":"cosmos",l="injective",{primaryChainAccount:o,chainWiseAddresses:c}=await(0,M.hW4)([0,1,2,3,4],r,r?l:a,[],L);w(o.map((i,E)=>({address:i.address,pubkey:i.pubkey,index:E})));const u={};for(const[i,E]of Object.entries(c)){let g=0;for(const m of E)u[g]?u[g][i]=m:u[g]={[i]:m},g+=1}if(h.current){const i=W(u,h.current);v(i)}else v(u)},onOnboardingComplete:A,onBoardingCompleteLedger:B,getEvmLedgerAccountDetails:async()=>{const a=(0,x.l)()?"seiTestnet2":"cosmos",l="injective",{chainWiseAddresses:o}=await(0,M.hW4)([0,1,2,3,4],!0,l,D.F3,L),c={};for(const[u,i]of Object.entries(o)){let E=0;for(const g of i)c[E]?c[E][u]=g:c[E]={[u]:g},E+=1}if(h.current){const u=W(c,h.current);v(u)}else v(c)}}}},154409:(K,C,s)=>{s.r(C),s.d(C,{default:()=>S});var f=s(339279),M=s(79782),_=s(133525),D=s(428814),I=s(840575),e=s(202784),y=s(410289),x=s(610675),t=s(472565),O=s.n(t),w=s(294184),N=s.n(w),L=s(515742),p=s(94608);function b(n,r){return n.trim().split(" ").slice(r-1,r)[0]}var T=s(508181),h=s(15815);function v({children:n,heading:r,subHeading:a}){return e.createElement("div",{className:"flex flex-row gap-x-[20px]"},e.createElement("div",{className:"flex flex-col w-[408px] justify-center"},e.createElement("div",{className:"flex flex-wrap gap-x-[20px]"},e.createElement("img",{src:T.r.Misc.KeyDark,className:"mb-[10px]",height:36,width:36})," ",e.createElement("br",null),e.createElement(p.Z,{size:"xxl",className:"font-medium"},r)),e.createElement(p.Z,{size:"lg",color:"text-gray-600 dark:text-gray-400",className:"font-light mb-[32px]"},a),n),e.createElement("div",null,e.createElement("div",{className:"shrink flex-col gap-y-[4px] w-[408px] p-[32px] rounded-lg border-[1px] border-gray-800"},e.createElement(p.Z,{size:"lg",className:"font-medium"}," ","What is a recovery phrase?"),e.createElement(p.Z,{size:"md",color:"text-gray-600 dark:text-gray-400 mb-[32px]"}," ","Recovery phrase is a 12 or 24-word phrase that can be used to restore your wallet. The recovery phrase alone can give anyone full access to your wallet and the funds."),e.createElement(p.Z,{size:"lg",className:"font-medium"}," ","What if I lose the recovery phrase?"),e.createElement(p.Z,{size:"md",color:"text-gray-600 dark:text-gray-400 mb-[32px]"},"There is no way to get back your recovery phrase if you lose it. Make sure you store them at someplace safe which is accessible only to you."),e.createElement(p.Z,{size:"lg",className:"font-medium"}," ","Precautions to follow:"),e.createElement(p.Z,{size:"md",color:"text-gray-600 dark:text-gray-400"},e.createElement("ul",null,e.createElement("li",null,"Never share your recovery phrase with anyone or enter it in any form"),e.createElement("li",null,(0,h.l)()?"Compass":"Leap"," support will never ask for your recovery phrase."))))))}function A({value:n,onChange:r,name:a,className:l,...o}){return e.createElement("input",{type:"text",className:N()("w-[80px] h-[28px] border-[1px] border-solid dark:border-white-100 border-gray-800 focus:outline-none rounded-2xl dark:bg-gray-800 bg-gray-50 text-center dark:text-white-100 text-gray-800",l),value:n??"",name:a??"",onChange:r,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",...o})}function B({onProceed:n,mnemonic:r}){const[a,l]=(0,e.useState)(""),[o,c]=(0,e.useState)({four:"",eight:"",tweleve:""}),u=(0,e.useMemo)(()=>{const m=r.trim().split(" ");return m[3]="",m[7]="",m[11]="",m.join(" ")},[r]);function i(m){l(""),c(R=>({...R,[m.target.name]:m.target.value}))}function E(){if(b(r,4)!==o.four.trim()){l("Enter correct 4th word.");return}if(b(r,8)!==o.eight.trim()){l("Enter correct 8th word.");return}if(b(r,12)!==o.tweleve.trim()){l("Enter correct 12th word.");return}n()}const g=(0,e.useMemo)(function(){return Object.values(o).includes("")},[o]);return e.createElement(v,{heading:"Confirm Recovery Phrase",subHeading:"Enter the 4th, 8th and 12th words of your Recovery Phrase"},e.createElement("form",{onSubmit:m=>m.preventDefault()},e.createElement("div",{className:N()("relative rounded-2xl dark:bg-gray-900 bg-white-100 text-xs font-medium box-border font-Satoshi h-[184px] w-[376px] p-5",{"mb-[25px]":a===""})},e.createElement(L.Q,{height:144,width:376-30,text:u,noSpace:!1}),e.createElement(A,{name:"four",value:o.four,onChange:i,className:"absolute top-[63px] left-[45px]","data-testing-id":"input-fourth-word"}),e.createElement(A,{name:"eight",value:o.eight,onChange:i,className:"absolute top-[98px] left-[160px]","data-testing-id":"input-eighth-word"}),e.createElement(A,{name:"tweleve",value:o.tweleve,onChange:i,className:"absolute top-[130px] left-[273px]","data-testing-id":"input-tweleveth-word"})),a&&e.createElement(p.Z,{size:"sm",color:"text-red-300 mt-[12px] mb-[16px]","data-testing-id":"error-text-ele"},a),e.createElement(f.Buttons.Generic,{type:"submit",disabled:g,color:x.w.cosmosPrimary,onClick:E,"data-testing-id":"confirm-phrase-btn"},"Confirm")))}var Z=s(170849);function W({onProceed:n,mnemonic:r}){return e.createElement(v,{heading:"Recovery Phrase",subHeading:"These words are the keys to your wallet. Please write them down or store it somewhere safe."},e.createElement(L.Z,{text:r,noSpace:!1}),e.createElement("div",{className:"flex m-[5px] justify-center"},e.createElement(f.Buttons.CopyToClipboard,{color:x.w.cosmosPrimary,onCopy:()=>{Z.i.copyText(r)},"data-testing-id":"mnemonic-copy-to-clipboard"})),e.createElement("div",{className:"w-[376px] h-auto rounded-xl dark:bg-gray-900 bg-white-100 flex items-center p-[10px] mb-[20px]"},e.createElement("img",{className:"mr-[16px]",src:T.r.Misc.Warning}),e.createElement("div",{className:"flex flex-col gap-y-[2px]"},e.createElement(p.Z,{size:"xs",className:"tex font-black"},"Recommended security practice:"),e.createElement(p.Z,{size:"xs",color:"text-gray-400"},"Write down recovery phrase instead of copying it"))),e.createElement(f.Buttons.Generic,{disabled:r.length==0,color:x.w.cosmosPrimary,onClick:()=>{n()},"data-testing-id":"saved-mnemonic-btn"},"I have saved it somewhere safe."))}function S(){const{mnemonic:n,onOnboardingComplete:r}=(0,D.k)(),a=(0,I.iJ)(),[l,o]=(0,e.useState)(1),c=(0,y.s0)(),u=4,i=async m=>{await r(n,m,{0:!0},"create"),O().runtime.sendMessage({type:"unlock",data:{password:m}}),c("/onboardingSuccess")},E=()=>{l===2&&a?i(a):o(l+1)},g=()=>{l>1?o(l-1):c(-1)};return e.createElement(_.Z,{titleComponent:e.createElement("div",{className:"flex flex-row w-[836px] items-center justify-between align- w-[calc(100%-500px)]"},e.createElement(f.Buttons.Back,{isFilled:!0,onClick:g}),e.createElement(f.ProgressBar,{color:x.w.cosmosPrimary,currentStep:l,totalSteps:u}),e.createElement("div",null))},l===1&&e.createElement(W,{mnemonic:n,onProceed:E}),l===2&&e.createElement(B,{mnemonic:n,onProceed:E}),l===3&&!a&&e.createElement(M.Z,{onProceed:i}))}},967112:(K,C,s)=>{s.d(C,{j:()=>e});var f=s(775667),M=s(610054),_=s(310693),D=s(756658);const I={dictionary:{...M.Z.dictionary,...D.Z.dictionary,..._.Z.dictionary},graphs:M.Z.adjacencyGraphs,useLevenshteinDistance:!0,translations:D.Z.translations};f.Mu.setOptions(I);const e=y=>(0,f.tu)(y).score}}]);
