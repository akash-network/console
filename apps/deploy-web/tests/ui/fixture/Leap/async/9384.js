!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="55de4197-bd08-4129-a429-29d75b52d847",e._sentryDebugIdIdentifier="sentry-dbid-55de4197-bd08-4129-a429-29d75b52d847")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.22.8"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["9384"],{52056:function(e,t,a){var s,n;a.d(t,{y:()=>s}),a(55968),a(95238),(n=s||(s={})).SEND_TX="send-tx-to-background",n.REQUEST_SIGN_DIRECT="request-sign-direct",n.REQUEST_SIGN_AMINO="request-sign-amino",n.GET_KEY="get-key",n.GET_KEYS="get-keys",n.ENABLE_ACCESS="enable-access",n.GET_CHAIN_INFOS_WITHOUT_ENDPOINTS="get-chain-infos-without-endpoints",n.GET_SUPPORTED_CHAINS="get-supported-chains",n.GET_CONNECTION_STATUS="get-connection-status",n.ADD_SUGGESTED_CHAIN="add-suggested-chain",n.DISCONNECT="disconnect",n.GET_SECRET20_VIEWING_KEY="get-secret20-viewing-key",n.SUGGEST_TOKEN="suggest-token",n.SUGGEST_CW20_TOKEN="suggest-cw20-token",n.UPDATE_SECRET20_VIEWING_KEY="update-secret20-viewing-key",n.GET_PUBKEY_MSG="get-pubkey-msg",n.GET_TX_ENCRYPTION_KEY_MSG="get-tx-encryption-key-msg",n.REQUEST_ENCRYPT_MSG="request-encrypt-msg",n.REQUEST_DECRYPT_MSG="request-decrypt-msg",n.REQUEST_VERIFY_ADR36_AMINO_SIGN_DOC="request-verify-adr36-amino-sign-doc",n.REQUEST_SIGN_EIP712="request-sign-eip712",n.OPEN_SIDE_PANEL="open-side-panel"},85406:function(e,t,a){a.a(e,async function(e,s){try{a.d(t,{a:()=>g,u:()=>f});var n=a(41172),l=a(15969),r=a(55159),i=a(2784),o=a(22014),c=a(72565),d=a.n(c),u=a(53108),m=a(58551),x=e([m]);async function f(e,t,a,s){let n=l.tgY.create(e,l.oCA.secret.chainId,s);return!!(await n.getBalance(s,a,t)).balance}function g(){let e=(0,m.E)(),t=(0,n.VMC)(),a=n.rNU.useOperateCosmosTx(),{setViewingKeys:s}=(0,n.WdY)();return(0,i.useCallback)(async(i,c,m,x,g,h)=>{if(!o.M8.password)throw Error("Password not set");let w=await e(),y=l.KQf.create(i??"",c,w),b=null==h?void 0:h.key;if(g){if(!await f(i??"",b??"",x,m))return{validKey:!1,error:"Invalid viewing key",key:b}}else try{var v,p,E,_,N;let{txStatus:e,viewingKey:s}=await y.createViewingKey(m,x,t,{key:b,gasLimit:null==h?void 0:h.gasLimit,feeDenom:null==h?void 0:h.feeDenom});if(0!==e.code)return{validKey:!1,error:e.rawLog};a({txHash:e.transactionHash,txType:n.pb0.SecretTokenTransaction,metadata:{contract:x},feeDenomination:"uscrt",feeQuantity:(null===(N=e.tx)||void 0===N?void 0:null===(_=N.auth_info)||void 0===_?void 0:null===(E=_.fee)||void 0===E?void 0:null===(p=E.amount)||void 0===p?void 0:null===(v=p[0])||void 0===v?void 0:v.amount)??"0.01",chainId:c}),b=s}catch(e){return{validKey:!1,error:"Unable to create viewing key"}}let j=(0,r.HI)(b,o.M8.password),k=(await d().storage.local.get([u.rg]))[u.rg];if(k){let e=e=>({...k,[m]:{...k[m],[x]:e?j:b}});await d().storage.local.set({[u.rg]:e(!0)}),s(e(!1))}else{let e=e=>({[m]:{[x]:e?j:b}});await d().storage.local.set({[u.rg]:e(!0)}),s(e(!1))}return{validKey:!0,error:null,key:b}},[e,t,a,s])}m=(x.then?(await x)():x)[0],s()}catch(e){s(e)}})},58551:function(e,t,a){a.a(e,async function(e,s){try{a.d(t,{E:()=>o});var n=a(2784),l=a(22014),r=a(65027),i=e([r]);function o(){let e=r.w.useGetWallet();return(0,n.useCallback)(async()=>{if(!l.M8.password)throw Error("Password not set");return await e()},[e])}r=(i.then?(await i)():i)[0],s()}catch(e){s(e)}})},50242:function(e,t,a){a.a(e,async function(e,s){try{a.r(t),a.d(t,{default:()=>T});var n=a(52322),l=a(41172),r=a(52056),i=a(15969),o=a(92642),c=a(89178),d=a(19623),u=a(69816),m=a(53108),x=a(79533),f=a(85406),g=a(75958),h=a(2784),w=a(10289),y=a(42799),b=a(48346),v=a(46103),p=a(53345),E=a(48534),_=a(37906),N=a(72565),j=a.n(N),k=a(94685),C=a(71142),S=e([f,b]);[f,b]=S.then?(await S)():S;let I=(0,g.Pi)(e=>{let{handleRejectBtnClick:t}=e,a=(0,l.DI5)(),s=(0,f.a)(),g=(0,l.hU2)(),N=(0,w.s0)(),S=(0,l.yHI)("secret","mainnet",a),T=(0,l.lSw)(),I=(0,l.qZl)(),[A,G]=(0,h.useState)(""),[D,R]=(0,h.useState)(!1),[K,O]=(0,h.useState)(!1),[P,U]=(0,h.useState)(!1),[B,Y]=(0,h.useState)(!0),[L,W]=(0,h.useState)(!1),[M,Z]=(0,h.useState)(""),[z,Q]=(0,h.useState)({decimals:0,name:"",symbol:""}),[F,H]=(0,h.useState)({contractAddress:"",address:"",viewingKey:"",type:"",chainId:"secret-4"}),q=F.type!==r.y.SUGGEST_CW20_TOKEN;(0,h.useEffect)(()=>{j().storage.local.get([m.RO]).then(async e=>{let t=e[m.RO],a=(await (0,x._d)())[t.chainId],{lcdUrl:s}=S(!1,a,"mainnet");if(t&&s)try{if(Y(!0),H(t),Z(""),t.type!==r.y.SUGGEST_CW20_TOKEN){if(null==g?void 0:g[t.contractAddress]){let e=g[t.contractAddress];Q({name:e.name,symbol:e.symbol,decimals:e.decimals})}else{let e=i.tgY.create(s,t.chainId,t.address),a=await e.getTokenParams(t.contractAddress);a.token_info&&Q(a.token_info)}}else{let e=await (0,p.s)(s,t.contractAddress);if("string"==typeof e&&e.includes("Invalid")){Z("Invalid Contract Address");return}Q({name:e.name,symbol:e.symbol,decimals:e.decimals})}}catch(e){if(e instanceof c.d7){var n,l;Z((null===(l=e.response)||void 0===l?void 0:null===(n=l.data)||void 0===n?void 0:n.message)??e.message)}else Z(e.message);(0,o.Tb)(e,{tags:_.rw})}finally{Y(!1)}Y(!1)})},[S,g]);let V=(0,h.useCallback)(async()=>{O(!0);let e=(await (0,x._d)())[F.chainId],{lcdUrl:t=""}=S(!1,e,"mainnet"),a=await (0,f.u)(t,A,F.contractAddress,F.address);return U(!a),O(!1),a},[A,S,F.address,F.chainId,F.contractAddress]),$=(0,h.useCallback)(async()=>{if(q){if(A&&!await V())return;W(!0);let e=(await (0,x._d)())[F.chainId],{lcdUrl:t=""}=S(!1,e,"mainnet");if(await s(t,F.chainId,F.address,F.contractAddress,F.type===r.y.UPDATE_SECRET20_VIEWING_KEY||D&&!!A,{key:F.viewingKey||A}),!g[F.contractAddress]){let t={name:z.symbol,symbol:F.contractAddress,decimals:z.decimals,coinGeckoId:"",icon:""};await I(F.contractAddress,t,e)}}else{W(!0);let e=(await (0,x._d)())[F.chainId],a={coinDenom:z.symbol,coinMinimalDenom:F.contractAddress,coinDecimals:z.decimals,coinGeckoId:"",icon:"",chain:e};window.removeEventListener("beforeunload",t),await y.Xy.setBetaCW20Denoms(F.contractAddress,a,e);let s=[...y.bI.getEnabledCW20DenomsForChain(e),F.contractAddress];await y.bI.setEnabledCW20Denoms(s,e),b.jZ.loadBalances()}window.removeEventListener("beforeunload",t),await j().storage.local.set({[m.u1]:{data:"Approved"}}),setTimeout(async()=>{await j().storage.local.remove([m.RO]),await j().storage.local.remove(m.u1),W(!1),(0,E.oj)()?N("/home"):window.close()},50)},[D,z.decimals,z.symbol,s,A,S,q,F.address,F.chainId,F.contractAddress,F.type,F.viewingKey,g,N,T,I,V]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(k.X6,{text:"Adding token"}),(0,n.jsx)(k.GL,{text:"This will allow this token to be viewed within Leap Wallet"}),(0,n.jsx)(k.QS,{address:F.contractAddress??""}),B?(0,n.jsx)(C.I,{}):z&&(0,n.jsx)(k.P6,{name:z.name??"",symbol:z.symbol??"",decimals:z.decimals??0})]}),z&&!B&&(0,n.jsxs)("div",{className:"my-4 w-full",children:[D&&(0,n.jsxs)("div",{className:`relative w-full flex items-center border rounded-xl flex h-12 bg-white-100 dark:bg-gray-900 py-2 pl-5 pr-[10px] ${P&&A?"border-red-300":"border-gray-500"}`,children:[(0,n.jsx)("input",{placeholder:"viewing key",className:"flex flex-grow text-base dark:text-white-100 text-gray-400 outline-none bg-white-0 placeholder-gray-400::placeholder",value:A,onChange:e=>G(e.currentTarget.value),autoComplete:"off"}),K?(0,n.jsx)(d.T,{color:v.w.white100,className:"h-6 y-6"}):null]}),P&&A&&(0,n.jsx)(u.Z,{size:"sm",className:"mt-1",color:"text-red-300",children:"Invalid Viewing key provided"})]}),(0,n.jsxs)(k.$_,{error:M,isFetching:B,children:[q&&(0,n.jsxs)("div",{className:"flex mb-4 w-full items-center cursor-pointer ml-2",children:[(0,n.jsx)("input",{className:"h-4 w-4 border border-gray-300 rounded-xl",type:"checkbox",value:"",checked:D,onChange:()=>R(!D),id:"advancedFeature"}),(0,n.jsx)("label",{className:"form-check-label inline-block dark:text-white-100 text-gray-900 ml-2 text-md",htmlFor:"advancedFeature",children:"(Advanced) Import my own viewing key"})]}),(0,n.jsx)(k.No,{error:M,rejectBtnClick:t,rejectBtnText:"Reject",confirmBtnClick:$,confirmBtnText:L||K?(0,n.jsx)(d.T,{color:v.w.white100}):"Approve",isConfirmBtnDisabled:(null==M?void 0:M.length)!==0||P&&(null==A?void 0:A.length)>0||!z.name})]})]})});function T(){return(0,n.jsx)(k.zb,{suggestKey:m.RO,children:e=>{let{handleRejectBtnClick:t}=e;return(0,n.jsx)(I,{handleRejectBtnClick:t})}})}s()}catch(e){s(e)}})},71142:function(e,t,a){a.d(t,{I:()=>r});var s=a(52322),n=a(41477);a(2784);var l=a(86874);function r(){return(0,s.jsxs)("div",{className:"flex flex-col gap-y-[10px] bg-white-100 dark:bg-gray-900 rounded-2xl p-4 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-[6px] w-full",children:[(0,s.jsx)(n.sr,{children:"Coin Name"}),(0,s.jsx)(l.Z,{className:"",width:80,height:16,containerClassName:"block !leading-none"})]}),n.iz,(0,s.jsxs)("div",{className:"flex flex-col gap-[6px] w-full",children:[(0,s.jsx)(n.sr,{children:"Coin Symbol"}),(0,s.jsx)(l.Z,{className:"",width:50,height:16,containerClassName:"block !leading-none"})]}),n.iz,(0,s.jsxs)("div",{className:"flex flex-col gap-[6px] w-full",children:[(0,s.jsx)(n.sr,{children:"Coin Decimals"}),(0,s.jsx)(l.Z,{className:"",width:25,height:16,containerClassName:"block !leading-none"})]})]})}},94685:function(e,t,a){a.d(t,{QS:()=>_,GL:()=>g,X6:()=>f,zb:()=>p,No:()=>m,P6:()=>j,$_:()=>c});var s=a(52322),n=a(72779),l=a.n(n),r=a(86200),i=a(19623),o=a(2784);function c(e){let{children:t,error:a,isFetching:n}=e;return(0,s.jsxs)("div",{className:l()("w-full flex flex-col flex-1 items-center box-border",n?"h-full justify-center":"justify-end"),children:[a?(0,s.jsx)("div",{className:"my-2",children:(0,s.jsx)(r._,{text:a})}):null,n?(0,s.jsx)(i.T,{color:"#E18881"}):(0,s.jsx)(s.Fragment,{children:t})]})}var d=a(75377),u=a(46103);function m(e){let{error:t,rejectBtnClick:a,rejectBtnText:n,confirmBtnClick:r,confirmBtnText:i,isConfirmBtnDisabled:o}=e;return(0,s.jsxs)("div",{className:l()("flex flex-row justify-between w-full",{"mb-6":!!t}),children:[(0,s.jsx)(d.Buttons.Generic,{style:{height:"48px",background:u.w.gray900,color:u.w.white100},onClick:a,children:n}),(0,s.jsx)(d.Buttons.Generic,{style:{height:"48px",background:u.w.cosmosPrimary,color:u.w.white100,cursor:"pointer"},className:"ml-3 bg-gray-800",onClick:r,disabled:o,children:i})]})}var x=a(69816);function f(e){let{text:t}=e;return(0,s.jsx)(x.Z,{size:"lg",className:"font-bold mt-5",children:t})}function g(e){let{text:t}=e;return(0,s.jsx)(x.Z,{size:"xs",className:"font-bold text-center mt-[2px] max-w-[250px]",color:"text-gray-800 dark:text-gray-600 mb-2",children:t})}var h=a(53108),w=a(10289),y=a(48534),b=a(72565),v=a.n(b);function p(e){let{children:t,suggestKey:a}=e,n=(0,w.s0)(),r=(0,o.useCallback)(async()=>{await v().storage.local.set({[h.u1]:{error:"Rejected by the user."}}),setTimeout(async()=>{await v().storage.local.remove([a]),await v().storage.local.remove(h.u1),(0,y.oj)()?n("/home"):window.close()},10)},[n,a]);return(0,o.useEffect)(()=>(window.addEventListener("beforeunload",r),v().storage.local.remove(h.u1),function(){window.removeEventListener("beforeunload",r)}),[r]),(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsxs)("div",{className:"panel-width panel-height max-panel-height enclosing-panel",children:[(0,s.jsx)("div",{className:"w-full h-1 rounded-t-2xl",style:{backgroundColor:u.w.cosmosPrimary}}),(0,s.jsx)("div",{className:l()("relative h-full flex flex-col justify-between items-center pt-4 pb-10",{"px-4":(0,y.oj)(),"px-7":!(0,y.oj)()}),children:t({handleRejectBtnClick:r})})]})})}var E=a(86874);function _(e){let{address:t,img:a}=e;return t?(0,s.jsx)(d.GenericCard,{title:(0,s.jsx)("span",{className:"text-[15px]",children:"Contract Address"}),subtitle:(0,s.jsx)("span",{className:"break-all",children:t}),className:"h-[80px] py-8 my-5",img:a??null,size:"sm",isRounded:!0}):(0,s.jsxs)("div",{className:"flex flex-col justify-end items-start w-full px-4 bg-white-100 dark:bg-gray-900 cursor-pointer min-w-[344px] h-[80px] rounded-[16px] pb-2 my-5",children:[(0,s.jsx)("div",{className:"text-[15px] font-bold text-black-100 dark:text-white-100 text-left max-w-[170px] text-ellipsis overflow-hidden",children:"Contract Address"}),(0,s.jsx)(E.Z,{height:14,className:"w-full",containerClassName:"w-full mt-[2px] block !leading-none"}),(0,s.jsx)(E.Z,{height:14,width:90,containerClassName:"block mt-[2px] !leading-none"})]})}var N=a(41477);function j(e){let{name:t,symbol:a,decimals:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col gap-y-[10px] bg-white-100 dark:bg-gray-900 rounded-2xl p-4 w-full",children:[(0,s.jsx)(N.sr,{children:"Coin Name"}),(0,s.jsx)(N.B4,{children:t}),N.iz,(0,s.jsx)(N.sr,{children:"Coin Symbol"}),(0,s.jsx)(N.B4,{children:a}),N.iz,(0,s.jsx)(N.sr,{children:"Coin Decimals"}),(0,s.jsx)(N.B4,{children:n})]})}},53345:function(e,t,a){a.d(t,{s:()=>l});var s=a(55334),n=a(48834).Buffer;async function l(e,t){let a=`${e}/cosmwasm/wasm/v1/contract/${t}/smart/${n.from('{"token_info":{}}').toString("base64")}`,{data:l}=await s.Z.get(a);return l.error&&l.error.toLowerCase().includes("decoding bech32 failed")?"Invalid Contract Address":l.data}},56052:function(){}}]);
//# sourceMappingURL=9384.js.map