!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="77e9bcfe-5f27-49a2-b53a-28d7537b8763",e._sentryDebugIdIdentifier="sentry-dbid-77e9bcfe-5f27-49a2-b53a-28d7537b8763")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.22.8"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["6690"],{79215:function(e,n,t){t.d(n,{og:()=>v});var a=t(52322),s=t(26793),o=t(89187),i=t(16283),l=t(85027),r=t(86240),d=t(65953);t(2784);var c=t(70514),u=t(49409);let m=e=>{let{activeIndex:n,setActiveIndex:t,limit:d}=e,{walletAvatar:u,walletName:m}=(0,r.v)();return(0,a.jsxs)(l.m,{className:"bg-secondary-50 border-b border-secondary-100",children:[(0,a.jsx)("div",{className:"w-[72px]"}),(0,a.jsx)(i.G2,{className:"bg-secondary-200",showWalletAvatar:!0,walletName:m,walletAvatar:u,handleDropdownClick:()=>void 0}),(0,a.jsx)("div",{className:"min-w-[72px]",children:void 0!==n&&void 0!==d&&d>1&&(0,a.jsxs)("div",{className:"flex items-center rounded-full bg-secondary-200 p-2 justify-between",children:[(0,a.jsx)(s.W,{size:14,className:(0,c.cn)("",{"text-muted-foreground":0===n,"text-foreground cursor-pointer":0!==n}),onClick:()=>{t&&void 0!==n&&n>0&&t(n-1)}}),(0,a.jsxs)("p",{className:"text-sm font-bold text-foreground",children:[n+1,"/",d]}),(0,a.jsx)(o.T,{size:14,className:(0,c.cn)("",{"text-muted-foreground":n===d-1,"text-foreground cursor-pointer":n!==d-1}),onClick:()=>{t&&void 0!==n&&d&&n<d-1&&t(n+1)}})]})})]})},g=e=>(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsx)("img",{src:e.logo,onError:(0,u._)(d.Globe),className:"size-[54px] rounded-full"}),(0,a.jsxs)("div",{className:"flex flex-col gap-[3px]",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:e.title}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.subTitle})]})]}),v=e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{activeIndex:e.activeIndex,setActiveIndex:e.setActiveIndex,limit:e.limit}),(0,a.jsxs)("div",{className:(0,c.cn)("flex flex-col gap-6 mx-auto h-[435px] w-full max-w-2xl box-border overflow-y-scroll pt-6 px-6 bg-secondary-50",e.className),children:[(0,a.jsx)(g,{...e}),e.children]})]})},57767:function(e,n,t){t.d(n,{Z:()=>l});var a=t(52322),s=t(14281);t(2784);var o=t(86376),i=t(69816);function l(e){let{showLedgerPopup:n,onClose:t}=e;return(0,a.jsx)(s.Z,{isOpen:n,onClose:t,title:"Confirm on Ledger",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"my-10",children:(0,a.jsx)(o.Z,{})}),(0,a.jsx)(i.Z,{size:"md",className:"font-bold mb-7",children:"Approve transaction on your hardware wallet"})]})})}},74703:function(e,n,t){t.d(n,{u:()=>s});var a,s=((a={}).signResponse="sign-response",a.signingPopupOpen="signing-popup-open",a.signTransaction="sign-transaction",a.signBitcoinResponse="sign-bitcoin-response",a.signSeiEvmResponse="sign-sei-evm-response",a)},91128:function(e,n,t){t.d(n,{R:()=>s});var a=t(56594);function s(e,n){return(0,a.calculateFee)(parseInt(e),n)}},980:function(e,n,t){t.a(e,async function(e,a){try{t.r(n),t.d(n,{default:()=>H});var s=t(52322),o=t(41172),i=t(15969),l=t(59458),r=t(7835),d=t(92642),c=t(6391),u=t.n(c),m=t(72779),g=t.n(m),v=t(79215),f=t(86200),x=t(58885),p=t(57767),h=t(19623),w=t(69816),b=t(91486),y=t(74703),N=t(53108),S=t(79533),j=t(74229),D=t(76131),T=t(10706),E=t(78935),_=t(65027),C=t(75958),k=t(70734),I=t(2784),M=t(10289),A=t(42799),F=t(39713),P=t(48346),L=t(46103),O=t(44818),G=t(48534),R=t(72565),B=t.n(R),z=t(99895),U=t(64241),Z=t(26738),W=e([_,T,F,D,x,Z,P]);[_,T,F,D,x,Z,P]=W.then?(await W)():W;let $=_.w.useGetWallet,X=_.w.useSolanaSigner,q=(0,C.Pi)(e=>{let{data:n,chainId:t,rootBalanceStore:a,rootDenomsStore:c,activeChain:m}=e,S=(0,I.useRef)(!1),_=(0,I.useRef)(!1),C=(0,I.useRef)(!1),[A,P]=(0,I.useState)(!1),[R,W]=(0,I.useState)(null),[q]=(0,I.useState)(null),[H,J]=(0,I.useState)(null),[Q,V]=(0,I.useState)([]),Y=(0,o.dco)(),K=(0,o._ty)(m),ee=(0,I.useMemo)(()=>{var e;return parseInt((((null===(e=Y[m])||void 0===e?void 0:e.DEFAULT_GAS_IBC)??i.N7W.DEFAULT_GAS_IBC)*K).toString())},[m,Y,K]),[en,et]=(0,I.useState)(!1),[ea,es]=(0,I.useState)(0),[eo,ei]=(0,I.useState)(""),[el,er]=(0,I.useState)(!1),ed=["101","103"],ec=(0,o.rTu)(),eu=X(),em=$(m),eg=(0,M.s0)(),{chains:ev}=(0,o._IL)(),ef=(0,T.Af)(),ex=(0,I.useMemo)(()=>"solana:devnet"===t?"testnet":"mainnet",[t]),ep=c.allDenoms,eh=(0,x.e7)(ep,{activeChain:m}),ew=(0,o.bkk)(ep,m,ex),eb=o.rNU.useLogCosmosDappTx(),ey=(0,I.useRef)(!1),[eN,eS]=(0,I.useState)(null),[ej,eD]=(0,I.useState)(!1),eT=(0,o.FmJ)(),{lcdUrl:eE,rpcUrl:e_}=(0,o.U9i)(m,ex),eC=F.zT.getStore(m,ex,!1),ek=null==eC?void 0:eC.data,eI=(0,I.useRef)(null);(0,I.useEffect)(()=>{!async function(){if(!ec||C.current)return;let e=["solana"].filter(e=>{var n,t,a,s;let o=null==Q?void 0:null===(t=Q[0])||void 0===t?void 0:null===(n=t.addresses)||void 0===n?void 0:n[e],i=null==Q?void 0:null===(s=Q[0])||void 0===s?void 0:null===(a=s.pubKeys)||void 0===a?void 0:a[e];return ev[e]&&!o||!i});if(!(null==e?void 0:e.length))return;let n={};for await(let t of e)n[t]=ev[t];let t=await ef(ec,e,"UPDATE",void 0,n);C.current=!0;let a=Q.map(e=>{if(!t)return e;let n=t[e.id];return n||e});V(a)}()},[]);let eM=(0,I.useMemo)(async()=>{let e=await eu(m);return await i.MPm.getSolanaClient(e_??"",e,ex)},[m,e_,eu,ex]);(0,I.useEffect)(()=>{!eN&&eI.current&&setTimeout(()=>{eI.current.scrollIntoView({behavior:"smooth",block:"nearest"})},10)},[eN]),(0,I.useEffect)(()=>{a.loadBalances(m,ex)},[m,ex]);let[eA,eF]=(0,I.useState)({gasPrice:eh.gasPrice,option:o.j1p.LOW});(0,O.h)(null!==ec,"activeWallet is null");let{shouldSubmit:eP,isSignMessage:eL,signOptions:eO}=(0,I.useMemo)(()=>{let e=null==n?void 0:n.submit,t=null==n?void 0:n.isSignMessage,a=null==n?void 0:n.signOptions;return{shouldSubmit:e,isSignMessage:t,signOptions:a}},[n]),{allowSetFee:eG,message:eR,signDoc:eB,fee:ez,defaultFee:eU}=(0,I.useMemo)(()=>{if(eL){let e=n.signDoc.replace("SIGNINMESSAGESOLANA",ec.addresses[m]);return{allowSetFee:!1,message:e,signDoc:n.signDoc.replace("SIGNINMESSAGESOLANA",ec.addresses[m]),fee:void 0,defaultFee:void 0}}let{allowSetFee:e,updatedSignDoc:t,updatedFee:a,defaultFee:s}=(0,z.I1)({signRequestData:n,gasPrice:eA.gasPrice,gasLimit:eo,isGasOptionSelected:ey.current,nativeFeeDenom:ew});return{allowSetFee:e,message:"",signDoc:t,fee:a,defaultFee:s}},[eL,n,eA.gasPrice,eo,ew,ec.addresses,m]),eZ=null==n?void 0:n.origin,eW=(0,E.G)(eZ),e$=(0,j.a1)(),eX=(0,I.useCallback)(()=>{setTimeout(()=>{a.refetchBalances(m,ex)},3e3)},[m,a,ex]),eq=(0,I.useCallback)(async()=>{S.current||_.current||(S.current=!0,await B().runtime.sendMessage({type:y.u.signResponse,payload:{status:"error",data:"Transaction cancelled by the user."}}),(0,G.oj)()?eg("/home"):(await (0,i._vH)(100),setTimeout(async()=>{window.close()},10)))},[eg]),eH=(0,I.useMemo)(()=>{if(eU&&(null==eU?void 0:eU.amount[0])){let{denom:e}=eU.amount[0];return e}return eh.gasPrice.denom},[eU,eh.gasPrice]),eJ=(0,I.useCallback)(async()=>{var e,n,a,s,l,r,c,g,v,f;let x=ec.addresses[m];if(!m||!eB||!x)return;let p=await eM;er(!0);try{if(eL){let e=await p.signMessage(eB);await (0,i._vH)(100);try{let n=(await B().storage.local.get(["CONNECTIONS"])).CONNECTIONS||[],t=eZ||"";if(!n.some(e=>e.origin===t&&e.walletIds.includes(ec.id)&&e.chainIds.includes("101")&&e.chainIds.includes("103"))&&t){let e=[ec.id];await (0,k.E)(["101","103"],e,t)}B().runtime.sendMessage({type:y.u.signResponse,payload:{status:"success",data:{signedTxData:e,activeAddress:x}}})}catch(e){throw Error("Could not send transaction to the dApp")}er(!1),(0,G.oj)()?(eX(),eg("/home")):setTimeout(async()=>{window.close()},10);return}let{tx:g,signature:v}=await p.signTransaction(eB);try{let i=(null==ez?void 0:null===(n=ez.amount)||void 0===n?void 0:null===(e=n[0])||void 0===e?void 0:e.amount)&&!new(u())(ez.amount[0].amount).isNaN()?new(u())(ez.amount[0].amount).plus(5e3).toString():null==ez?void 0:null===(s=ez.amount)||void 0===s?void 0:null===(a=s[0])||void 0===a?void 0:a.amount;await eb({txHash:v,txType:o.pb0.Dapp,metadata:{...eT,dapp_url:eZ},feeQuantity:i,feeDenomination:(null==ez?void 0:null===(l=ez.amount[0])||void 0===l?void 0:l.denom)??"lamports",chain:m,chainId:t,address:x,network:ex,isSolana:!0})}catch(e){(0,d.Tb)(e,{tags:{errorType:"solana_transaction_error",source:"sign_solana_transaction",severity:"error",errorName:e instanceof Error?e.name:"SolanaTransactionError",transactionType:"solana_dapp_transaction"},fingerprint:["solana_dapp_transaction","solana_dapp_transaction_error"],level:"error",extra:{feeQuantity:null==ez?void 0:null===(r=ez.amount[0])||void 0===r?void 0:r.amount.toString(),feeDenomination:(null==ez?void 0:null===(c=ez.amount[0])||void 0===c?void 0:c.denom)??"lamports",chain:m,chainId:t,address:x,network:ex,isSolana:!0,appUrl:eZ},contexts:{transaction:{type:"solana",chain:m,network:ex,errorMessage:e instanceof Error?e.message:String(e)}}})}if(await (0,i._vH)(100),!eP){try{let e=(await B().storage.local.get(["CONNECTIONS"])).CONNECTIONS||[],n=eZ||"";ed.every(async t=>{if(!e.some(e=>e.origin===n&&e.walletIds.includes(ec.id)&&e.chainIds.includes(t))&&n){let e=[ec.id];await (0,k.E)([t],e,n)}}),B().runtime.sendMessage({type:y.u.signResponse,payload:{status:"success",data:g}})}catch{throw Error("Could not send transaction to the dApp")}er(!1),(0,G.oj)()?(eX(),eg("/home")):setTimeout(async()=>{window.close()},10);return}let f=await p.broadcastTransaction(g);try{let e=(await B().storage.local.get(["CONNECTIONS"])).CONNECTIONS||[],n=eZ||"";if(!e.some(e=>e.origin===n&&e.walletIds.includes(ec.id)&&e.chainIds.includes("101"))&&n){let e=[ec.id];await (0,k.E)(["101","103"],e,n)}B().runtime.sendMessage({type:y.u.signResponse,payload:{status:"success",data:f}})}catch{throw Error("Could not send transaction to the dApp")}er(!1),(0,G.oj)()?(eX(),eg("/home")):setTimeout(async()=>{window.close()},10)}catch(e){(0,d.Tb)(e,{tags:{errorType:"solana_transaction_error",source:"sign_solana_transaction",severity:"error",errorName:e instanceof Error?e.name:"SolanaTransactionError",transactionType:"solana_dapp_transaction"},fingerprint:["solana_dapp_transaction","solana_dapp_transaction_error"],level:"error",extra:{feeQuantity:null==ez?void 0:null===(g=ez.amount[0])||void 0===g?void 0:g.amount.toString(),feeDenomination:(null==ez?void 0:null===(v=ez.amount[0])||void 0===v?void 0:v.denom)??"lamports",chain:m,chainId:t,address:x,network:ex,isSolana:!0,appUrl:eZ},contexts:{transaction:{type:"solana",chain:m,network:ex,errorMessage:e instanceof Error?e.message:String(e)}}}),er(!1),W((null==e?void 0:null===(f=e.data)||void 0===f?void 0:f.error_code)??(null==e?void 0:e.message)??"Unknown error"),setTimeout(()=>{W(null)},3e3)}},[ec.addresses,ex,m,eX,eB,em,eZ,ez,eb,eq,eE]);(0,I.useEffect)(()=>(window.addEventListener("beforeunload",eq),B().storage.local.remove(N.u1),()=>{window.removeEventListener("beforeunload",eq)}),[eq]),(0,I.useEffect)(()=>{(async function(){if(!eL)try{et(!0);let e=ee,n=await eu(m),t=await i.MPm.getSolanaClient(e_??"",n,ex),{unitsConsumed:a}=await t.simulateTx(eB);a&&(e=Number(a)),es(e)}catch(e){es(ee)}finally{et(!1)}})()},[m,null==ec?void 0:ec.pubKeys,ee,e_]);let eQ=(0,I.useMemo)(()=>!!(null==ez?void 0:ez.granter)||!!(null==ez?void 0:ez.payer)||!!(null==eO?void 0:eO.disableBalanceCheck),[null==ez?void 0:ez.granter,null==ez?void 0:ez.payer,null==eO?void 0:eO.disableBalanceCheck]),eV=!eH||!!R||!!H||!1===eN&&!ej||en||el,eY=(0,I.useMemo)(()=>({page:"sign-solana-transaction",queryStatus:eV?"loading":"success",op:"signSolanaTransactionPageApproveBtnLoad",description:"Load time for solana sign transaction page's approve button",terminateProps:{maxDuration:5e3,logData:{tags:{isApproveBtnDisabled:eV,dappFeeDenom:eH,signingError:!!R,gasPriceError:!!H,isFeesValid:!!eN,highFeeAccepted:ej,isSigning:el,isLoadingGasLimit:en},context:{dappFeeDenom:eH,signingError:R,gasPriceError:H}}}}),[eV,eH,R,H,eN,ej,el,en]);return(0,D.$)(eY),(0,s.jsxs)("div",{children:[(0,s.jsxs)(v.og,{className:"bg-secondary-50",subTitle:eZ||"Unknown site",logo:eW||e$,title:"Approve transaction",children:[eL?(0,s.jsx)("pre",{className:g()("text-xs text-gray-900 dark:text-white-100 dark:bg-gray-900 bg-white-100 p-4 w-full overflow-x-auto rounded-2xl whitespace-pre-line break-words"),children:eR}):(0,s.jsx)(x.ZP,{className:"flex flex-col gap-6",initialFeeDenom:eH,gasLimit:eo||String(ea),setGasLimit:e=>ei(e.toString()),recommendedGasLimit:String(ea),gasPriceOption:ey.current||eG?eA:{...eA,option:""},onGasPriceOptionChange:e=>{ey.current=!0,eF(e)},error:H,setError:J,considerGasAdjustment:!1,disableBalanceCheck:eQ,fee:ez,chain:m,network:ex,validateFee:!0,onInvalidFees:(e,n)=>{try{!1===n&&eS(!1)}catch(e){(0,d.Tb)(e)}},hasUserTouchedFees:!!(null==ey?void 0:ey.current),notUpdateInitialGasPrice:!eG,rootDenomsStore:c,rootBalanceStore:a,children:(0,s.jsx)(Z.t,{gasPriceError:H,txData:(0,z.AX)(eB,!0).signDoc,allowSetFee:eG,staticFee:(0,s.jsx)(U.Z,{fee:ez,error:H,setError:J,disableBalanceCheck:eQ,rootBalanceStore:a,activeChain:m,selectedNetwork:ex,feeTokensList:ek})})}),R??q?(0,s.jsx)(f._,{text:R??q??"",disableSentryCapture:!0}):null,(0,s.jsx)(p.Z,{showLedgerPopup:A,onClose:()=>{P(!1)}})]}),(0,s.jsxs)("div",{className:"flex flex-col p-6 bg-secondary-50 justify-center w-full gap-2 mt-auto [&>*]:flex-1 sticky bottom-0",children:[!1===eN&&(0,s.jsxs)("div",{className:"flex flex-row items-center rounded-lg p-[4px]",ref:eI,children:[(0,s.jsx)("div",{className:"mr-2",onClick:()=>eD(!ej),children:ej?(0,s.jsx)(r.l,{size:20,className:"cursor-pointer",color:L.w.green600}):(0,s.jsx)(l.b,{size:20,className:"text-green-600"})}),(0,s.jsx)(w.Z,{size:"xs",color:"dark:text-gray-400 text-gray-600",children:"The selected fee amount is unusually high. I confirm and agree to proceed"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-center w-full gap-3 mt-auto [&>*]:flex-1",children:[(0,s.jsx)(b.zx,{variant:"mono",onClick:eq,children:"Reject"}),(0,s.jsx)(b.zx,{onClick:eJ,disabled:eV,className:`${eV?"cursor-not-allowed opacity-50":""}`,children:el?(0,s.jsx)(h.T,{color:"white"}):"Approve"})]})]})]})}),H=(e=>{let n=()=>{let[n,t]=(0,I.useState)(),[a,o]=(0,I.useState)(i.NOo),[l,r]=(0,I.useState)(null),[c,u]=(0,I.useState)(),[m]=(0,I.useState)(null),g=(0,M.s0)();(0,I.useEffect)(()=>{(0,S._d)().then(o).catch(d.Tb)},[]);let v=(e,n)=>{if(n.id===B().runtime.id&&e.type===y.u.signTransaction){let n=e.payload,s=n.chainId?n.chainId:"101",o=s?a["101"]:void 0;if(!o){B().runtime.sendMessage({type:y.u.signResponse,payload:{status:"error",data:`Invalid chainId rggfgsfgsfgsgsg ${s}`}}),(0,G.oj)()?g("/home"):setTimeout(async()=>{window.close()},10);return}t(o),u(s),r(n)}};if((0,I.useEffect)(()=>(B().runtime.sendMessage({type:y.u.signingPopupOpen}),B().runtime.onMessage.addListener(v),()=>{B().runtime.onMessage.removeListener(v)}),[]),n&&l&&c)return(0,s.jsx)(e,{data:l,chainId:c,activeChain:n,rootDenomsStore:A.gb,rootBalanceStore:P.jZ});if(m){var f;let e=(f=m.code,"no-data"===f?"No Transaction Data":"Something Went Wrong");return(0,s.jsxs)("div",{className:"h-full w-full flex flex-col gap-4 items-center justify-center",children:[(0,s.jsx)("h1",{className:"text-red-300 text-2xl font-bold px-4 text-center",children:e}),(0,s.jsx)("p",{className:"text-black-100 dark:text-white-100 text-sm font-medium px-4 text-center",children:m.message}),(0,s.jsx)("button",{className:"mt-8 py-1 px-4 text-center text-sm font-medium dark:text-white-100 text-black-100 bg-indigo-300 rounded-full",onClick:()=>{(0,G.oj)()?g("/home"):window.close()},children:"Close Wallet"})]})}return(0,s.jsx)("div",{className:"h-full w-full flex flex-col gap-4 items-center justify-center",children:(0,s.jsx)(h.T,{color:"white"})})};return n.displayName=`withTxnSigningRequest(${e.displayName})`,n})(I.memo(q));a()}catch(e){a(e)}})},64241:function(e,n,t){t.d(n,{Z:()=>g});var a=t(52322),s=t(41172),o=t(15969),i=t(60431),l=t(6391),r=t.n(l),d=t(6401),c=t(75958),u=t(2784);let m=(e,n)=>{var t;let{amount:a}=e,s=(null===(t=a[0])||void 0===t?void 0:t.amount)??"",i=(0,o.t7o)(new(r())(s).toString(),n),l=i.toFormat(5,r().ROUND_DOWN),d=i.isLessThan("0.00001");return{amount:i,formattedAmount:d&&!i.isEqualTo(0)?"< 0.00001":l}},g=(0,c.Pi)(e=>{var n,t,o;let{fee:l,error:c,setError:g,disableBalanceCheck:v,rootBalanceStore:f,activeChain:x,selectedNetwork:p,feeTokensList:h}=e,w=(0,s.dco)(),[b]=(0,s.X$P)(),y=f.getSpendableBalancesForChain(x,p,void 0),N=f.getLoadingStatusForChain(x,p),S=(0,u.useMemo)(()=>N?"loading":"success",[N]),j=(0,s.xxU)(),[D]=(0,d.nB)(),T=(0,u.useMemo)(()=>{var e,n;let t=null==l?void 0:null===(e=l.amount[0])||void 0===e?void 0:e.denom,a=null==h?void 0:h.find(e=>e.ibcDenom?e.ibcDenom===t:e.denom.coinMinimalDenom===t),s=null===(n=y.find(e=>{var n;return(null==a?void 0:a.ibcDenom)||(null==e?void 0:e.ibcDenom)?(null==e?void 0:e.ibcDenom)===(null==a?void 0:a.ibcDenom):(null==e?void 0:e.coinMinimalDenom)===(null==a?void 0:null===(n=a.denom)||void 0===n?void 0:n.coinMinimalDenom)}))||void 0===n?void 0:n.amount;return{...a,amount:s}},[y,null==l?void 0:l.amount,h]),{data:E}=(0,i.useQuery)(["fee-token-fiat-value",null==T?void 0:null===(n=T.denom)||void 0===n?void 0:n.coinDenom],async()=>{var e,n,t;return(0,s.knL)("1",(null==T?void 0:null===(e=T.denom)||void 0===e?void 0:e.coinGeckoId)??"",null==T?void 0:null===(n=T.denom)||void 0===n?void 0:n.chain,s.r95[b].currencyPointer,`${j}-${null==T?void 0:null===(t=T.denom)||void 0===t?void 0:t.coinMinimalDenom}`)}),_=(0,u.useMemo)(()=>{var e;return l?m(l,(null==T?void 0:null===(e=T.denom)||void 0===e?void 0:e.coinDecimals)??0):null},[x,w,l,null==T?void 0:null===(t=T.denom)||void 0===t?void 0:t.coinDecimals]);return(0,u.useEffect)(()=>{var e,n;let t=null==_?void 0:null===(e=_.amount)||void 0===e?void 0:e.toString();!v&&t&&"loading"!==S&&(new(r())(t).isGreaterThan((null==T?void 0:T.amount)??0)?g(`You don't have enough ${null==T?void 0:null===(n=T.denom)||void 0===n?void 0:n.coinDenom} to pay the gas fee`):g(null))},[T,_,S,v]),(0,a.jsx)("div",{className:"mt-3",children:_?(0,a.jsx)("div",{className:"rounded-lg bg-secondary-100 border border-secondary-200",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsx)("p",{className:"text-muted-foreground text-xs font-medium",children:"Gas Fees"})}),(0,a.jsxs)("p",{className:"font-medium text-foreground text-sm mt-3 list-none ml-0",children:[_.formattedAmount," ",null==T?void 0:null===(o=T.denom)||void 0===o?void 0:o.coinDenom," ",E?D(new(r())((null==_?void 0:_.amount)??0).multipliedBy(E)):null]}),c?(0,a.jsx)("p",{className:"font-medium text-destructive-400 text-sm mt-3 list-none ml-0",children:c}):null]})}):null})})},26738:function(e,n,t){t.a(e,async function(e,a){try{t.d(n,{t:()=>p});var s=t(52322),o=t(58885),i=t(4370),l=t(14981),r=t(25053),d=t(2784),c=t(42799),u=t(48346),m=t(46338),g=t(43963),v=e([o,u]);[o,u]=v.then?(await v)():v;let f=[{id:"fees",label:"Fees"},{id:"details",label:"Details"}],x={transform:"translateX(0px) scaleX(0.161044)"},p=e=>{let[n,t]=(0,d.useState)(f[0]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"border-b border-secondary-300",children:(0,s.jsx)(r.z,{buttons:f,setSelectedTab:t,selectedIndex:f.findIndex(e=>{let{id:t}=e;return t===n.id}),className:"gap-0.5",buttonClassName:"px-3.5",indicatorDefaultScale:x})}),(0,s.jsx)("div",{className:"flex flex-col gap-6",children:(0,s.jsxs)(l.M,{mode:"wait",initial:!1,children:["fees"===n.id&&(0,s.jsx)(i.E.div,{className:"flex flex-col gap-7",transition:m._M,variants:g.dJ,initial:"exit",animate:"animate",exit:"exit",children:e.allowSetFee?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.ZP.Selector,{}),(0,s.jsxs)("div",{className:"border border-border-bottom rounded-xl ",children:[(0,s.jsx)(o.ZP.AdditionalSettingsToggle,{}),(0,s.jsx)(o.ZP.AdditionalSettings,{showGasLimitWarning:!0,rootBalanceStore:u.jZ,rootDenomsStore:c.gb})]}),!!e.gasPriceError&&(0,s.jsx)("p",{className:"text-destructive-100 text-sm font-medium px-1",children:e.gasPriceError})," "]}):e.staticFee},"fees"),"details"===n.id&&(0,s.jsxs)("div",{className:"flex flex-col gap-3 p-4 rounded-xl border border-secondary-200 bg-secondary-50",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-xs font-medium",children:"Data"}),(0,s.jsx)(i.E.pre,{transition:m._M,variants:g.dJ,initial:"enter",animate:"animate",exit:"enter",className:"text-xs  w-full text-wrap break-words",children:JSON.stringify(e.txData,(e,n)=>"bigint"==typeof n?n.toString():n,2)},"details")]})]})})]})};a()}catch(e){a(e)}})},99895:function(e,n,t){t.d(n,{AX:()=>c,I1:()=>u});var a=t(56594),s=t(15969),o=t(62101),i=t(6391),l=t.n(i),r=t(91128),d=t(48834).Buffer;function c(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=o.GS.deserialize(e);if(n){let n=new Uint8Array(d.from(e,"base64"));return{signDoc:o.GS.deserialize(n),signOptions:{}}}return{signDoc:t,signOptions:{}}}function u(e){let{signRequestData:n,gasPrice:t,gasLimit:o,isGasOptionSelected:i,nativeFeeDenom:d}=e,{signOptions:u}=c(n.signDoc),m=function(e,n,t,a,s){let o=new(l())(n),i=(null==s?void 0:s.preferNoSetFee)&&!a?e:(0,r.R)(!o.isNaN()&&o.isGreaterThan(0)?o.toString():e.gas,t);return i.amount[0].amount=new(l())(i.amount[0].amount).plus(5e3).toString(),i}((0,a.calculateFee)(Number(5e3),s.DB5.fromString(`0${d.coinMinimalDenom}`)),o,t,i,u);return{updatedSignDoc:n.signDoc,updatedFee:m,allowSetFee:!1,defaultFee:m,defaultMemo:""}}},25053:function(e,n,t){t.d(n,{z:()=>c});var a=t(52322),s=t(91486),o=t(65903),i=t(2784),l=t(70514);let r=(0,i.forwardRef)((e,n)=>(0,a.jsx)("button",{ref:n,className:(0,l.cn)("text-sm font-medium text-foreground transition-colors capitalize pb-3.5 rounded-full",s.YV,e.active?"text-accent-green":"text-secondary-700 hover:text-foreground",e.className),onClick:e.onClick,children:e.children}));r.displayName="TabButton";let d={transform:"translateX(0px) scaleX(0.441654)"},c=e=>{var n;let{setSelectedTab:t,selectedIndex:s,buttons:i,buttonClassName:c,className:u,indicatorDefaultScale:m}=e,{containerRef:g,indicatorRef:v,childRefs:f}=(0,o.r)({navItems:i,activeLabel:null===(n=i[s])||void 0===n?void 0:n.label});return(0,a.jsxs)("div",{ref:g,className:(0,l.cn)("relative flex items-center isolate gap-7",u),children:[i.map((e,n)=>(0,a.jsx)(r,{ref:e=>f.current.set(n,e),active:n===s,onClick:()=>t(e),className:c,children:e.label},e.id??e.label)),(0,a.jsx)("div",{className:"absolute bottom-0 h-0.5 origin-left scale-0 translate-x-3 transition-transform duration-200 w-full rounded-[50vmin/10vmin] z-10 bg-accent-green",ref:v,style:m??d})]})};c.displayName="TabSelectors"}}]);
//# sourceMappingURL=6690.js.map