!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="87e2be1a-2829-49ca-9850-034764c1e557",e._sentryDebugIdIdentifier="sentry-dbid-87e2be1a-2829-49ca-9850-034764c1e557")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.22.8"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["9744"],{68582:function(e,t,s){s.a(e,async function(e,l){try{s.r(t),s.d(t,{default:()=>L});var a=s(52322),i=s(56594),n=s(41172),d=s(73873),c=s(15969),r=s(75377),o=s(3493),u=s(26007),x=s(6011),m=s(78454),f=s(19623),g=s(69816),h=s(26571),k=s(72059),b=s(30464),w=s(29750),E=s(75958),v=s(2784),y=s(10289),p=s(46103),N=s(53221),j=s(49409),A=s(48534),S=s(76124),D=e([k,m,S]);[k,m,S]=D.then?(await D)():D;let T={loading:{title:"In Progress..."},success:{title:"Complete"},submitted:{title:"Submitted"},failed:{title:"Failed"}},L=(0,E.Pi)(e=>{var t;let{rootBalanceStore:s,rootStakeStore:l}=e,E=(0,y.TH)(),{validator:D,mode:L,forceChain:_,forceNetwork:G,provider:C}=(0,v.useMemo)(()=>{let e=JSON.parse(sessionStorage.getItem("navigate-stake-pending-txn-state")??"null");return(null==E?void 0:E.state)??e},[null==E?void 0:E.state]),M=(0,k.a7)(),R=(0,v.useMemo)(()=>_||M,[M,_]),I=(0,n.obn)(),U=(0,v.useMemo)(()=>G||I,[I,G]),{pendingTx:z,setPendingTx:H}=(0,n.EEe)(),Z=(0,y.s0)(),[$,P]=(0,v.useState)(""),[V,W]=(0,v.useState)(""),[O,B]=(0,v.useState)(!1),K=null==D?void 0:D.image,{data:q}=(0,n.S2A)(),{refetchDelegations:F}=(0,n.fHb)(),J=(0,v.useCallback)(()=>{s.refetchBalances(R,U)},[R,s,U]),X=(0,v.useCallback)(()=>{l.updateStake(R,U,!0)},[R,l,U]),{theme:Y}=(0,r.useTheme)();(0,v.useEffect)(()=>{P(null==z?void 0:z.txHash)},[null==z?void 0:z.txHash]),(0,v.useEffect)(()=>{z&&z.promise&&z.promise.then(e=>{e&&(0,i.isDeliverTxSuccess)(e)?H({...z,txStatus:"success"}):H({...z,txStatus:"failed"})},()=>H({...z,txStatus:"failed"})).catch(()=>{H({...z,txStatus:"failed"})}).finally(()=>{J(),X(),"lava"===R&&(null==q?void 0:q.restaking.extension)==="active"&&F()})},[]);let Q=(0,v.useMemo)(()=>({CLAIM_REWARDS:{loading:"claiming rewards",success:"claimed successfully",failed:"failed claiming",submitted:"claim submitted"},DELEGATE:{loading:"staking",success:"staked successfully",failed:"failed staking",submitted:"stake submitted"},UNDELEGATE:{loading:"unstaking",success:"unstaked successfully",failed:"failed unstaking",submitted:"unstake submitted"},CANCEL_UNDELEGATION:{loading:"cancelling unstake",success:"unstake cancelled successfully",failed:"failed cancelling unstake",submitted:"cancel undelegation submitted"},REDELEGATE:{loading:`switching ${C?"provider":"validator"}`,success:`${C?"provider":"validator"} switched successfully`,failed:`failed switching ${C?"provider":"validator"}`,submitted:"redelegation submitted"},CLAIM_AND_DELEGATE:{loading:"claiming and staking rewards",success:"claimed and staked successfully",failed:"failed claiming and staking",submitted:"claim and delegate submitted"}}),[C]),{explorerTxnUrl:ee}=(0,n.xGX)({forceChain:R,forceNetwork:U,forceTxHash:$});return(0,v.useEffect)(()=>{let e="CLAIM_REWARDS"===L||"UNDELEGATE"===L?null==z?void 0:z.receivedUsdValue:null==z?void 0:z.sentUsdValue;"-"===e&&(e="CLAIM_REWARDS"===L||"UNDELEGATE"===L?null==z?void 0:z.receivedAmount:null==z?void 0:z.sentAmount),W(e)},[L,null==z?void 0:z.receivedAmount,null==z?void 0:z.receivedUsdValue,null==z?void 0:z.sentAmount,null==z?void 0:z.sentUsdValue]),(0,a.jsxs)(m.Z,{children:[(0,a.jsx)(r.Header,{title:`Transaction ${T[(null==z?void 0:z.txStatus)??"loading"].title}`}),(0,a.jsxs)("div",{className:"flex flex-col justify-between p-6",style:{height:"calc(100% - 72px)"},children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,a.jsxs)("div",{className:"bg-white-100 dark:bg-gray-950 rounded-2xl w-full flex flex-col gap-y-2 items-center p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center h-[100px] w-[100px]",children:[(null==z?void 0:z.txStatus)==="loading"&&(0,a.jsx)(f.T,{color:"#29a874",className:"w-full h-full"}),(null==z?void 0:z.txStatus)==="success"&&(0,a.jsx)("img",{src:b.r.Activity.TxSwapSuccess,width:75,height:75}),(null==z?void 0:z.txStatus)==="failed"&&(0,a.jsx)("img",{src:b.r.Activity.TxSwapFailure,width:75,height:75})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-1 items-center",children:[(0,a.jsx)(g.Z,{size:"lg",className:"font-bold",color:"text-black-100 dark:text-white-100",children:V}),(0,a.jsx)(g.Z,{size:"sm",color:"text-black-100 dark:text-white-100",className:"font-medium text-center",children:null===(t=Q[L])||void 0===t?void 0:t[(null==z?void 0:z.txStatus)??"loading"]})]}),(0,a.jsxs)("div",{className:"flex gap-x-2",children:[D&&(0,a.jsxs)("div",{className:"flex items-center pr-3 pl-2 py-1.5 rounded-full bg-gray-50 dark:bg-gray-900 gap-x-1.5",children:[(0,a.jsx)("img",{className:"rounded-full",width:20,height:20,src:K??(null==D?void 0:D.image)??b.r.Misc.Validator,onError:(0,j._)(w.GenericLight)}),(0,a.jsx)("span",{className:"text-sm font-bold text-black-100 dark:text-white-100 text-center",children:(0,d.MD)(null==D?void 0:D.moniker,(0,A.oj)()?6+Math.floor((Math.min(window.innerWidth,400)-320)/81*7):10,0)})]}),C&&(0,a.jsxs)("div",{className:"flex items-center pr-3 pl-2 py-1.5 rounded-full bg-gray-50 dark:bg-gray-900 gap-x-1.5",children:[(0,a.jsx)("img",{className:"rounded-full",width:20,height:20,src:b.r.Misc.Validator,onError:(0,j._)(w.GenericLight)}),(0,a.jsx)("span",{className:"text-sm font-bold text-black-100 dark:text-white-100 text-center",children:(0,d.MD)(C.moniker,(0,A.oj)()?6+Math.floor((Math.min(window.innerWidth,400)-320)/81*7):10,0)})]})]})]}),$&&(0,a.jsx)(r.GenericCard,{isRounded:!0,title:(0,a.jsx)(g.Z,{size:"sm",color:"text-black-100 dark:text-white-100",className:"font-bold mb-1",children:"Transaction ID"}),subtitle:(0,a.jsx)(g.Z,{size:"md",color:"dark:text-gray-400 text-gray-600",className:"font-medium",children:(0,n.Hnh)($)}),className:"py-4 px-6 bg-white-100 dark:bg-gray-950",size:"md",icon:(0,a.jsxs)("div",{className:"flex gap-x-2 items-center shrink-0",children:[(0,a.jsx)("button",{onClick:()=>{N.i.copyText($??""),B(!0),setTimeout(()=>{B(!1)},2e3)},disabled:O,className:"bg-gray-50 dark:bg-gray-900 rounded-full flex items-center justify-center h-8 w-8 disabled:opacity-80",children:O?(0,a.jsx)(x.f,{size:18,weight:"fill",className:"text-green-500"}):(0,a.jsx)(o.K,{size:16,className:"text-black-100 dark:text-white-100"})}),ee&&(0,a.jsx)("button",{className:"h-8 w-8 rounded-full bg-gray-50 dark:bg-gray-900 flex items-center justify-center",onClick:e=>{e.stopPropagation(),window.open(ee,"_blank")},children:(0,a.jsx)(u.O,{size:16,className:"text-black-100 dark:text-white-100"})})]})}),(null==z?void 0:z.txStatus)==="success"&&(0,c.sSP)(R)&&(0,a.jsx)(S.H,{mode:L})]}),(0,a.jsxs)("div",{className:"flex gap-x-4",children:[(0,a.jsx)(r.Buttons.Generic,{onClick:()=>Z("/home"),size:"normal",color:Y===r.ThemeName.DARK?p.w.gray800:p.w.gray200,className:"mt-auto w-full",children:(0,a.jsx)(g.Z,{color:"dark:text-white-100 text-black-100",children:"Home"})}),(0,a.jsx)(r.Buttons.Generic,{onClick:()=>{"DELEGATE"===L?Z(-1):Z(`/stake?pageSource=${h.q.StakeTxnPage}`)},color:(null==z?void 0:z.txStatus)==="failed"||"DELEGATE"===L?p.w.green600:Y===r.ThemeName.DARK?p.w.white100:p.w.black100,size:"normal",className:"mt-auto w-full",disabled:(null==z?void 0:z.txStatus)==="loading",children:(0,a.jsx)(g.Z,{color:`${(null==z?void 0:z.txStatus)==="failed"||"DELEGATE"===L?"text-white-100 dark:text-white-100":"text-white-100 dark:text-black-100"}`,children:(null==z?void 0:z.txStatus)==="failed"?"Retry":"DELEGATE"===L?"Stake Again":"Done"})})]})]})]})});l()}catch(e){l(e)}})},76124:function(e,t,s){s.a(e,async function(e,l){try{s.d(t,{H:()=>u});var a=s(52322),i=s(36906),n=s(69816),d=s(75958);s(2784);var c=s(32692),r=e([c]);c=(r.then?(await r)():r)[0];let o={DELEGATE:"staking",UNDELEGATE:"unstaking",CANCEL_UNDELEGATION:"cancel unstaking",REDELEGATE:"restaking",CLAIM_REWARDS:null},u=(0,d.Pi)(e=>{let t=o[e.mode];if(!t)return null;let s=`Amount is queued for ${t} in next epoch (${c.t.timeLeft}).`;return(0,a.jsxs)("div",{className:"flex w-full bg-white-100 dark:bg-gray-950 p-4 rounded-2xl gap-2 items-center",children:[(0,a.jsx)(i.k,{size:20,className:"text-orange-500 dark:text-orange-300 shrink-0 items-center"}),(0,a.jsx)(n.Z,{className:"text-xs",children:s})]})});l()}catch(e){l(e)}})},32692:function(e,t,s){s.a(e,async function(e,l){try{s.d(t,{t:()=>r});var a=s(35239),i=s(36321),n=s(48346),d=s(30809),c=e([n]);n=(c.then?(await c)():c)[0];let r=new a.H9(n.lc,i.Ui,d.i);l()}catch(e){l(e)}})}}]);
//# sourceMappingURL=9744.js.map