!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6e9e4221-a652-4aaa-b481-17ccc99f51ba",e._sentryDebugIdIdentifier="sentry-dbid-6e9e4221-a652-4aaa-b481-17ccc99f51ba")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"0.22.8"};"use strict";(self.webpackChunk_leap_cosmos_extension=self.webpackChunk_leap_cosmos_extension||[]).push([["6551"],{30927:function(e,t,s){s.d(t,{Z:()=>i});var l=s(42765),n=s(91310),a=s(19785);function i(e,t){(0,a.Z)(2,arguments);var s=(0,l.Z)(t);return(0,n.Z)(e,1e3*s)}},63400:function(e,t,s){s.d(t,{u:()=>i});var l=s(52322),n=s(71769);s(2784);var a=s(70514);function i(e){let{className:t}=e;return(0,l.jsxs)("div",{className:(0,a.cn)("w-full flex flex-row items-start px-4 py-3 justify-start dark:bg-red-900 bg-red-100 rounded-2xl",t),children:[(0,l.jsx)(n.v,{weight:"fill",size:20,className:"mr-2 text-destructive-100 p-[2px]"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-foreground font-bold !leading-[20px]",children:"Unable to connect to ledger device"}),(0,l.jsx)("p",{className:"text-xs text-secondary-800 font-medium !leading-[19px] mt-1",children:"Please check if your ledger is connected and try again."})]})]})}},23751:function(e,t,s){s.d(t,{D:()=>a,KE:()=>i});var l=s(52322);s(2784);var n=s(86874);function a(){return(0,l.jsxs)("div",{className:"flex rounded-2xl bg-secondary gap-y-1.5 flex-col p-4 w-full",children:[(0,l.jsx)(n.Z,{className:"w-24 h-5"}),(0,l.jsx)(n.Z,{className:"w-80 h-10"}),(0,l.jsx)(n.Z,{className:"w-24 h-6"})]})}function i(e){return(0,l.jsx)("div",{className:"flex flex-col gap-4 text-xs",children:Array.from({length:e.count??1}).map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center px-4 py-3 bg-secondary-100 w-full rounded-xl gap-4",children:[(0,l.jsx)(n.Z,{width:36,height:36,circle:!0}),(0,l.jsx)(n.Z,{width:100,height:12}),(0,l.jsxs)("div",{className:"flex flex-col items-end ml-auto ",children:[(0,l.jsx)(n.Z,{width:40,height:8}),(0,l.jsx)(n.Z,{width:48,height:6})]})]},t))})}},17469:function(e,t,s){s.d(t,{Z:()=>i});var l=s(52322);s(2784);var n=s(86874);function a(){return(0,l.jsxs)("div",{className:"flex items-center px-4 py-3 bg-white-100 dark:bg-gray-900 w-full rounded-2xl my-2",children:[(0,l.jsx)(n.Z,{circle:!0,width:28,height:28,className:"z-0"}),(0,l.jsxs)("div",{className:"w-[120px] ml-2",children:[(0,l.jsx)(n.Z,{count:1,className:"z-0"}),(0,l.jsx)(n.Z,{count:1,className:"z-0"})]})]})}function i(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a,{}),(0,l.jsx)(a,{}),(0,l.jsx)(a,{}),(0,l.jsx)(a,{}),(0,l.jsx)(a,{})]})}},49728:function(e,t,s){s.d(t,{U:()=>d});var l=s(2784),n=s(10289),a=s(55736),i=s(48534),o=s(72565),r=s.n(o);let d=()=>{let e=(0,n.s0)();return(0,l.useCallback)(async()=>{let t=r().extension.getViews({type:"popup"}),s=0===t.length&&600===window.outerHeight&&400===window.outerWidth,l=-1!==t.findIndex(e=>e===window);if(s||l||(0,i.oj)()){if(!(0,i.oj)()){let e=(await r().windows.getAll()).find(e=>"popup"!==e.type);e&&r().tabs.create({url:r().runtime.getURL("index.html#/reconnect-ledger"),windowId:e.id}),window.close();return}window.open("index.html#/reconnect-ledger","_blank"),(0,a.I)()}else e("/reconnect-ledger")},[e])}},17328:function(e,t,s){s.d(t,{M:()=>n});var l=s(52322);s(2784);let n=e=>(0,l.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,l.jsx)("path",{d:"M9.37248 6.01333L9.98581 6.62667L3.94581 12.6667H3.33248V12.0533L9.37248 6.01333ZM11.7725 2C11.6058 2 11.4325 2.06667 11.3058 2.19333L10.0858 3.41333L12.5858 5.91333L13.8058 4.69333C14.0658 4.43333 14.0658 4.01333 13.8058 3.75333L12.2458 2.19333C12.1125 2.06 11.9458 2 11.7725 2ZM9.37248 4.12667L1.99915 11.5V14H4.49915L11.8725 6.62667L9.37248 4.12667Z",fill:"currentColor"})})},71845:function(e,t,s){s.d(t,{Z:()=>r});var l=s(52322),n=s(6806),a=s(2784);let i=new Map([["regular",(0,l.jsxs)(a.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_241_1099)",children:[(0,l.jsx)("path",{d:"M3 12.75H14.0625",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M3 8.25H21",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M3 17.25H7.125",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_241_1099",children:(0,l.jsx)("rect",{width:"24",height:"24",fill:"currentColor"})})})]},"regular")],["bold",(0,l.jsxs)(a.Fragment,{children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_256_253)",children:[(0,l.jsx)("path",{d:"M3 12.75H14.0625",stroke:"currentColor",strokeWidth:"2.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M3 8.25H21",stroke:"currentColor",strokeWidth:"2.25",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M3 17.25H7.125",stroke:"currentColor",strokeWidth:"2.25",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_256_253",children:(0,l.jsx)("rect",{width:"24",height:"24",fill:"currentColor"})})})]},"bold")],["fill",(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0H20C22.2091 0 24 1.79086 24 4V20C24 22.2091 22.2091 24 20 24H4C1.79086 24 0 22.2091 0 20V4C0 1.79086 1.79086 0 4 0ZM3 12C2.58579 12 2.25 12.3358 2.25 12.75C2.25 13.1642 2.58579 13.5 3 13.5H14.0625C14.4767 13.5 14.8125 13.1642 14.8125 12.75C14.8125 12.3358 14.4767 12 14.0625 12H3ZM2.25 8.25C2.25 7.83579 2.58579 7.5 3 7.5H21C21.4142 7.5 21.75 7.83579 21.75 8.25C21.75 8.66421 21.4142 9 21 9H3C2.58579 9 2.25 8.66421 2.25 8.25ZM3 16.5C2.58579 16.5 2.25 16.8358 2.25 17.25C2.25 17.6642 2.58579 18 3 18H7.125C7.53921 18 7.875 17.6642 7.875 17.25C7.875 16.8358 7.53921 16.5 7.125 16.5H3Z",fill:"currentColor"},"fill")]]),o=(0,a.forwardRef)((e,t)=>(0,l.jsx)(n.Z,{viewBox:"0 0 24 24",ref:t,...e,weights:i}));o.displayName="Sort";let r=o},42751:function(e,t,s){s.a(e,async function(e,l){try{s.r(t),s.d(t,{default:()=>I});var n=s(52322),a=s(41172),i=s(15969),o=s(35164),r=s(48272),d=s(6391),c=s.n(d),u=s(58885),m=s(51994),x=s(80588),f=s(23751),v=s(30927),h=s(10706),g=s(42941),p=s(65027),j=s(75958),E=s(2784),w=s(10289),b=s(94629),N=s(11764),y=s(81398),k=s(78220),C=s(15249),D=s(26869),S=s(69816),L=s(91486),A=s(13287),T=s(18823),M=s(80502),G=s(92621),P=s(20537),Z=s(26908),_=s(39719),R=s(92006),z=s(28345),F=e([p,h,R,C,z,u,m,x]);[p,h,R,C,z,u,m,x]=F.then?(await F)():F;let V=p.w.useGetWallet,I=(0,j.Pi)(e=>{var t,s,l,d,p,j,F;let{rootDenomsStore:I,delegationsStore:U,validatorsStore:O,unDelegationsStore:$,claimRewardsStore:H,rootBalanceStore:B,nmsStore:W}=e,[K,Y]=(0,E.useState)(),[J,X]=(0,E.useState)(!1),[q,Q]=(0,E.useState)(!1),[ee,et]=(0,E.useState)(!1),[es,el]=(0,E.useState)(!1),[en,ea]=(0,E.useState)(!1),[ei,eo]=(0,E.useState)(!1),[er,ed]=(0,E.useState)(!1),[ec,eu]=(0,E.useState)(!1),[em,ex]=(0,E.useState)(null),ef=(0,w.s0)(),ev=(0,w.TH)(),eh=(0,g.Z)().get("validatorAddress")??void 0,{toValidator:eg,fromValidator:ep,mode:ej="DELEGATE",delegation:eE,forceChain:ew,forceNetwork:eb,toProvider:eN,fromProvider:ey,providerDelegation:ek}=(0,E.useMemo)(()=>{let e=JSON.parse(sessionStorage.getItem("navigate-stake-input-state")??"null");return(null==ev?void 0:ev.state)||e||{}},[null==ev?void 0:ev.state]),[eC,eD]=(0,E.useState)(eN),eS=(0,a.a74)(),eL=(0,a.obn)(),eA=(0,E.useMemo)(()=>ew||eS,[eS,ew]),eT=(0,E.useMemo)(()=>eb||eL,[eL,eb]),eM=I.allDenoms,eG=U.delegationsForChain(eA),eP=O.validatorsForChain(eA),eZ=$.unDelegationsForChain(eA),e_=H.claimRewardsForChain(eA);(0,E.useEffect)(()=>{O.ensureValidatorsLoaded(eA,eT)},[eA,eT,O]);let[eR]=(0,a.JsT)(eM,eA,eT);(0,T.S)();let{network:ez}=(0,a.nDu)(eM,eG,eP,eZ,e_,eA,eT),{providers:eF}=(0,a.fHb)(),eV=(0,E.useMemo)(()=>{var e,t;return(0,b.z)((0,v.Z)(new Date,(null==ez?void 0:null===(t=ez.chain)||void 0===t?void 0:null===(e=t.params)||void 0===e?void 0:e.unbonding_time)??86410).toISOString(),"")},[ez]),eI=(0,E.useMemo)(()=>{var e;return null===(e=eP.validatorData.validators)||void 0===e?void 0:e.reduce((e,t)=>(e[t.address]=t,e),{})},[eP.validatorData.validators]),eU=(0,E.useMemo)(()=>Object.values(eI??{}).some(e=>{var t;return(null===(t=e.custom_attributes)||void 0===t?void 0:t.priority)===0}),[eI]),[eO,e$]=(0,E.useState)("DELEGATE"===ej&&!eU||"REDELEGATE"===ej&&!ey),eH=null==ez?void 0:ez.validatorAprs,{data:eB}=(0,a.S2A)(),{amount:eW,setAmount:eK,recommendedGasLimit:eY,userPreferredGasLimit:eJ,setUserPreferredGasLimit:eX,userPreferredGasPrice:eq,setUserPreferredGasPrice:eQ,gasOption:e0,setFeeDenom:e2,isLoading:e1,onReviewTransaction:e4,customFee:e5,feeDenom:e6,setGasOption:e3,error:e8,ledgerError:e7,setLedgerError:e9,showLedgerPopup:te,setMemo:tt}="lava"===eA&&(null==eB?void 0:null===(t=eB.restaking)||void 0===t?void 0:t.extension)==="active"?(0,a.$l7)(eM,ej,K,ep,[eE],[ek],eC,ey,void 0,eA,eT):(0,a.rKd)(eM,ej,K,ep,[eE],eA,eT),ts=(0,u.e7)(eM,{activeChain:eA,selectedNetwork:eT}),tl=V(eA),{activeWallet:tn}=(0,h.ZP)(),[ta,ti]=(0,E.useState)(null),[to,tr]=(0,E.useState)({option:e0,gasPrice:eq??ts.gasPrice}),[td,tc]=(0,E.useState)(),tu=(0,E.useMemo)(()=>{var e;return null===(e=B.allTokens)||void 0===e?void 0:e.find(e=>e.symbol===(null==eR?void 0:eR.coinDenom)&&e.tokenBalanceOnChain===eA&&!e.ibcChainInfo)},[null==eR?void 0:eR.coinDenom,B.allTokens,eA]),tm=(0,E.useMemo)(()=>{var e;return null===(e=B.allSpendableTokens)||void 0===e?void 0:e.find(e=>e.symbol===(null==eR?void 0:eR.coinDenom)&&e.tokenBalanceOnChain===eA&&!e.ibcChainInfo)},[null==eR?void 0:eR.coinDenom,B.allSpendableTokens,eA]),tx=(!tm||(null==tm?void 0:tm.amount)==="0")&&(null==tu?void 0:tu.amount)&&parseFloat(tu.amount)>0,tf=(0,a.Ewi)(eI,W,eA,eT),tv=(0,E.useMemo)(()=>tf.filter(e=>!e.jailed).filter(e=>e.address!==(null==ep?void 0:ep.address)).filter(e=>"cosmosvaloper1j78gfl4ml9h2xdduhw2cpgheu3hdalkpuvk7m5"!==e.address),[tf,null==ep?void 0:ep.address]),th=(0,E.useMemo)(()=>eg||(eh?null==eI?void 0:eI[eh]:void 0),[eg,eh,eI]),tg=(0,E.useMemo)(()=>{let e=[...eF];return"REDELEGATE"===ej&&e.push({provider:"empty_provider",moniker:"Empty Provider",address:"empty_provider",specs:[],stakestatus:"Active",delegateCommission:"",delegateLimit:"",delegateTotal:""}),e.filter(e=>e.address!==(null==ey?void 0:ey.address))},[null==ey?void 0:ey.address,ej,eF]);(0,E.useEffect)(()=>{tr({option:e0,gasPrice:ts.gasPrice})},[ts.gasPrice.amount.toString(),ts.gasPrice.denom]),(0,E.useEffect)(()=>{if(!K){if(eo(!0),th)Y(th),e$(!1);else if("DELEGATE"===ej){let e=Object.values(eI??{}).find(e=>{var t;return(null===(t=e.custom_attributes)||void 0===t?void 0:t.priority)===0});e&&Y(e)}eo(!1)}},[ej,K,th,eI]),(0,E.useEffect)(()=>{to.option&&e3(to.option),to.gasPrice&&eQ(to.gasPrice)},[to,e3,eQ]);let tp=(0,E.useCallback)((e,t)=>{tr(e),e2(t.denom)},[e2]),tj=(0,E.useCallback)(()=>{ex(ej),et(!1)},[ey,ej]),tE=(0,E.useCallback)(async()=>{try{let e=await tl(eA);await e4(e,tj,!1,{stdFee:e5,feeDenom:e6})}catch(e){e9(e.message),setTimeout(()=>{e9("")},6e3)}},[eA,e5,e6,tl,e4,e9,tj]);(0,E.useEffect)(()=>{ec&&new(c())(eW).gt(0)&&et(!0)},[ec,eW]),(0,E.useEffect)(()=>{var e,t;("DELEGATE"===ej||"REDELEGATE"===ej)&&(null==K?void 0:null===(e=K.custom_attributes)||void 0===e?void 0:e.priority)&&(null==K?void 0:null===(t=K.custom_attributes)||void 0===t?void 0:t.priority)>0?tt("Staked with Leap Wallet"):tt("")},[ej,null==K?void 0:null===(s=K.custom_attributes)||void 0===s?void 0:s.priority,tt]);let tw=(0,E.useMemo)(()=>eE?eE.balance:ek?ek.amount:void 0,[eE,ek]);(0,A.U)(e7||e8,{activeChain:eA,activeNetwork:eT,mode:ej});let tb=B.getLoadingStatusForChain(eA,eT),tN=null===(l=U.delegationsForChain(eA))||void 0===l?void 0:l.loadingDelegations;return(0,E.useEffect)(()=>()=>{ev.state||sessionStorage.removeItem("navigate-stake-input-state")},[ev.state]),(0,n.jsxs)(n.Fragment,{children:[K||ey?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R.w,{}),(0,n.jsxs)("div",{className:"flex flex-col gap-y-5 px-6 pb-6 pt-7 w-full flex-1 h-[calc(100%-132px)] overflow-y-scroll bg-secondary",children:[ep&&(0,n.jsx)(k.Z,{title:"Current Validator",selectedValidator:ep,setShowSelectValidatorSheet:e$,selectDisabled:!0,apr:eH&&eH[(null==ep?void 0:ep.address)??""]}),ey&&(0,n.jsx)(P.s,{title:"Current Provider",selectedProvider:ey,setShowSelectProviderSheet:X,selectDisabled:!0,rootDenomsStore:I}),(0,n.jsx)(D.Z,{amount:eW,setAmount:eK,adjustAmount:ec,setAdjustAmount:eu,token:tu,fees:null==e5?void 0:e5.amount[0],hasError:en,setHasError:ea,mode:ej,tokenLoading:tb,delegationBalance:tw,rootDenomsStore:I,activeChain:eA,activeNetwork:eT,delegationBalanceLoading:tN}),!ey&&(ei?(0,n.jsx)(f.D,{}):(0,n.jsx)(k.Z,{title:"lava"===eA&&(null==eB?void 0:null===(d=eB.restaking)||void 0===d?void 0:d.extension)==="active"&&"DELEGATE"===ej?"Stake to Validator":"Validator",selectedValidator:K,setShowSelectValidatorSheet:e$,selectDisabled:"UNDELEGATE"===ej&&!!th,apr:eH&&eH[(null==K?void 0:K.address)??""]})),"lava"===eA&&(null==eB?void 0:null===(p=eB.restaking)||void 0===p?void 0:p.extension)==="active"&&("DELEGATE"===ej||"REDELEGATE"===ej&&ey||"UNDELEGATE"===ej&&eN)&&(0,n.jsx)(P.s,{title:"DELEGATE"===ej?"Restake to Provider":"Provider",optional:"DELEGATE"===ej,selectedProvider:eC,setShowSelectProviderSheet:X,selectDisabled:"UNDELEGATE"===ej,rootDenomsStore:I}),tu&&new(c())(tu.amount).isEqualTo(0)&&(0,n.jsx)(N.Z,{rootDenomsStore:I,activeChain:eA,activeNetwork:eT}),new(c())(eW).isGreaterThan(0)&&(0,n.jsxs)("div",{className:"flex items-center justify-between px-2",children:[!(0,i.sSP)(eA)&&(0,n.jsxs)("div",{className:"text-xs font-medium",children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"Unstaking period: "}),(0,n.jsx)("span",{children:eV})]}),(null==td?void 0:td.fiatValue)&&(0,n.jsxs)("button",{onClick:()=>Q(!0),className:"flex items-center hover:cursor-pointer ml-auto gap-1 group",children:[(0,n.jsx)(o.P,{size:16}),(0,n.jsx)("span",{className:"text-xs text-secondary-800 font-medium group-hover:text-foreground transition-colors",children:null==td?void 0:td.fiatValue}),(0,n.jsx)(r.p,{size:12,className:"text-secondary-600 group-hover:text-secondary-800 transition-colors"})]})]}),tx&&(0,n.jsxs)(S.Z,{className:"px-3 font-medium text-center",size:"sm",color:"text-red-300",children:["Insufficient unlocked ",null==tu?void 0:tu.symbol," for gas fees. Please buy some and try again"]})]}),(0,n.jsx)("div",{className:"flex flex-col gap-4 w-full p-4 mt-auto sticky bottom-0 bg-secondary-100",children:(0,n.jsx)(L.zx,{className:"w-full",variant:en?"destructive":"default",onClick:()=>{if("DELEGATE"===ej&&parseFloat(eW)+((null==td?void 0:td.value)??0)>parseFloat((null==tu?void 0:tu.amount)??""))ed(!0);else{var e;"lava"!==eA||(null==eB?void 0:null===(e=eB.restaking)||void 0===e?void 0:e.extension)!=="active"||"DELEGATE"!==ej||eC?(null==tn?void 0:tn.watchWallet)?M.o.setShowPopup(!0):et(!0):el(!0)}},disabled:!new(c())(eW).isGreaterThan(0)||en||tx||(ep||"DELEGATE"===ej)&&!K||ey&&!eC||!!e7,children:en?"Insufficient Balance":`Review ${(0,y.P)(ej,!!ey)}`})})]}):null,(0,n.jsx)(C.Z,{isVisible:eO,onClose:()=>{K?e$(!1):ef(-1)},onValidatorSelect:e=>{Y(e),e$(!1)},validators:tv,apr:eH,forceChain:eA,forceNetwork:eT}),"lava"===eA&&(null==eB?void 0:null===(j=eB.restaking)||void 0===j?void 0:j.extension)==="active"&&(0,n.jsx)(Z.Z,{isVisible:J,onClose:()=>X(!1),onProviderSelect:e=>{eD(e),X(!1)},providers:tg}),(K||"REDELEGATE"===ej&&eC)&&(0,n.jsx)(y.Z,{isVisible:ee,isLoading:e1,onClose:()=>et(!1),onSubmit:tE,tokenAmount:eW,token:tu,validator:K,provider:eC,error:e8,gasError:ta,mode:ej,unstakingPeriod:eV,showLedgerPopup:te,ledgerError:e7,activeChain:eA}),"DELEGATE"===ej&&tu&&e5&&er?(0,n.jsx)(G.Z,{tokenAmount:eW,setTokenAmount:eK,token:tu,fee:e5.amount[0],onAdjust:()=>{ed(!1),eu(!0),et(!0)},onCancel:()=>{ed(!1)},isOpen:er}):null,"lava"===eA&&(null==eB?void 0:null===(F=eB.restaking)||void 0===F?void 0:F.extension)==="active"&&"DELEGATE"===ej&&(0,n.jsx)(_.Z,{isVisible:es,onClose:()=>el(!1),setShowSelectProviderSheet:()=>{el(!1),X(!0)},onReviewStake:()=>{el(!1),et(!0)}}),(0,n.jsx)(z.U,{mode:em,isOpen:!!em,onClose:()=>{eK(""),ex(null)},forceChain:eA,forceNetwork:eT}),(0,n.jsxs)(u.ZP,{recommendedGasLimit:eY,gasLimit:(null==eJ?void 0:eJ.toString())??eY,setGasLimit:e=>eX(Number(e.toString())),gasPriceOption:to,onGasPriceOptionChange:tp,error:ta,setError:ti,chain:eA,network:eT,rootDenomsStore:I,rootBalanceStore:B,children:[(0,n.jsx)(m.a,{className:"hidden",setDisplayFeeValue:tc,setShowFeesSettingSheet:Q}),(0,n.jsx)(x.k,{showFeesSettingSheet:q,onClose:()=>Q(!1),gasError:null})]})]})});l()}catch(e){l(e)}})},28345:function(e,t,s){s.a(e,async function(e,l){try{s.d(t,{U:()=>p});var n=s(52322),a=s(56594),i=s(41172),o=s(89187),r=s(96217),d=s(91486),c=s(72059),u=s(30464),m=s(75958),x=s(2784),f=s(62833),v=s(48346),h=s(90258),g=e([c,v]);[c,v]=g.then?(await g)():g;let p=(0,m.Pi)(e=>{let{isOpen:t,onClose:s,mode:l,forceChain:m,forceNetwork:g}=e,p=(0,c.a7)(),j=(0,i.obn)(),E=m??p,w=g??j,{pendingTx:b,setPendingTx:N}=(0,i.EEe)(),{explorerTxnUrl:y}=(0,i.xGX)({forceChain:E,forceNetwork:w,forceTxHash:null==b?void 0:b.txHash});return(0,x.useEffect)(()=>{(null==b?void 0:b.promise)&&b.promise.then(e=>{e&&(0,a.isDeliverTxSuccess)(e)?N({...b,txStatus:"success"}):N({...b,txStatus:"failed"})},()=>N({...b,txStatus:"failed"})).catch(()=>{N({...b,txStatus:"failed"})}).finally(()=>{v.jZ.refetchBalances(E,w),v.lc.updateStake(E,w,!0)})},[null==b?void 0:b.promise]),(0,n.jsxs)(r.Z,{fullScreen:!0,isOpen:t,onClose:s,containerClassName:"bg-secondary-50",className:"h-full flex flex-col",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-6 items-center my-auto",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-10 items-center",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(null==b?void 0:b.txStatus)==="loading"&&(0,n.jsx)("div",{className:"size-[100px] p-8 rounded-full bg-secondary-200 animate-spin",children:(0,n.jsx)("img",{className:"size-full",src:u.r.Swap.Rotate})}),(null==b?void 0:b.txStatus)==="success"&&(0,n.jsx)("div",{className:"size-[100px] p-8 rounded-full bg-green-400",children:(0,n.jsx)("img",{className:"size-full",src:u.r.Swap.CheckGreen})}),(null==b?void 0:b.txStatus)==="failed"&&(0,n.jsx)("div",{className:"size-[100px] p-8 rounded-full bg-red-600 dark:bg-red-400",children:(0,n.jsx)("img",{className:"size-full",src:u.r.Swap.FailedRed})})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,n.jsxs)("span",{className:"font-bold text-[1.5rem] text-center text-foreground",children:[h.d6[l||"DELEGATE"]," ",h.KT[(null==b?void 0:b.txStatus)||"loading"]]}),(null==b?void 0:b.subtitle2)&&"success"===b.txStatus?(0,n.jsx)("span",{className:"text-sm text-secondary-800 text-center mx-6",children:b.subtitle2}):null]})]}),y?(0,n.jsxs)("a",{target:"_blank",rel:"noreferrer",href:y,className:"flex font-medium items-center gap-1 text-sm text-accent-green hover:text-accent-green-200 transition-colors",children:["View transaction",(0,n.jsx)(o.T,{size:12})]}):null]}),(0,n.jsxs)("div",{className:"flex gap-x-4 mt-auto [&>*]:flex-1",children:[(0,n.jsx)(d.zx,{variant:"mono",asChild:!0,children:(0,n.jsx)(f.rU,{to:"/home",children:"Home"})}),(0,n.jsx)(d.zx,{onClick:s,disabled:(null==b?void 0:b.txStatus)==="loading",children:(null==b?void 0:b.txStatus)==="failed"?"Retry":"DELEGATE"===l?"Stake Again":"Done"})]})]})});l()}catch(e){l(e)}})},92621:function(e,t,s){s.d(t,{Z:()=>u});var l=s(52322),n=s(15969),a=s(75377),i=s(6391),o=s.n(i),r=s(96217),d=s(2784),c=s(46103);function u(e){let{isOpen:t,tokenAmount:s,fee:i,setTokenAmount:u,onAdjust:m,onCancel:x,token:f}=e,{theme:v}=(0,a.useTheme)(),h=(0,d.useMemo)(()=>{let e=(0,n.hI1)(f.amount??"0",(null==f?void 0:f.coinDecimals)??6),t=new(o())(e).minus((null==i?void 0:i.amount)??"");return t.lte(0)?"0":new(o())((0,n.TGo)(t.toString(),(null==f?void 0:f.coinDecimals)??6)).toFixed(6,1)},[null==i?void 0:i.amount,f.amount,null==f?void 0:f.coinDecimals]),g=(0,d.useCallback)(()=>{h?(u(h),m()):x()},[m,x,u,h]);(0,d.useEffect)(()=>{h?(u(h),m()):x()},[m,x,u,h]);let p=(0,d.useMemo)(()=>`${s} ${f.symbol??""}`,[f.symbol,s]),j=(0,d.useMemo)(()=>h?`${h} ${f.symbol??""}`:null,[f.symbol,h]);return(0,l.jsxs)(r.Z,{isOpen:t,onClose:x,title:"Adjust for Transaction Fees",children:[(0,l.jsxs)("div",{className:"rounded-2xl p-4 dark:bg-gray-900 bg-white-100 dark:text-gray-200 text-gray-800",children:[(0,l.jsxs)("p",{children:["Insufficient ",f.symbol??""," balance to pay transaction fees."]}),(0,l.jsxs)("p",{className:"mt-2",children:["Should we adjust the amount from"," ",(0,l.jsx)("span",{className:"text-green-500 font-medium",children:p})," to"," ",(0,l.jsx)("span",{className:"text-green-500 font-medium",children:j??"-"}),"?"]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-center gap-y-3 mt-5",children:[(0,l.jsx)(a.Buttons.Generic,{color:v===a.ThemeName.DARK?c.w.gray900:c.w.gray300,size:"normal",className:"w-full",title:"Don't adjust",onClick:x,children:"Cancel Transaction"}),(0,l.jsx)(a.Buttons.Generic,{color:c.w.green600,size:"normal",className:"w-full",title:"Auto-adjust",onClick:g,children:"Auto-adjust"})]})]})}},11764:function(e,t,s){s.d(t,{Z:()=>r});var l=s(52322),n=s(41172),a=s(91486),i=s(75958);s(2784);var o=s(10289);let r=(0,i.Pi)(e=>{let{rootDenomsStore:t,activeChain:s,activeNetwork:i}=e,[r]=(0,n.JsT)(t.allDenoms,s,i),d=(0,n.QSC)(),c=(0,o.s0)(),u=(0,n.QSC)("osmosis");return(0,l.jsxs)("div",{className:"flex w-full items-center justify-between p-5 rounded-xl bg-secondary-100",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"font-medium",children:"Insufficient balance to stake"}),(0,l.jsxs)("span",{className:"text-muted-foreground text-xs",children:["Get ",r.coinDenom??""," to stake and earn rewards"]})]}),(0,l.jsx)(a.zx,{size:"slim",variant:"mono",asChild:!0,onClick:()=>{c(`/swap?sourceChainId=${u.chainId}&sourceToken=${u.denom}&destinationChainId=${d.chainId}&destinationToken=${r.coinDenom}&pageSource=stake`)},children:(0,l.jsxs)("span",{children:["Get ",r.coinDenom??""]})})]})})},81398:function(e,t,s){s.d(t,{P:()=>y,Z:()=>C});var l=s(52322),n=s(41172),a=s(36906),i=s(6391),o=s.n(i),r=s(63400),d=s(42152),c=s(96217),u=s(91486),m=s(49728),x=s(30464),f=s(29750),v=s(63242),h=s(97680),g=s.n(h),p=s(2784),j=s(70514),E=s(49409),w=s(12499),b=s(48534),N=s(90258);let y=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case"DELEGATE":return"Stake";case"UNDELEGATE":return"Unstake";case"CANCEL_UNDELEGATION":return"Cancel Unstake";case"CLAIM_REWARDS":return"Claiming";case"REDELEGATE":return`Switching ${t?"Provider":"Validator"}`}},k=e=>(0,l.jsxs)("div",{className:(0,j.cn)("flex justify-between items-center p-6 rounded-xl bg-secondary-100 w-full",e.className),children:[(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"font-bold text-lg",children:e.title}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:e.subTitle})]}),(0,l.jsx)("img",{width:48,height:48,src:e.imgSrc,onError:(0,E._)(f.GenericLight),className:"border rounded-full bg-secondary-50"})]});function C(e){let{isVisible:t,onClose:s,onSubmit:i,tokenAmount:f,token:h,validator:j,isLoading:E,error:C,mode:D,unstakingPeriod:S,gasError:L,showLedgerPopup:A,provider:T,ledgerError:M,activeChain:G}=e,[P]=(0,n.fOz)(),Z=(0,m.U)(),{data:_}=(0,n.pD_)((null==j?void 0:j.image)?void 0:j),R=(null==j?void 0:j.image)||_||x.r.Misc.Validator,z=(0,p.useMemo)(()=>new(o())((null==h?void 0:h.usdPrice)??"").gt(0)?P(new(o())(f).times((null==h?void 0:h.usdPrice)??"")):"",[P,null==h?void 0:h.usdPrice,f]),F=(0,p.useMemo)(()=>(0,w.h)(M),[M]),V=(0,p.useCallback)(()=>{if(F){Z();return}i()},[F,i,Z]),I=M||C||L;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{isOpen:t,onClose:s,title:(0,l.jsx)("span",{className:"",children:"REDELEGATE"===D&&T?"Review provider switching":N.PV[D||"DELEGATE"]}),className:"p-6 pt-8",children:(0,l.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,l.jsx)(k,{title:`${(0,n.LHZ)(f)} ${null==h?void 0:h.symbol}`,subTitle:z,imgSrc:null==h?void 0:h.img}),j&&(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)(k,{title:(0,n.MDB)(null==j?void 0:j.moniker,b.sN?15+Math.floor((Math.min(window.innerWidth,400)-320)/81*7):10,2),subTitle:"Validator",imgSrc:R,className:"REDELEGATE"===D||"UNDELEGATE"===D&&"celestia"===G?"!rounded-b-none":""}),"REDELEGATE"===D&&j&&"celestia"!==G&&(0,l.jsxs)("div",{className:"flex items-start gap-1.5 px-3 py-2.5 rounded-b-xl text-blue-400 bg-blue-400/10",children:[(0,l.jsx)(a.k,{size:16,className:"shrink-0"}),(0,l.jsxs)("span",{className:"text-xs font-medium",children:["Redelegating to a new validator takes ",S," as funds unbond from the source validator, then moved to the new one."]})]}),("UNDELEGATE"===D||"REDELEGATE"===D)&&j&&"celestia"===G&&(0,l.jsxs)("div",{className:"flex items-start gap-1.5 px-3 py-2.5 rounded-b-xl bg-orange-200 dark:bg-orange-900",children:[(0,l.jsx)(a.k,{size:16,className:"shrink-0 text-orange-500 dark:text-orange-300"}),(0,l.jsx)("span",{className:"text-xs font-medium text-orange-500 dark:text-orange-300",children:"REDELEGATE"===D?`Claim your rewards from the existing validator before moving to a new one to
                    avoid loss of rewards`:"Claim your rewards from the validator before undelegating to avoid loss of rewards"})]})]}),T&&(0,l.jsx)(k,{title:(0,n.MDB)(T.moniker,b.sN?15+Math.floor((Math.min(window.innerWidth,400)-320)/81*7):10,2),subTitle:"Provider",imgSrc:x.r.Misc.Validator}),!F&&I&&(0,l.jsx)("p",{className:"text-xs font-bold text-destructive-100 px-2",children:I}),F&&(0,l.jsx)(r.u,{}),(0,l.jsx)(u.zx,{className:"w-full mt-4",disabled:E||!!C&&!M||!!L,onClick:V,children:F?"Connect Ledger":E?(0,l.jsx)(g(),{loop:!0,autoplay:!0,animationData:v,rendererSettings:{preserveAspectRatio:"xMidYMid slice"},className:"h-[24px] w-[24px]"}):`Confirm ${y(D,!!T)}`})]})}),A&&(0,l.jsx)(d.Z,{showLedgerPopup:A})]})}},18223:function(e,t,s){s.d(t,{Z:()=>o});var l=s(52322),n=s(26227),a=s(96217);s(2784);let i=["Random","Amount staked","APR"];function o(e){let{sortBy:t,setSortBy:s,isVisible:o,setVisible:r,onClose:d}=e;return(0,l.jsx)(a.Z,{isOpen:o,onClose:d,title:"Sort By",className:"p-6",children:(0,l.jsx)("div",{className:"flex flex-col gap-y-3",children:i.map(e=>(0,l.jsxs)("button",{className:"bg-secondary p-4 rounded-xl flex font-medium items-center justify-between gap-4 hover:bg-secondary-200 transition-colors",onClick:()=>{r(!1),s(e)},children:[e,t===e&&(0,l.jsx)(n.f,{size:24,weight:"fill"})]},e))})})}},78220:function(e,t,s){s.d(t,{Z:()=>m});var l=s(52322),n=s(41172),a=s(75377),i=s(91486),o=s(17328),r=s(30464),d=s(29750);s(2784);var c=s(49409),u=s(48534);function m(e){let{selectedValidator:t,setShowSelectValidatorSheet:s,selectDisabled:m,title:x,apr:f,loading:v}=e,{data:h}=(0,n.pD_)((null==t?void 0:t.image)?void 0:t),g=(null==t?void 0:t.image)||h||r.r.Misc.Validator,p=(0,a.useTheme)().theme;return(0,l.jsxs)("div",{className:"flex flex-col gap-4 p-5 rounded-xl bg-secondary-100",children:[(0,l.jsx)("span",{className:"font-medium text-sm text-muted-foreground",children:x}),(0,l.jsxs)("div",{className:"flex w-full items-center cursor-pointer justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("img",{src:t?g:p===a.ThemeName.DARK?d.GenericDark:d.GenericLight,onError:(0,c._)(d.GenericLight),className:"rounded-full",width:44,height:44}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"font-bold text-sm",children:t?(0,n.MDB)(t.moniker??"",u.sN?21+Math.floor((Math.min(window.innerWidth,400)-320)/81*7):30,0):v?"Loading...":"Select Validator"}),f&&!isNaN(+f)?(0,l.jsxs)("span",{className:"text-xs text-accent-success font-medium",children:[Number(100*f).toFixed(2),"%"]}):null]})]}),!m&&!v&&(0,l.jsx)(i.zx,{size:"icon",variant:"secondary",className:"bg-secondary-300 hover:bg-secondary-400",onClick:()=>s(!0),children:(0,l.jsx)(o.M,{size:24})})]})]})}},15249:function(e,t,s){s.a(e,async function(e,l){try{s.d(t,{Z:()=>S});var n=s(52322),a=s(41172),i=s(6391),o=s.n(i),r=s(27963),d=s(96217),c=s(17469),u=s(91486),m=s(84916),x=s(96128),f=s.n(x),v=s(72059),h=s(71845),g=s(30464),p=s(29750),j=s(75958),E=s(2784),w=s(86874),b=s(7474),N=s(42799),y=s(70514),k=s(49409),C=s(18223),D=e([v]);v=(D.then?(await D)():D)[0];let L=(0,j.Pi)(e=>{var t;let{validator:s,onClick:l,activeChain:i,activeNetwork:r,isSelected:d}=e,[c,u]=(0,E.useState)(!1),[m]=(0,a.JsT)(N.gb.allDenoms,i,r),{data:x}=(0,a.pD_)((null==s?void 0:s.image)?void 0:s),v=(null==s?void 0:s.image)||x||g.r.Misc.Validator,{commission:h,moniker:j,tokens:b}=(0,E.useMemo)(()=>{var e,t;let l=(0,a.MDB)(s.moniker,26+Math.floor((Math.min(window.innerWidth,400)-320)/81*7),0),n=`${f()((null===(e=s.delegations)||void 0===e?void 0:e.total_tokens_display)??s.tokens??"",{symbol:"",precision:0}).format()} ${m.coinDenom}`,i=(null===(t=s.commission)||void 0===t?void 0:t.commission_rates.rate)?`${new(o())(s.commission.commission_rates.rate).multipliedBy(100).toFixed(0)}%`:"N/A";return{moniker:l,tokens:n,commission:i}},[m.coinDenom,s]),C=(null===(t=s.custom_attributes)||void 0===t?void 0:t.priority)!==void 0&&s.custom_attributes.priority>=1;return(0,n.jsxs)("button",{onClick:l,className:(0,y.cn)("relative flex items-center flex-grow gap-4 px-5 py-4 mb-4 cursor-pointer rounded-xl w-full bg-secondary-100 hover:bg-secondary-200 transition-colors",C&&"py-[22.5px]",d&&"border border-monochrome"),children:[(0,n.jsxs)("div",{className:"relative shrink-0 h-9 w-9",children:[(0,n.jsx)("img",{src:v,onError:(0,k._)(p.GenericLight),onLoadCapture:()=>{u(!0)},width:36,height:36,className:"border rounded-full border-secondary-100"}),!c&&(0,n.jsx)(w.Z,{circle:!0,className:"absolute inset-0"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-0.5 justify-center items-start w-full",children:[(0,n.jsx)("span",{className:"font-bold text-sm text-start",children:j}),C&&(0,n.jsx)("span",{className:"text-xs text-accent-success font-medium",children:"Promoted"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-0.5 items-end w-full",children:[(0,n.jsx)("span",{className:"font-medium text-sm",children:b}),(0,n.jsxs)("span",{className:"font-medium text-xs text-muted-foreground",children:["Commission: ",h]})]})]})});function S(e){let{isVisible:t,onClose:s,onValidatorSelect:l,validators:i,apr:o,selectedValidator:x,forceChain:f,forceNetwork:p}=e,[j,w]=(0,E.useState)(""),[N,y]=(0,E.useState)(!1),[k,D]=(0,E.useState)("Random"),S=(0,v.a7)(),A=(0,a.obn)(),T=f??S,M=p??A,[G,P]=(0,E.useState)(!1),[Z,_]=(0,E.useMemo)(()=>{P(!0);let e=i.filter(e=>e.moniker.toLowerCase().includes(j.toLowerCase())||e.address.includes(j));e.sort((e,t)=>{switch(k){case"Amount staked":return+(e.tokens??"")<+(t.tokens??"")?1:-1;case"APR":return o?o[e.address]<o[t.address]?1:-1:0;case"Random":return Math.random()-.5}}),"Random"===k&&e.sort((e,t)=>{var s,l;let n=null===(s=e.custom_attributes)||void 0===s?void 0:s.priority,a=null===(l=t.custom_attributes)||void 0===l?void 0:l.priority;return void 0!==n&&void 0!==a?n!==a?n-a:Math.random()-.5:void 0!==n?-1:+(void 0!==a)});let t=e.filter(e=>!1!==e.active),s=e.filter(e=>!1===e.active);return P(!1),[t,j?s:[]]},[i,j,k,o]),R=(0,E.useMemo)(()=>{let e=[...Z];return _.length>0&&(e.push({itemType:"inactiveHeader"}),e.push(..._)),e},[Z,_]),z=(0,E.useCallback)((e,t)=>"itemType"in t?null:(0,n.jsx)(L,{validator:t,onClick:()=>l(t),activeChain:T,activeNetwork:M,isSelected:(null==x?void 0:x.address)===t.address}),[T,M,l,null==x?void 0:x.address]);return(0,n.jsxs)(d.Z,{fullScreen:!0,isOpen:t,onClose:()=>{w(""),s()},title:"Select Validator",className:"p-6 overflow-auto flex flex-col gap-7 h-full !pb-0",children:[(0,n.jsxs)("div",{className:"flex gap-x-2 justify-between items-center",children:[(0,n.jsx)(m.M,{value:j,onChange:e=>w(e.target.value),"data-testing-id":"validator-input-search",placeholder:"Enter validator name",onClear:()=>w("")}),(0,n.jsx)(u.zx,{size:"icon",variant:"secondary",className:"text-muted-foreground h-12 w-14",onClick:()=>y(!0),children:(0,n.jsx)(h.Z,{size:20})})]}),G&&(0,n.jsx)(c.Z,{}),!G&&0===R.length&&(0,n.jsx)(r.S,{isRounded:!0,subHeading:"Try a different search term",src:g.r.Misc.Explore,heading:`No validators found for '${j}'`,"data-testing-id":"select-validator-empty-card"}),!G&&R.length>0&&(0,n.jsx)(b.OO,{data:R,itemContent:z,className:"flex-1 w-full overflow-auto pb-4"}),(0,n.jsx)(C.Z,{onClose:()=>y(!1),isVisible:N,setVisible:y,setSortBy:D,sortBy:k,activeChain:T})]})}l()}catch(e){l(e)}})},26869:function(e,t,s){s.d(t,{Z:()=>p});var l=s(52322),n=s(41172),a=s(15969),i=s(6391),o=s.n(i),r=s(91486),d=s(18919),c=s(14981),u=s(4370),m=s(9832),x=s(75958),f=s(2784),v=s(81354),h=s(46338),g=s(90258);let p=(0,x.Pi)(e=>{let{token:t,amount:s,setAmount:i,fees:x,hasError:p,setHasError:j,mode:E,delegationBalance:w,adjustAmount:b,setAdjustAmount:N,tokenLoading:y,rootDenomsStore:k,activeChain:C,activeNetwork:D,delegationBalanceLoading:S}=e,L=(0,f.useRef)(null);(0,f.useRef)(!1);let[A]=(0,n.JsT)(k.allDenoms,C,D),[T]=(0,n.fOz)(),[M,G]=(0,f.useState)(""),[P,Z]=(0,f.useState)(!1),[_,R]=(0,f.useState)(!1),z=(0,f.useMemo)(()=>M?P?new(o())(M).dividedBy(new(o())((null==t?void 0:t.usdPrice)??"0")).toString():new(o())(M).multipliedBy(new(o())((null==t?void 0:t.usdPrice)??"0")).toString():"",[M,P,null==t?void 0:t.usdPrice]),F=(0,f.useMemo)(()=>{if("DELEGATE"!==E)return new(o())(P?(null==w?void 0:w.currencyAmount)??"":(null==w?void 0:w.amount)??"");let e=(0,a.hI1)((null==t?void 0:t.amount)??"0",(null==t?void 0:t.coinDecimals)??6),s=new(o())(e).minus((null==x?void 0:x.amount)??"0");if(s.lte(0))return new(o())(0);let l=new(o())((0,a.TGo)(s.toString(),(null==t?void 0:t.coinDecimals)??6));return P?new(o())(l).multipliedBy((null==t?void 0:t.usdPrice)??"0"):l},[w,null==x?void 0:x.amount,P,E,t]),V=(0,f.useCallback)(e=>{let s;let l=new(o())(e);if(l.isLessThan(0)||(s="DELEGATE"===E?P?(null==t?void 0:t.usdValue)??"0":(null==t?void 0:t.amount)??"0":P?(null==w?void 0:w.currencyAmount)??"":(null==w?void 0:w.amount)??"",l.isGreaterThan(s))){j(!0);return}j(!1)},[null==w?void 0:w.amount,null==w?void 0:w.currencyAmount,P,E,j,t]),I=(0,f.useMemo)(()=>new(o())(P?("DELEGATE"===E?null==t?void 0:t.usdValue:null==w?void 0:w.currencyAmount)??"":("DELEGATE"===E?null==t?void 0:t.amount:null==w?void 0:w.amount)??""),[null==w?void 0:w.amount,null==w?void 0:w.currencyAmount,P,E,null==t?void 0:t.amount,null==t?void 0:t.usdValue]),U=(0,f.useCallback)(e=>{G(e),V(e)},[V]);return(0,f.useEffect)(()=>{b&&(P?G((parseFloat(s)*parseFloat((null==t?void 0:t.usdPrice)??"0")).toFixed(6)):G(s),N(!1))},[b]),(0,f.useEffect)(()=>{M&&!p?i((P?parseFloat(M)/parseFloat((null==t?void 0:t.usdPrice)??"0"):parseFloat(M)).toFixed(6)):i("")},[M,P,null==t?void 0:t.usdPrice,p]),(0,f.useEffect)(()=>{"DELEGATE"===E?R(y):R(S)},[E,y,S]),(0,f.useEffect)(()=>{if(!v.K5.updateAllowed()||!x||!(null==t?void 0:t.amount)||!M||"DELEGATE"!==E)return;let e=new(o())(M??0),s=new(o())((null==t?void 0:t.amount)??0);if(e.lte(0)||e.gt(s))return;let l=x.denom,n=(null==t?void 0:t.ibcDenom)||(null==l?void 0:l.startsWith("ibc/"))?(null==t?void 0:t.ibcDenom)===l:(null==t?void 0:t.coinMinimalDenom)===l,i=v.K5.shouldTerminate(),r=(null==t?void 0:t.coinDecimals)||6,d=new(o())((0,a.TGo)(x.amount??"0",r));if(i&&(!n||e.plus(d).lte(s)))return;let c=s.minus(n?d:0),u=c.toFixed(r,o().ROUND_DOWN),m=e.toFixed(r,o().ROUND_DOWN);if(!c.lte(0)&&u!=m&&(!i||!(u>m))){if(P){if(!(null==t?void 0:t.usdPrice))return;U(c.multipliedBy(t.usdPrice).toString())}else U(u);v.K5.incrementUpdateCount()}},[x,U,M,P,E,null==t?void 0:t.amount,null==t?void 0:t.coinDecimals,null==t?void 0:t.coinMinimalDenom,null==t?void 0:t.ibcDenom,null==t?void 0:t.usdPrice]),(0,l.jsxs)("div",{className:"flex flex-col gap-y-3 rounded-xl bg-secondary-100 p-5",children:[(0,l.jsx)("span",{className:"text-sm text-muted-foreground font-medium",children:g.Nb[E]}),(0,l.jsx)("input",{ref:L,className:"bg-transparent text-[1.5rem] font-bold caret-blue-200 outline-none border-none focus-within:placeholder:opacity-0",value:P?`$${M}`:M,onChange:e=>{var t,s,l,n;let a=null===(l=(n=e.target.value.replace(/\$/,"")).replace)||void 0===l?void 0:null===(s=l.call(n,/^0+(?=\d)/,""))||void 0===s?void 0:null===(t=s.replace)||void 0===t?void 0:t.call(s,/(\.+)/g,".");/^\d*\.?\d*$/.test(a)&&(G(a),V(a),v.K5.disableUpdateInput())},placeholder:"0",autoFocus:!0}),(0,l.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:M?P?`${(0,n.LHZ)(z)} ${null==A?void 0:A.coinDenom}`:T(new(o())(z)):P?"$0.00":"0.00"}),(0,l.jsx)("button",{onClick:()=>{var e;M&&G(P?(parseFloat(M)/parseFloat((null==t?void 0:t.usdPrice)??"0")).toFixed(6):(parseFloat(M)*parseFloat((null==t?void 0:t.usdPrice)??"0")).toFixed(6)),Z(!P),null===(e=L.current)||void 0===e||e.focus()},title:P?"Switch to amount":"Switch to USD",className:"rounded-full size-5 bg-secondary-200 hover:bg-secondary-300 items-center flex gap-1 justify-center shrink-0 "+r.YV,children:(0,l.jsx)(m.T,{className:"!leading-[12px] rotate-90 p-1 size-[18px]"})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(c.M,{mode:"wait",children:_?(0,l.jsx)(d.O,{className:"w-16 h-5",asChild:!0,children:(0,l.jsx)(u.E.div,{transition:h._M,variants:h.K0,initial:"hidden",animate:"visible",exit:"hidden"})},"loading"):(0,l.jsxs)(u.E.span,{className:"text-sm font-medium text-muted-foreground",transition:h._M,variants:h.K0,initial:"hidden",animate:"visible",exit:"hidden",children:[I.eq(0)?"0":P?T(I):(0,n.LHZ)(I.toString())," ",null==A?void 0:A.coinDenom]},"balance")}),(0,l.jsx)("button",{className:"ml-0.5 text-muted-foreground text-sm font-medium bg-secondary-200 px-1.5 rounded-full hover:text-foreground hover:bg-secondary-300 transition-colors "+r.YV,onClick:()=>{U(F.dividedBy(2).toFixed(6,1).toString()),v.K5.disableUpdateInput()},children:"50%"}),(0,l.jsx)("button",{className:"text-muted-foreground text-sm font-medium bg-secondary-200 px-2 rounded-full hover:text-foreground hover:bg-secondary-300 transition-colors "+r.YV,onClick:()=>{U(F.toFixed(6,1).toString()),v.K5.allowUpdateInput()},children:"Max"})]})]})]})})},61012:function(e,t,s){s.d(t,{Z:()=>a});var l=s(52322),n=s(69816);function a(e){let{provider:t}=e;return(0,l.jsxs)("div",{className:"flex flex-col py-3 px-4 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-800 rounded-lg gap-y-2 w-[220px]",children:[t.specs.length>0&&(0,l.jsx)(n.Z,{size:"sm",className:"font-bold text-left",color:"text-gray-900 dark:text-gray-100",children:t.specs.map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(", ")}),(0,l.jsxs)(n.Z,{size:"xs",className:"font-medium text-left",color:"text-gray-700 dark:text-gray-300",children:["Commission"," ",parseInt(t.delegateCommission??"0")>0?`${t.delegateCommission}%`:"-"]}),(0,l.jsx)(n.Z,{size:"xs",className:"font-medium text-left",color:"text-gray-700 dark:text-gray-300",children:"APR is estimated and influenced by various factors such as number of delegators. More information is available in our tokenomics: docs.lavanet.xyz/token"})]})}s(2784)},20537:function(e,t,s){s.d(t,{s:()=>g});var l=s(52322),n=s(41172),a=s(75377),i=s(36906),o=s(91486),r=s(14361),d=s(17328),c=s(30464),u=s(29750),m=s(75958),x=s(2784),f=s(49409),v=s(48534),h=s(61012);let g=(0,m.Pi)(e=>{let{selectedProvider:t,setShowSelectProviderSheet:s,selectDisabled:m,title:g,optional:p,rootDenomsStore:j}=e,E=(0,a.useTheme)().theme,{apr:w}=(0,n.EXf)((null==t?void 0:t.provider)??"",j.allDenoms),[b,N]=(0,x.useState)(!1);return(0,x.useCallback)(()=>{N(!0)},[]),(0,x.useCallback)(()=>{N(!1)},[]),(0,l.jsxs)("div",{className:"flex flex-col gap-4 p-5 rounded-xl bg-secondary-100",children:[(0,l.jsxs)("div",{className:"flex justify-between w-full",children:[(0,l.jsx)("span",{className:"font-medium text-sm text-muted-foreground",children:g}),t&&(0,l.jsx)(r.pn,{delayDuration:100,children:(0,l.jsxs)(r.u,{children:[(0,l.jsx)(r.aJ,{children:(0,l.jsx)(i.k,{size:18,className:"text-gray-400 dark:text-gray-600"})}),(0,l.jsx)(r._v,{side:"left",className:"bg-transparent border-none",children:(0,l.jsx)(h.Z,{provider:t})})]})})]}),(0,l.jsxs)("div",{className:"flex w-full items-center cursor-pointer justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("img",{src:t?c.r.Misc.Validator:E===a.ThemeName.DARK?u.GenericDark:u.GenericLight,onError:(0,f._)(u.GenericLight),className:"rounded-full",width:44,height:44}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("span",{className:"font-bold text-sm",children:t?(0,n.MDB)(t.moniker,v.sN?21+Math.floor((Math.min(window.innerWidth,400)-320)/81*7):30,0):`Select Provider ${p?"(optional)":""}`}),t&&parseFloat(w??"0")>0&&(0,l.jsxs)("span",{className:"text-xs text-accent-success font-medium",children:["Estimated APR\xa0",(0,l.jsx)("span",{className:"font-bold",children:(0,n._6x)(w??"",1)}),"%"]})]})]}),!m&&(0,l.jsx)(o.zx,{size:"icon",variant:"secondary",className:"bg-secondary-300 hover:bg-secondary-400",onClick:()=>s(!0),children:(0,l.jsx)(d.M,{size:24})})]})]})})},26908:function(e,t,s){s.d(t,{Z:()=>N});var l=s(52322),n=s(41172),a=s(36906),i=s(27963),o=s(96217),r=s(17469),d=s(69816),c=s(84916),u=s(14361),m=s(30464),x=s(29750),f=s(75958),v=s(2784),h=s(7474),g=s(42799),p=s(70514),j=s(49409),E=s(48534),w=s(61012);let b=(0,f.Pi)(e=>{let{provider:t,onClick:s,rootDenomsStore:i}=e,[o,r]=(0,v.useState)(!1),{apr:d}=(0,n.EXf)(t.provider,i.allDenoms);return(0,v.useCallback)(()=>{r(!0)},[]),(0,v.useCallback)(()=>{r(!1)},[]),(0,l.jsxs)("button",{onClick:s,className:(0,p.cn)("relative flex items-center flex-grow gap-4 px-5 py-4 mb-4 cursor-pointer rounded-xl w-full bg-secondary-100 hover:bg-secondary-200 transition-colors"),children:[(0,l.jsx)("img",{src:m.r.Misc.Validator,onError:(0,j._)(x.GenericLight),width:36,height:36,className:"border rounded-full border-secondary-100"}),(0,l.jsx)("div",{className:"flex flex-col flex-grow gap-0.5 justify-center items-start w-full",children:(0,l.jsxs)("div",{className:"flex flex-col items-start justify-between w-full",children:[(0,l.jsx)("span",{className:"font-bold text-sm text-start",children:(0,n.MDB)(t.moniker,(0,E.oj)()?22+Math.floor((Math.min(window.innerWidth,400)-320)/81*7):25,0)}),t.specs.length>0&&(0,l.jsx)("span",{className:"font-medium text-muted-foreground text-xs",children:`${t.specs.length} Services`})]})}),(0,l.jsxs)("div",{className:"flex flex-col gap-0.5 items-end w-full",children:[(0,l.jsx)(u.pn,{delayDuration:100,children:(0,l.jsxs)(u.u,{children:[(0,l.jsx)(u.aJ,{children:(0,l.jsx)(a.k,{size:18,className:"text-gray-400 dark:text-gray-600"})}),(0,l.jsx)(u._v,{side:"left",className:"bg-transparent border-none",children:(0,l.jsx)(w.Z,{provider:t})})]})}),parseFloat(d??"0")>0&&(0,l.jsxs)("span",{className:"font-medium text-xs text-muted-foreground",children:["Estimated APR\xa0",(0,l.jsx)("span",{className:"font-bold",children:(0,n._6x)(d??"",1)}),"%"]})]})]})});function N(e){let{isVisible:t,onClose:s,onProviderSelect:n,providers:a}=e,[u,x]=(0,v.useState)(""),[f,p]=(0,v.useState)(!1),[j,E]=(0,v.useMemo)(()=>{p(!0);let e=a.filter(e=>e.moniker&&e.moniker.toLowerCase().includes(u.toLowerCase())).slice(0,100);e.sort(()=>Math.random()-.5);let t=e.filter(e=>"Active"===e.stakestatus),s=e.filter(e=>"Inactive"===e.stakestatus);return p(!1),[t,u?s:[]]},[a,u]),w=(0,v.useMemo)(()=>{let e=[...j];return E.length>0&&(e.push({itemType:"inactiveHeader"}),e.push(...E)),e},[j,E]),N=(0,v.useCallback)((e,t)=>"itemType"in t?(0,l.jsx)(d.Z,{size:"xs",color:"text-gray-700 dark:text-gray-400",className:"mb-4",children:"Inactive Provider"}):(0,l.jsx)(b,{provider:t,onClick:()=>n(t),rootDenomsStore:g.gb}),[n]);return(0,l.jsxs)(o.Z,{fullScreen:!0,isOpen:t,onClose:()=>{x(""),s()},title:"Select Provider",className:"p-6 overflow-auto flex flex-col gap-7 h-full !pb-0",children:[(0,l.jsx)(c.M,{value:u,onChange:e=>x(e.target.value),"data-testing-id":"validator-input-search",placeholder:"Enter provider name",onClear:()=>x("")}),f&&(0,l.jsx)(r.Z,{}),!f&&0===w.length&&(0,l.jsx)(i.S,{isRounded:!0,subHeading:"Try a different search term",src:m.r.Misc.Explore,heading:`No providers found for '${u}'`,"data-testing-id":"select-provider-empty-card"}),!f&&w.length>0&&(0,l.jsx)(h.OO,{data:w,itemContent:N,className:"flex-1 w-full overflow-auto pb-4"})]})}},39719:function(e,t,s){s.d(t,{Z:()=>d});var l=s(52322),n=s(96217),a=s(69816),i=s(91486);s(2784);var o=s(42799),r=s(20537);function d(e){let{isVisible:t,onClose:s,setShowSelectProviderSheet:d,onReviewStake:c}=e;return(0,l.jsx)(n.Z,{isOpen:t,onClose:s,title:"Restake with a Provider",className:"p-6",children:(0,l.jsxs)("div",{className:"flex flex-col gap-y-6",children:[(0,l.jsx)(a.Z,{className:"text-gray-400 dark:text-gray-600 text-center",size:"sm",children:"You're missing out on increased rewards. Select a provider to restake with for increased APR."}),(0,l.jsx)(r.s,{selectDisabled:!1,title:"Provider",setShowSelectProviderSheet:d,rootDenomsStore:o.gb}),(0,l.jsx)(i.zx,{onClick:c,className:"w-full",children:"Review Stake"})]})})}},92006:function(e,t,s){s.a(e,async function(e,l){try{s.d(t,{w:()=>f});var n=s(52322),a=s(43166),i=s(22764),o=s(16283),r=s(85027),d=s(86240),c=s(35065),u=s(2784),m=s(10289),x=e([c]);c=(x.then?(await x)():x)[0];let f=e=>{let{disableWalletButton:t,setShowSearchInput:s,onBackClick:l}=e,x=(0,m.s0)(),f=(0,d.v)(),[v,h]=(0,u.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.m,{children:[(0,n.jsx)(a.X,{size:36,className:"text-muted-foreground hover:text-foreground cursor-pointer p-2",onClick:()=>{l?l():x(-1)}}),(0,n.jsx)(o.G2,{showDropdown:!0,showWalletAvatar:!0,className:"absolute top-1/2 right-1/2 translate-x-1/2 -translate-y-1/2",walletName:f.walletName,walletAvatar:f.walletAvatar,handleDropdownClick:()=>h(!t)}),s&&(0,n.jsx)(i.Y,{size:36,className:"text-muted-foreground hover:text-foreground cursor-pointer p-2",onClick:()=>s(e=>!e)})]}),(0,n.jsx)(c.Z,{isVisible:v,onClose:()=>h(!1),title:"Your Wallets"})]})};l()}catch(e){l(e)}})},90258:function(e,t,s){s.d(t,{KT:()=>l,Nb:()=>a,PV:()=>i,d6:()=>n});let l={loading:"in progress",success:"successful",submitted:"submitted",failed:"failed"},n={DELEGATE:"Stake",UNDELEGATE:"Unstake",REDELEGATE:"Switching",CLAIM_REWARDS:"Claim",CANCEL_UNDELEGATION:"Cancel unstake",CLAIM_AND_DELEGATE:"Claim"},a={DELEGATE:"Enter amount to be staked",REDELEGATE:"Enter amount to be redelegated",UNDELEGATE:"Enter unstaking amount",CLAIM_REWARDS:"Enter amount to be claimed",CANCEL_UNDELEGATION:"Enter amount to be cancelled",CLAIM_AND_DELEGATE:"Enter amount to be claimed"},i={CLAIM_REWARDS:"Review claim",CLAIM_AND_DELEGATE:"Review claim and stake",DELEGATE:"Review stake",UNDELEGATE:"Review unstake",REDELEGATE:"Review validator switching",CANCEL_UNDELEGATION:"Review cancel unstake"}},12499:function(e,t,s){s.d(t,{h:()=>l});let l=e=>{var t;return!!e&&(null==e?void 0:null===(t=e.toLowerCase())||void 0===t?void 0:t.includes("unable to connect to ledger device. please check if your ledger is connected and try again."))}},94629:function(e,t,s){s.d(t,{z:()=>a});var l=s(28879),n=s.n(l);let a=(e,t,s)=>{let l=n()(e).diff(s??new Date),a=Math.floor(l/864e5),i=Math.floor(l/36e5),o=Math.floor((l-36e5*i)/6e4),r=Math.floor((l-36e5*i-6e4*o)/1e3),d="";for(let e of[[a,"day"],[i,"hour"],[o,"minute"],[r,"second"]])if(0!==e[0]){d=`${e[0]} ${1===e[0]?e[1]:e[1]+"s"} ${t??"left"}`;break}return d}}}]);
//# sourceMappingURL=6551.js.map